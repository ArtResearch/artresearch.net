(window.webpackJsonp=window.webpackJsonp||[]).push([[182],{664:function(e,o,t){"use strict";(function(e){function _extends(){return(_extends=Object.assign||function(e){for(var o=1;o<arguments.length;o++){var t=arguments[o];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r,i=(r=function extendStatics(e,o){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,o){e.__proto__=o}||function(e,o){for(var t in o)o.hasOwnProperty(t)&&(e[t]=o[t])})(e,o)},function(e,o){function __(){this.constructor=e}r(e,o),e.prototype=null===o?Object.create(o):(__.prototype=o.prototype,new __)});Object.defineProperty(o,"__esModule",{value:!0});var n,s=t(1),d="undefined"==typeof navigator||!0===e.PREVENT_CODEMIRROR_RENDER;d||(n=t(28));var p=function(){function Helper(){}return Helper.equals=function(e,o){var t=this,r=Object.keys,i=_typeof(e),n=_typeof(o);return e&&o&&"object"===i&&i===n?r(e).length===r(o).length&&r(e).every((function(r){return t.equals(e[r],o[r])})):e===o},Helper}(),a=function(){function Shared(e,o){this.editor=e,this.props=o}return Shared.prototype.delegateCursor=function(e,o,t){var r=this.editor.getDoc();t&&this.editor.focus(),o?r.setCursor(e):r.setCursor(e,null,{scroll:!1})},Shared.prototype.delegateScroll=function(e){this.editor.scrollTo(e.x,e.y)},Shared.prototype.delegateSelection=function(e,o){this.editor.getDoc().setSelections(e),o&&this.editor.focus()},Shared.prototype.apply=function(e){e&&e.selection&&e.selection.ranges&&this.delegateSelection(e.selection.ranges,e.selection.focus||!1),e&&e.cursor&&this.delegateCursor(e.cursor,e.autoScroll||!1,this.editor.getOption("autofocus")||!1),e&&e.scroll&&this.delegateScroll(e.scroll)},Shared.prototype.applyNext=function(e,o,t){e&&e.selection&&e.selection.ranges&&o&&o.selection&&o.selection.ranges&&!p.equals(e.selection.ranges,o.selection.ranges)&&this.delegateSelection(o.selection.ranges,o.selection.focus||!1),e&&e.cursor&&o&&o.cursor&&!p.equals(e.cursor,o.cursor)&&this.delegateCursor(t.cursor||o.cursor,o.autoScroll||!1,o.autoCursor||!1),e&&e.scroll&&o&&o.scroll&&!p.equals(e.scroll,o.scroll)&&this.delegateScroll(o.scroll)},Shared.prototype.applyUserDefined=function(e,o){o&&o.cursor&&this.delegateCursor(o.cursor,e.autoScroll||!1,this.editor.getOption("autofocus")||!1)},Shared.prototype.wire=function(e){var o=this;Object.keys(e||{}).filter((function(e){return/^on/.test(e)})).forEach((function(e){switch(e){case"onBlur":o.editor.on("blur",(function(e,t){o.props.onBlur(o.editor,t)}));break;case"onContextMenu":o.editor.on("contextmenu",(function(e,t){o.props.onContextMenu(o.editor,t)}));break;case"onCopy":o.editor.on("copy",(function(e,t){o.props.onCopy(o.editor,t)}));break;case"onCursor":o.editor.on("cursorActivity",(function(e){o.props.onCursor(o.editor,o.editor.getDoc().getCursor())}));break;case"onCursorActivity":o.editor.on("cursorActivity",(function(e){o.props.onCursorActivity(o.editor)}));break;case"onCut":o.editor.on("cut",(function(e,t){o.props.onCut(o.editor,t)}));break;case"onDblClick":o.editor.on("dblclick",(function(e,t){o.props.onDblClick(o.editor,t)}));break;case"onDragEnter":o.editor.on("dragenter",(function(e,t){o.props.onDragEnter(o.editor,t)}));break;case"onDragLeave":o.editor.on("dragleave",(function(e,t){o.props.onDragLeave(o.editor,t)}));break;case"onDragOver":o.editor.on("dragover",(function(e,t){o.props.onDragOver(o.editor,t)}));break;case"onDragStart":o.editor.on("dragstart",(function(e,t){o.props.onDragStart(o.editor,t)}));break;case"onDrop":o.editor.on("drop",(function(e,t){o.props.onDrop(o.editor,t)}));break;case"onFocus":o.editor.on("focus",(function(e,t){o.props.onFocus(o.editor,t)}));break;case"onGutterClick":o.editor.on("gutterClick",(function(e,t,r,i){o.props.onGutterClick(o.editor,t,r,i)}));break;case"onKeyDown":o.editor.on("keydown",(function(e,t){o.props.onKeyDown(o.editor,t)}));break;case"onKeyPress":o.editor.on("keypress",(function(e,t){o.props.onKeyPress(o.editor,t)}));break;case"onKeyUp":o.editor.on("keyup",(function(e,t){o.props.onKeyUp(o.editor,t)}));break;case"onMouseDown":o.editor.on("mousedown",(function(e,t){o.props.onMouseDown(o.editor,t)}));break;case"onPaste":o.editor.on("paste",(function(e,t){o.props.onPaste(o.editor,t)}));break;case"onRenderLine":o.editor.on("renderLine",(function(e,t,r){o.props.onRenderLine(o.editor,t,r)}));break;case"onScroll":o.editor.on("scroll",(function(e){o.props.onScroll(o.editor,o.editor.getScrollInfo())}));break;case"onSelection":o.editor.on("beforeSelectionChange",(function(e,t){o.props.onSelection(o.editor,t)}));break;case"onTouchStart":o.editor.on("touchstart",(function(e,t){o.props.onTouchStart(o.editor,t)}));break;case"onUpdate":o.editor.on("update",(function(e){o.props.onUpdate(o.editor)}));break;case"onViewportChange":o.editor.on("viewportChange",(function(e,t,r){o.props.onViewportChange(o.editor,t,r)}))}}))},Shared}(),c=function(e){function Controlled(o){var t=e.call(this,o)||this;return d||(t.applied=!1,t.appliedNext=!1,t.appliedUserDefined=!1,t.deferred=null,t.emulating=!1,t.hydrated=!1,t.initCb=function(){t.props.editorDidConfigure&&t.props.editorDidConfigure(t.editor)},t.mounted=!1),t}return i(Controlled,e),Controlled.prototype.hydrate=function(e){var o=this,t=e&&e.options?e.options:{},r=_extends({},n.defaults,this.editor.options,t);Object.keys(r).some((function(e){return o.editor.getOption(e)!==r[e]}))&&Object.keys(r).forEach((function(e){t.hasOwnProperty(e)&&o.editor.getOption(e)!==r[e]&&(o.editor.setOption(e,r[e]),o.mirror.setOption(e,r[e]))})),this.hydrated||(this.deferred?this.resolveChange():this.initChange(e.value||"")),this.hydrated=!0},Controlled.prototype.initChange=function(e){this.emulating=!0;var o=this.editor.getDoc(),t=o.lastLine(),r=o.getLine(o.lastLine()).length;o.replaceRange(e||"",{line:0,ch:0},{line:t,ch:r}),this.mirror.setValue(e),o.clearHistory(),this.mirror.clearHistory(),this.emulating=!1},Controlled.prototype.resolveChange=function(){this.emulating=!0;var e=this.editor.getDoc();"undo"===this.deferred.origin?e.undo():"redo"===this.deferred.origin?e.redo():e.replaceRange(this.deferred.text,this.deferred.from,this.deferred.to,this.deferred.origin),this.emulating=!1,this.deferred=null},Controlled.prototype.mirrorChange=function(e){var o=this.editor.getDoc();return"undo"===e.origin?(o.setHistory(this.mirror.getHistory()),this.mirror.undo()):"redo"===e.origin?(o.setHistory(this.mirror.getHistory()),this.mirror.redo()):this.mirror.replaceRange(e.text,e.from,e.to,e.origin),this.mirror.getValue()},Controlled.prototype.componentDidMount=function(){var e=this;d||(this.props.defineMode&&this.props.defineMode.name&&this.props.defineMode.fn&&n.defineMode(this.props.defineMode.name,this.props.defineMode.fn),this.editor=n(this.ref),this.shared=new a(this.editor,this.props),this.mirror=n((function(){})),this.editor.on("electricInput",(function(){e.mirror.setHistory(e.editor.getDoc().getHistory())})),this.editor.on("cursorActivity",(function(){e.mirror.setCursor(e.editor.getDoc().getCursor())})),this.editor.on("beforeChange",(function(o,t){if(!e.emulating){t.cancel(),e.deferred=t;var r=e.mirrorChange(e.deferred);e.props.onBeforeChange&&e.props.onBeforeChange(e.editor,e.deferred,r)}})),this.editor.on("change",(function(o,t){e.mounted&&e.props.onChange&&e.props.onChange(e.editor,t,e.editor.getValue())})),this.hydrate(this.props),this.shared.apply(this.props),this.applied=!0,this.mounted=!0,this.shared.wire(this.props),this.editor.getOption("autofocus")&&this.editor.focus(),this.props.editorDidMount&&this.props.editorDidMount(this.editor,this.editor.getValue(),this.initCb))},Controlled.prototype.componentWillReceiveProps=function(e){if(!d){var o={cursor:null};e.value!==this.props.value&&(this.hydrated=!1),this.props.autoCursor||void 0===this.props.autoCursor||(o.cursor=this.editor.getDoc().getCursor()),this.hydrate(e),this.appliedNext||(this.shared.applyNext(this.props,e,o),this.appliedNext=!0),this.shared.applyUserDefined(this.props,o),this.appliedUserDefined=!0}},Controlled.prototype.componentWillUnmount=function(){d||this.props.editorWillUnmount&&this.props.editorWillUnmount(n)},Controlled.prototype.shouldComponentUpdate=function(e,o){return!d},Controlled.prototype.render=function(){var e=this;if(d)return null;var o=this.props.className?"react-codemirror2 "+this.props.className:"react-codemirror2";return s.createElement("div",{className:o,ref:function ref(o){return e.ref=o}})},Controlled}(s.Component);o.Controlled=c;var h=function(e){function UnControlled(o){var t=e.call(this,o)||this;return d||(t.applied=!1,t.appliedUserDefined=!1,t.continueChange=!1,t.detached=!1,t.hydrated=!1,t.initCb=function(){t.props.editorDidConfigure&&t.props.editorDidConfigure(t.editor)},t.mounted=!1,t.onBeforeChangeCb=function(){t.continueChange=!0}),t}return i(UnControlled,e),UnControlled.prototype.hydrate=function(e){var o=this,t=e&&e.options?e.options:{},r=_extends({},n.defaults,this.editor.options,t);if(Object.keys(r).some((function(e){return o.editor.getOption(e)!==r[e]}))&&Object.keys(r).forEach((function(e){t.hasOwnProperty(e)&&o.editor.getOption(e)!==r[e]&&o.editor.setOption(e,r[e])})),!this.hydrated){var i=this.editor.getDoc(),s=i.lastLine(),d=i.getLine(i.lastLine()).length;i.replaceRange(e.value||"",{line:0,ch:0},{line:s,ch:d})}this.hydrated=!0},UnControlled.prototype.componentDidMount=function(){var e=this;d||(this.detached=!0===this.props.detach,this.props.defineMode&&this.props.defineMode.name&&this.props.defineMode.fn&&n.defineMode(this.props.defineMode.name,this.props.defineMode.fn),this.editor=n(this.ref),this.shared=new a(this.editor,this.props),this.editor.on("beforeChange",(function(o,t){e.props.onBeforeChange&&e.props.onBeforeChange(e.editor,t,e.editor.getValue(),e.onBeforeChangeCb)})),this.editor.on("change",(function(o,t){e.mounted&&e.props.onChange&&(e.props.onBeforeChange?e.continueChange&&e.props.onChange(e.editor,t,e.editor.getValue()):e.props.onChange(e.editor,t,e.editor.getValue()))})),this.hydrate(this.props),this.shared.apply(this.props),this.applied=!0,this.mounted=!0,this.shared.wire(this.props),this.editor.getDoc().clearHistory(),this.props.editorDidMount&&this.props.editorDidMount(this.editor,this.editor.getValue(),this.initCb))},UnControlled.prototype.componentWillReceiveProps=function(e){if(this.detached&&!1===e.detach&&(this.detached=!1,this.props.editorDidAttach&&this.props.editorDidAttach(this.editor)),this.detached||!0!==e.detach||(this.detached=!0,this.props.editorDidDetach&&this.props.editorDidDetach(this.editor)),!d&&!this.detached){var o={cursor:null};e.value!==this.props.value&&(this.hydrated=!1,this.applied=!1,this.appliedUserDefined=!1),this.props.autoCursor||void 0===this.props.autoCursor||(o.cursor=this.editor.getDoc().getCursor()),this.hydrate(e),this.applied||(this.shared.apply(this.props),this.applied=!0),this.appliedUserDefined||(this.shared.applyUserDefined(this.props,o),this.appliedUserDefined=!0)}},UnControlled.prototype.componentWillUnmount=function(){d||this.props.editorWillUnmount&&this.props.editorWillUnmount(n)},UnControlled.prototype.shouldComponentUpdate=function(e,o){var t=!0;return d&&(t=!1),this.detached&&(t=!1),t},UnControlled.prototype.render=function(){var e=this;if(d)return null;var o=this.props.className?"react-codemirror2 "+this.props.className:"react-codemirror2";return s.createElement("div",{className:o,ref:function ref(o){return e.ref=o}})},UnControlled}(s.Component);o.UnControlled=h}).call(this,t(38))}}]);
//# sourceMappingURL=npm.react-codemirror2-5c8960687efdf8e3ec0f.js.map