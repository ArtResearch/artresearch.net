
<https://artresearch.net/resource/field_definition/pharos_model/last_known_location/context> {
  <https://artresearch.net/resource/field_definition/pharos_model/last_known_location>
    a <http://www.researchspace.org/resource/system/fields/Field>, <http://www.w3.org/ns/prov#Entity>,
      <http://www.w3.org/ns/ldp#Resource>;
    <http://www.w3.org/2000/01/rdf-schema#label> "Last Known Location";
    <http://www.researchspace.org/resource/system/fields/xsdDatatype> <http://www.w3.org/2001/XMLSchema#anyURI>;
    <http://www.researchspace.org/resource/system/fields/selectPattern> _:genid-f2f210ddc7314079b008e8e188d38492-vkq56f;
    <http://www.researchspace.org/resource/system/fields/insertPattern> _:genid-f2f210ddc7314079b008e8e188d38492-znd9gj;
    <http://www.w3.org/ns/prov#wasAttributedTo> <http://www.researchspace.org/resource/user/admin>;
    <http://www.w3.org/ns/prov#generatedAtTime> "2025-07-09T13:40:54.591+03:00"^^<http://www.w3.org/2001/XMLSchema#dateTime> .
  
  _:genid-f2f210ddc7314079b008e8e188d38492-znd9gj a <http://spinrdf.org/sp#Query>;
    <http://spinrdf.org/sp#text> "INSERT { $subject ?predicate $value} WHERE {}" .
  
  _:genid-f2f210ddc7314079b008e8e188d38492-vkq56f a <http://spinrdf.org/sp#Query>;
    <http://spinrdf.org/sp#text> """PREFIX crm: <http://www.cidoc-crm.org/cidoc-crm/>

SELECT ?value WHERE {
  {
    ?subject crm:P55_has_current_location ?value. 
    ?value crm:P2_has_type/crm:P127_has_broader_term* <https://artresearch.net/resource/pharos/vocab/meta/geographical_entity> .
  } UNION {
    ?subject crm:P55_has_current_location ?location .
    FILTER NOT EXISTS {
      ?location crm:P2_has_type/crm:P127_has_broader_term* <https://artresearch.net/resource/pharos/vocab/meta/geographical_entity> .
    }
    ?location crm:P156i_is_occupied_by ?value .
  }
}""" .
  
  <http://www.researchspace.org/resource/system/fieldDefinitionContainer> <http://www.w3.org/ns/ldp#contains>
      <https://artresearch.net/resource/field_definition/pharos_model/last_known_location> .
}
