(window.webpackJsonp=window.webpackJsonp||[]).push([[219],{973:function(n,e,t){var i;!function(){var Basil=function(n){return Basil.utils.extend({},Basil.plugins,(new Basil.Storage).init(n))};Basil.version="0.4.1",Basil.utils={extend:function(){for(var n="object"==typeof arguments[0]?arguments[0]:{},e=1;e<arguments.length;e++)if(arguments[e]&&"object"==typeof arguments[e])for(var t in arguments[e])n[t]=arguments[e][t];return n},each:function(n,e,t){if(this.isArray(n)){for(var i=0;i<n.length;i++)if(!1===e.call(t,n[i],i))return}else if(n)for(var r in n)if(!1===e.call(t,n[r],r))return},tryEach:function(n,e,t,i){this.each(n,(function(n,r){try{return e.call(i,n,r)}catch(e){if(this.isFunction(t))try{t.call(i,n,r,e)}catch(n){}}}),this)},registerPlugin:function(n){Basil.plugins=this.extend(n,Basil.plugins)}};for(var r=["Arguments","Boolean","Function","String","Array","Number","Date","RegExp"],o=0;o<r.length;o++)Basil.utils["is"+r[o]]=function(n){return function(e){return Object.prototype.toString.call(e)==="[object "+n+"]"}}(r[o]);Basil.plugins={},Basil.options=Basil.utils.extend({namespace:"b45i1",storages:["local","cookie","session","memory"],expireDays:365},window.Basil?window.Basil.options:{}),Basil.Storage=function(){var n="b45i1"+(Math.random()+1).toString(36).substring(7),e={},_toStoragesArray=function(n){return Basil.utils.isArray(n)?n:Basil.utils.isString(n)?[n]:[]},_toStoredKey=function(n,e){var t="";return Basil.utils.isString(e)&&e.length&&(e=[e]),Basil.utils.isArray(e)&&e.length&&(t=e.join(":")),t&&n?n+":"+t:t},_toKeyName=function(n,e){return n?e.replace(new RegExp("^"+n+":"),""):e},t={engine:null,check:function(){try{window[this.engine].setItem(n,!0),window[this.engine].removeItem(n)}catch(n){return!1}return!0},set:function(n,e,t){if(!n)throw Error("invalid key");window[this.engine].setItem(n,e)},get:function(n){return window[this.engine].getItem(n)},remove:function(n){window[this.engine].removeItem(n)},reset:function(n){for(var e,t=0;t<window[this.engine].length;t++)e=window[this.engine].key(t),n&&0!==e.indexOf(n)||(this.remove(e),t--)},keys:function(n){for(var e,t=[],i=0;i<window[this.engine].length;i++)e=window[this.engine].key(i),n&&0!==e.indexOf(n)||t.push(_toKeyName(n,e));return t}};return e.local=Basil.utils.extend({},t,{engine:"localStorage"}),e.session=Basil.utils.extend({},t,{engine:"sessionStorage"}),e.memory={_hash:{},check:function(){return!0},set:function(n,e,t){if(!n)throw Error("invalid key");this._hash[n]=e},get:function(n){return this._hash[n]||null},remove:function(n){delete this._hash[n]},reset:function(n){for(var e in this._hash)n&&0!==e.indexOf(n)||this.remove(e)},keys:function(n){var e=[];for(var t in this._hash)n&&0!==t.indexOf(n)||e.push(_toKeyName(n,t));return e}},e.cookie={check:function(){return navigator.cookieEnabled},set:function(n,e,t){if(!this.check())throw Error("cookies are disabled");if(t=t||{},!n)throw Error("invalid key");var i=n+"="+e;if(t.expireDays){var r=new Date;r.setTime(r.getTime()+24*t.expireDays*60*60*1e3),i+="; expires="+r.toGMTString()}if(t.domain&&t.domain!==document.domain){var o=t.domain.replace(/^\./,"");if(-1===document.domain.indexOf(o)||o.split(".").length<=1)throw Error("invalid domain");i+="; domain="+t.domain}!0===t.secure&&(i=NaN),document.cookie=i+"; path=/"},get:function(n){if(!this.check())throw Error("cookies are disabled");for(var e,t=document.cookie?document.cookie.split(";"):[],i=t.length-1;i>=0;i--)if(0===(e=t[i].replace(/^\s*/,"")).indexOf(n+"="))return e.substring(n.length+1,e.length);return null},remove:function(n){this.set(n,"",{expireDays:-1});for(var e=document.domain.split("."),t=e.length;t>=0;t--)this.set(n,"",{expireDays:-1,domain:"."+e.slice(-t).join(".")})},reset:function(n){for(var e,t,i=document.cookie?document.cookie.split(";"):[],r=0;r<i.length;r++)t=(e=i[r].replace(/^\s*/,"")).substr(0,e.indexOf("=")),n&&0!==t.indexOf(n)||this.remove(t)},keys:function(n){if(!this.check())throw Error("cookies are disabled");for(var e,t,i=[],r=document.cookie?document.cookie.split(";"):[],o=0;o<r.length;o++)t=(e=r[o].replace(/^\s*/,"")).substr(0,e.indexOf("=")),n&&0!==t.indexOf(n)||i.push(_toKeyName(n,t));return i}},{init:function(n){return this.setOptions(n),this},setOptions:function(n){this.options=Basil.utils.extend({},this.options||Basil.options,n)},support:function(n){return e.hasOwnProperty(n)},check:function(n){return!!this.support(n)&&e[n].check()},set:function(n,t,i){if(i=Basil.utils.extend({},this.options,i),!(n=_toStoredKey(i.namespace,n)))return!1;t=!0===i.raw?t:function(n){return JSON.stringify(n)}(t);var r=null;return Basil.utils.tryEach(_toStoragesArray(i.storages),(function(o,s){return e[o].set(n,t,i),r=o,!1}),null,this),!!r&&(Basil.utils.tryEach(_toStoragesArray(i.storages),(function(t,i){t!==r&&e[t].remove(n)}),null,this),!0)},get:function(n,t){if(t=Basil.utils.extend({},this.options,t),!(n=_toStoredKey(t.namespace,n)))return null;var i=null;return Basil.utils.tryEach(_toStoragesArray(t.storages),(function(r,o){if(null!==i)return!1;i=e[r].get(n,t)||null,i=!0===t.raw?i:function(n){return n?JSON.parse(n):null}(i)}),(function(n,e,t){i=null}),this),i},remove:function(n,t){t=Basil.utils.extend({},this.options,t),(n=_toStoredKey(t.namespace,n))&&Basil.utils.tryEach(_toStoragesArray(t.storages),(function(t){e[t].remove(n)}),null,this)},reset:function(n){n=Basil.utils.extend({},this.options,n),Basil.utils.tryEach(_toStoragesArray(n.storages),(function(t){e[t].reset(n.namespace)}),null,this)},keys:function(n){n=n||{};var e=[];for(var t in this.keysMap(n))e.push(t);return e},keysMap:function(n){n=Basil.utils.extend({},this.options,n);var t={};return Basil.utils.tryEach(_toStoragesArray(n.storages),(function(i){Basil.utils.each(e[i].keys(n.namespace),(function(n){t[n]=Basil.utils.isArray(t[n])?t[n]:[],t[n].push(i)}),this)}),null,this),t}}},Basil.memory=(new Basil.Storage).init({storages:"memory",namespace:null,raw:!0}),Basil.cookie=(new Basil.Storage).init({storages:"cookie",namespace:null,raw:!0}),Basil.localStorage=(new Basil.Storage).init({storages:"local",namespace:null,raw:!0}),Basil.sessionStorage=(new Basil.Storage).init({storages:"session",namespace:null,raw:!0}),window.Basil=Basil,void 0===(i=function(){return Basil}.call(e,t,e,n))||(n.exports=i)}()}}]);
//# sourceMappingURL=npm.basil.js-2e47f5649b66bdeccbe1.js.map