(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{1091:function(e,r,t){Object.defineProperty(r,"__esModule",{value:!0});var o=t(11),n=t(1),a=t(20),s=t(72),i=t(7),p=t(33),d=t(16),l=t(23),g=t(61),D=t(307),v=n.createFactory(s.OverlayTrigger),c=n.createFactory(s.Popover),b=function(e){function Droppable(r){var t=e.call(this,r)||this;return t.setHandlers=function(e){var r=n.Children.only(t.props.children);e?(t.target=a.findDOMNode(e),window.addEventListener("mp-dragstart",t.onDragStart),window.addEventListener("mp-dragend",t.onDragEnd),t.target.addEventListener("dragenter",t.onDragEnter),t.target.addEventListener("dragover",t.onDragOver),t.target.addEventListener("dragleave",t.onDragLeave),t.target.addEventListener("drop",t.onDrop)):t.target&&(window.removeEventListener("mp-dragstart",t.onDragStart),window.removeEventListener("mp-dragend",t.onDragEnd),t.target.removeEventListener("dragenter",t.onDragEnter),t.target.removeEventListener("dragover",t.onDragOver),t.target.removeEventListener("dragleave",t.onDragLeave),t.target.removeEventListener("drop",t.onDrop),t.target=null),r.ref&&"function"==typeof r.ref&&r.ref(e)},t.onDragStart=function(e){var r=l.Rdf.iri(e.detail.iri);if(!t.props.shouldReactToDrag||t.props.shouldReactToDrag(r))if(t.setState({isSourceDragged:!0}),t.props.query){var o=g.SparqlClient.setBindings(g.SparqlUtil.parseQuery(t.props.query),{value:r});g.SparqlClient.ask(o,{context:{repository:t.props.repository}}).onValue((function(e){t.setState({isDropEnabledKnown:!0,isDropEnabled:e})}))}else t.setState({isDropEnabledKnown:!0,isDropEnabled:!0})},t.onDragEnter=function(e){t.state.isSourceDragged&&t.isEventInsideRect(e,t.target)&&t.setState({isHover:!0})},t.onDragLeave=function(e){t.state.isSourceDragged&&!t.isEventInsideRect(e,t.target)&&t.setState({isHover:!1})},t.onDragOver=function(e){if(t.state.isSourceDragged)return e.preventDefault&&e.preventDefault(),t.state.isDropEnabled||(e.dataTransfer.dropEffect="none"),!t.state.isHover&&t.isEventInsideRect(e,t.target)&&t.setState({isHover:!0}),!1},t.onDrop=function(e){if(e.preventDefault(),e.stopPropagation&&e.stopPropagation(),t.state.isSourceDragged){if(t.state.isDropEnabled){var r=void 0;try{r=e.dataTransfer.getData(D.DRAG_AND_DROP_FORMAT)}catch(t){r=e.dataTransfer.getData(D.DRAG_AND_DROP_FORMAT_IE)}var o=p.fromNullable(r).map(l.Rdf.iri);t.setState({iri:o}),t.props.onDrop&&!o.isNothing&&t.props.onDrop(o.get())}return!1}},t.onDragEnd=function(e){t.setState({isSourceDragged:!1,isDropEnabledKnown:!1,isDropEnabled:!1,isHover:!1})},t.showDisabledHover=function(e){return e.isDropEnabledKnown&&!e.isDropEnabled&&e.isHover},t.state={iri:p.Nothing(),isSourceDragged:!1,isDropEnabledKnown:!1,isDropEnabled:!1,isHover:!1},t}return o.__extends(Droppable,e),Droppable.prototype.getChildContext=function(){return{droppableApi:{drop:this.state.iri}}},Droppable.prototype.componentWillMount=function(){var e=this.props.children;if("string"==typeof e)throw Error("The child element couldn't be a text node");if(!e)throw Error("The child element doesn't exists")},Droppable.prototype.isEventInsideRect=function(e,r){var t=r.getBoundingClientRect(),o=[e.clientX-t.left,t.right-e.clientX,e.clientY-t.top,t.bottom-e.clientY];return o[0]>0&&o[1]>0&&o[2]>0&&o[3]>0},Droppable.prototype.shouldComponentUpdate=function(e,r){return this.props.dropComponents&&this.props.dropComponents.disabledHover&&(!this.showDisabledHover(this.state)&&this.showDisabledHover(r)?this.refs.trigger.show():this.showDisabledHover(this.state)&&!this.showDisabledHover(r)&&this.refs.trigger.hide()),!0},Droppable.prototype.render=function(){var e=n.Children.only(this.props.children),r=this.props.dropStyles,t=this.state,o=t.isSourceDragged,a=t.isDropEnabledKnown,s=t.isDropEnabled,p=t.isHover,l={};if(d.extend(l,e.props.style||{}),a&&o&&r){var g=r.enabled,D=r.enabledHover,b=r.disabled,u=r.disabledHover;d.extend(l,s&&g?g:{}),d.extend(l,s&&p&&D?D:{}),d.extend(l,!s&&b?b:{}),d.extend(l,!s&&p&&u?u:{})}var f=i(e.props.className,{"mp-droppable-enabled":a&&o&&s,"mp-droppable-disabled":a&&o&&!s,"mp-droppable-hover":a&&o&&p}),h=n.cloneElement(e,{ref:this.setHandlers,key:"wrapped-component",className:f,style:l});return this.props.dropComponents&&this.props.dropComponents.disabledHover?v({trigger:[],ref:"trigger",placement:"top",overlay:c({id:"help"},n.cloneElement(this.props.dropComponents.disabledHover)),defaultOverlayShown:!1},h):h},Droppable.childContextTypes=D.DroppableContextTypes,Droppable}(n.Component);r.Droppable=b},328:function(e,r,t){Object.defineProperty(r,"__esModule",{value:!0});var o=t(1091);r.Droppable=o.Droppable,r.DroppableProps=o.DroppableProps;var n=t(595);r.Draggable=n.Draggable,r.DraggableProps=n.DraggableProps;var a=t(307);r.DragAndDropApi=a}}]);
//# sourceMappingURL=semantic-link-2d2a03af25ab15821f52.js.map