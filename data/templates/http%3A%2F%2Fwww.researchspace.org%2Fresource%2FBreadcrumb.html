<div id="breadcrumb" style="display: flex">
  <ol class="page-breadcrumb">
    <li>
      <mp-link title="Home" url="/">Home</mp-link>
    </li>
    [[#if category]]
    <li>
      <mp-link title="[[category]]" url="[[categoryUrl]]">[[category]]</mp-link>
    </li>
    [[/if]]
    <li class="active">
      <mp-label iri='[[this]]'></mp-label>
    </li>
    <div class="breadlinks pull-right">
      <mp-anonymous-hidden>
        <a
          href="/resource/?action=edit&?uri=[[this]]"
          title="Edit Page"
          class="btn btn-default component-page-toolbar__btn_edit"
          target="_self"
          draggable="true"
          ><div><i class="fa fa-pencil"></i><span> Edit Page</span></div>
        </a>
      </mp-anonymous-hidden>

      <div id="btnPrint" class="rs-body-m-M">
        <i style="margin-right: 5px" class="fa fa-print"></i>Print
      </div>

      <mp-sparql-download
        id="csv-result"
        query="SELECT ?subject ?property ?object WHERE {?? ?property ?object. BIND(?? as ?subject)}"
        header="text/csv"
        filename="export_csv_artresearch.csv"
        message="Preparing your CSV file.."
      >
        <div style="margin: 0">
          <mp-copy-to-clipboard
            text=""
            message="Your CSV file is being prepared.."
          >
            <div id="btnExportCsv" class="rs-body-m-M">
              <i style="margin-right: 5px" class="fa fa-file-excel-o"></i>Export
              CSV
            </div>
          </mp-copy-to-clipboard>
        </div>
      </mp-sparql-download>

      <mp-sparql-download
        query="CONSTRUCT {?subject ?property ?object} WHERE {?? ?property ?object. BIND(?? as ?subject )}"
        header="application/ld+json"
        filename="export_json_ld_artresearch.json"
      >
      <div style="margin: 0"> 
          <mp-copy-to-clipboard
            text=""
            message="Your JSON-LD file is being prepared.."
          >
          <div id="btnExportJson" class="rs-body-m-M">
            <i style="margin-right: 5px" class="fa fa-file-text-o"></i>Export
            JSON-LD
          </div>
      </mp-copy-to-clipboard>
      </mp-sparql-download>

      <mp-copy-to-clipboard
        text=""
        message="The feature is under development.."
      >
        <div id="btnCite" class="rs-body-m-M">
          <i style="margin-right: 5px" class="fa fa-quote-right"></i>Cite
        </div>
      </mp-copy-to-clipboard>

      <mp-overlay-dialog title="‎‎" type="lightbox">
        <mp-overlay-dialog-trigger
          ><div id="btnGraph" class="rs-body-m-M">
            <i style="margin-right: 5px" class="fa fa-connectdevelop"></i>Graph
          </div>
        </mp-overlay-dialog-trigger>
        <mp-overlay-dialog-content>
          <mp-page-loader
            iri="http://www.researchspace.org/resource/system/SourceGraph"
          ></mp-page-loader
        ></mp-overlay-dialog-content>
      </mp-overlay-dialog>

      <mp-overlay-dialog title="‎‎" type="lightbox">
        <mp-overlay-dialog-trigger>
          <div id="btnStatements" class="rs-body-m-M">
            <i style="margin-right: 5px" class="fa fa-list"></i>Statements
          </div>
        </mp-overlay-dialog-trigger>
        <mp-overlay-dialog-content>
          <mp-page-loader
            iri="http://www.researchspace.org/resource/system/SourceStatements"
          ></mp-page-loader
        ></mp-overlay-dialog-content>
      </mp-overlay-dialog>

      <mp-copy-to-clipboard
        text="[[this]]"
        message="Permalink copied: [[this]]"
      >
        <div id="btnGraph" class="rs-body-m-M">
          <i style="margin-right: 5px" class="fa fa-link"></i>Permalink
        </div>
      </mp-copy-to-clipboard>
    </div>
  </ol>
</div>
<script type="text/javascript">
  // Script for print button // This checks if an element is present at DOM
  const checkElement = async selector => {
  while(document.querySelector(selector) === null) { await new
  Promise(resolve => requestAnimationFrame(resolve)) } return
  document.querySelector(selector); }; // This is checked on load
  window.onload = function () { checkElement('#btnPrint').then((selector) =>
  { preparePrintButton() }); } // When a user clicks the button function
  preparePrintButton() { document.getElementById("btnPrint").onclick =
  function () { var title = document.getElementById("printableTitle") ?
  document.getElementById("printableTitle").innerHTML : ""; var images =
  document.getElementById("printableImages") ?
  document.getElementById("printableImages").innerHTML : ""; var info =
  document.getElementById("printableInfo") ?
  document.getElementById("printableInfo").innerHTML : ""; var printWindow =
  window.open('', '', 'height=400,width=800');
  printWindow.document.write('<html><head><title>' + window.document.URL +
  '</title>'); printWindow.document.write(`<style> .rs-page__summary-image{
  display:flex; flex-wrap:wrap; } .photographFieldView{ width:100%
  !important; }
  .imageSourceIcon,.multiValueTd,.rs-page__count--field-annotation,.rs-page__count--field-assertion,.sourceIcons{
  display:none !important; } </style>`);
  printWindow.document.write('</head><body>');
  printWindow.document.write('<h2>' + title + '</h2>');
  printWindow.document.write(info); printWindow.document.write(images);
  printWindow.document.write('</body>');
  printWindow.document.write('</html>'); printWindow.document.close();
  printWindow.print(); }; }
</script>