
<semantic-link-container uri="{{subject.value}}" target="_blank">
  <div class="artwork-card">
    <resource-info subject="{{subject.value}}" profile="artwork-card" template="{{> template}}">
      <template id="template">
          <div class="thumbnail-container">
            {{#if photo}}
              {{log "photo" photo}}
              <resource-info subject="{{photo}}" profile="photograph-thumbnail" template="{{> template}}">
                <template id="template">
                  <img class="thumbnail-image" src="https://staging.artresearch.net{{data.[https://artresearch.net/resource/field_definition/pharos_model/photo_thumbnail].values.0.[@value]}}" alt="Artwork thumbnail" />
                </template>
              </resource-info>
            {{else}}
             {{log "partial block is not defined"}}
             {{#if data.[https://artresearch.net/resource/field_definition/pharos_model/work_thumbnail]}}
                <img class="thumbnail-image" src="https://staging.artresearch.net{{data.[https://artresearch.net/resource/field_definition/pharos_model/work_thumbnail].values.0.[@value]}}" alt="Artwork thumbnail" />
              {{else}}
                <span class="no-image-text">No image</span>
              {{/if}}
            {{/if}}
          </div>
          <div class="info-container">
            <span class="author-name">{{> fieldTemplate data=data field="https://artresearch.net/resource/field_definition/pharos_model/creator" label="Creator"}}
            </span>
            <span class="bold-text">{{> fieldTemplate data=data field="https://artresearch.net/resource/field_definition/pharos_model/title" label="Title"}}
            </span>
            {{> fieldTemplate data=data field="https://artresearch.net/resource/field_definition/pharos_model/production_date" label="Date"}}
            {{> fieldTemplate data=data field="https://artresearch.net/resource/field_definition/pharos_model/current_keeper" label="Repository"}}


            <div class="field">
              <div class="field-label">{{data.[https://artresearch.net/resource/field_definition/pharos_model/original_record_catalog].label}}</div>
              <div class="field-value">
                <div class="provider-icons">
                  {{#each data.[https://artresearch.net/resource/field_definition/pharos_model/original_record_catalog].values}}
                    <img class="provider-icon" title="{{label}}" src="{{[https://artresearch.net/resource/field_definition/pharos_model/provider_icon].values.0.[@value]}}">
                  {{/each}}
                </div>
              </div>
            </div>
          </div>
      </template>

      <template id="fieldTemplate">
        {{#if (lookup data field)}}
            <div class="field">
              <div class="field-label">{{label}}</div>
              <div class="field-value">
                {{#each (lookup (lookup data field) 'values')}}
                  {{#if [@id]}}
                      [[!-- <semantic-link iri="{{[@id]}}">{{label}}</semantic-link> --]]
                    {{label}}
                    {{#unless @last}}, {{/unless}}
                  {{else}}
                    {{#if (eq ../field "https://artresearch.net/resource/field_definition/pharos_model/production_date")}}
                      {{dateRangeFormat [@value]}}
                    {{else}}
                      {{[@value]}}
                    {{/if}}
                    {{#unless @last}}, {{/unless}}
                  {{/if}}
                {{/each}}
              </div>
            </div>
        {{/if}}
      </template>
    </resource-info>
  </div>
</semantic-link-container>
