(window.webpackJsonp=window.webpackJsonp||[]).push([[248],{180:function(t,e,i){var s=i(378),n=i(380);function defineProp(e,i){return delete t.exports[e],t.exports[e]=i,i}t.exports={Parser:s,Tokenizer:i(379),ElementType:i(126),DomHandler:n,get FeedHandler(){return defineProp("FeedHandler",i(888))},get Stream(){return defineProp("Stream",i(902))},get WritableStream(){return defineProp("WritableStream",i(387))},get ProxyHandler(){return defineProp("ProxyHandler",i(907))},get DomUtils(){return defineProp("DomUtils",i(382))},get CollectingHandler(){return defineProp("CollectingHandler",i(908))},DefaultHandler:n,get RssHandler(){return defineProp("RssHandler",this.FeedHandler)},parseDOM:function(t,e){var i=new n(e);return new s(i,e).end(t),i.dom},parseFeed:function(e,i){var n=new t.exports.FeedHandler(i);return new s(n,i).end(e),n.dom},createDomStream:function(t,e,i){var o=new n(t,e,i);return new s(o,e)},EVENTS:{attribute:2,cdatastart:0,cdataend:0,text:1,processinginstruction:2,comment:1,commentend:0,closetag:1,opentag:2,opentagname:1,error:1,end:0}}},378:function(t,e,i){var s=i(379),n={input:!0,option:!0,optgroup:!0,select:!0,button:!0,datalist:!0,textarea:!0},o={tr:{tr:!0,th:!0,td:!0},th:{th:!0},td:{thead:!0,th:!0,td:!0},body:{head:!0,link:!0,script:!0},li:{li:!0},p:{p:!0},h1:{p:!0},h2:{p:!0},h3:{p:!0},h4:{p:!0},h5:{p:!0},h6:{p:!0},select:n,input:n,output:n,button:n,datalist:n,textarea:n,option:{option:!0},optgroup:{optgroup:!0}},a={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},r={__proto__:null,math:!0,svg:!0},h={__proto__:null,mi:!0,mo:!0,mn:!0,ms:!0,mtext:!0,"annotation-xml":!0,foreignObject:!0,desc:!0,title:!0},_=/\s|\//;function Parser(t,e){this._options=e||{},this._cbs=t||{},this._tagname="",this._attribname="",this._attribvalue="",this._attribs=null,this._stack=[],this._foreignContext=[],this.startIndex=0,this.endIndex=null,this._lowerCaseTagNames="lowerCaseTags"in this._options?!!this._options.lowerCaseTags:!this._options.xmlMode,this._lowerCaseAttributeNames="lowerCaseAttributeNames"in this._options?!!this._options.lowerCaseAttributeNames:!this._options.xmlMode,this._options.Tokenizer&&(s=this._options.Tokenizer),this._tokenizer=new s(this._options,this),this._cbs.onparserinit&&this._cbs.onparserinit(this)}i(62)(Parser,i(164).EventEmitter),Parser.prototype._updatePosition=function(t){null===this.endIndex?this._tokenizer._sectionStart<=t?this.startIndex=0:this.startIndex=this._tokenizer._sectionStart-t:this.startIndex=this.endIndex+1,this.endIndex=this._tokenizer.getAbsoluteIndex()},Parser.prototype.ontext=function(t){this._updatePosition(1),this.endIndex--,this._cbs.ontext&&this._cbs.ontext(t)},Parser.prototype.onopentagname=function(t){if(this._lowerCaseTagNames&&(t=t.toLowerCase()),this._tagname=t,!this._options.xmlMode&&t in o)for(var e;(e=this._stack[this._stack.length-1])in o[t];this.onclosetag(e));!this._options.xmlMode&&t in a||(this._stack.push(t),t in r?this._foreignContext.push(!0):t in h&&this._foreignContext.push(!1)),this._cbs.onopentagname&&this._cbs.onopentagname(t),this._cbs.onopentag&&(this._attribs={})},Parser.prototype.onopentagend=function(){this._updatePosition(1),this._attribs&&(this._cbs.onopentag&&this._cbs.onopentag(this._tagname,this._attribs),this._attribs=null),!this._options.xmlMode&&this._cbs.onclosetag&&this._tagname in a&&this._cbs.onclosetag(this._tagname),this._tagname=""},Parser.prototype.onclosetag=function(t){if(this._updatePosition(1),this._lowerCaseTagNames&&(t=t.toLowerCase()),(t in r||t in h)&&this._foreignContext.pop(),!this._stack.length||t in a&&!this._options.xmlMode)this._options.xmlMode||"br"!==t&&"p"!==t||(this.onopentagname(t),this._closeCurrentTag());else{var e=this._stack.lastIndexOf(t);if(-1!==e)if(this._cbs.onclosetag)for(e=this._stack.length-e;e--;)this._cbs.onclosetag(this._stack.pop());else this._stack.length=e;else"p"!==t||this._options.xmlMode||(this.onopentagname(t),this._closeCurrentTag())}},Parser.prototype.onselfclosingtag=function(){this._options.xmlMode||this._options.recognizeSelfClosing||this._foreignContext[this._foreignContext.length-1]?this._closeCurrentTag():this.onopentagend()},Parser.prototype._closeCurrentTag=function(){var t=this._tagname;this.onopentagend(),this._stack[this._stack.length-1]===t&&(this._cbs.onclosetag&&this._cbs.onclosetag(t),this._stack.pop())},Parser.prototype.onattribname=function(t){this._lowerCaseAttributeNames&&(t=t.toLowerCase()),this._attribname=t},Parser.prototype.onattribdata=function(t){this._attribvalue+=t},Parser.prototype.onattribend=function(){this._cbs.onattribute&&this._cbs.onattribute(this._attribname,this._attribvalue),this._attribs&&!Object.prototype.hasOwnProperty.call(this._attribs,this._attribname)&&(this._attribs[this._attribname]=this._attribvalue),this._attribname="",this._attribvalue=""},Parser.prototype._getInstructionName=function(t){var e=t.search(_),i=e<0?t:t.substr(0,e);return this._lowerCaseTagNames&&(i=i.toLowerCase()),i},Parser.prototype.ondeclaration=function(t){if(this._cbs.onprocessinginstruction){var e=this._getInstructionName(t);this._cbs.onprocessinginstruction("!"+e,"!"+t)}},Parser.prototype.onprocessinginstruction=function(t){if(this._cbs.onprocessinginstruction){var e=this._getInstructionName(t);this._cbs.onprocessinginstruction("?"+e,"?"+t)}},Parser.prototype.oncomment=function(t){this._updatePosition(4),this._cbs.oncomment&&this._cbs.oncomment(t),this._cbs.oncommentend&&this._cbs.oncommentend()},Parser.prototype.oncdata=function(t){this._updatePosition(1),this._options.xmlMode||this._options.recognizeCDATA?(this._cbs.oncdatastart&&this._cbs.oncdatastart(),this._cbs.ontext&&this._cbs.ontext(t),this._cbs.oncdataend&&this._cbs.oncdataend()):this.oncomment("[CDATA["+t+"]]")},Parser.prototype.onerror=function(t){this._cbs.onerror&&this._cbs.onerror(t)},Parser.prototype.onend=function(){if(this._cbs.onclosetag)for(var t=this._stack.length;t>0;this._cbs.onclosetag(this._stack[--t]));this._cbs.onend&&this._cbs.onend()},Parser.prototype.reset=function(){this._cbs.onreset&&this._cbs.onreset(),this._tokenizer.reset(),this._tagname="",this._attribname="",this._attribs=null,this._stack=[],this._cbs.onparserinit&&this._cbs.onparserinit(this)},Parser.prototype.parseComplete=function(t){this.reset(),this.end(t)},Parser.prototype.write=function(t){this._tokenizer.write(t)},Parser.prototype.end=function(t){this._tokenizer.end(t)},Parser.prototype.pause=function(){this._tokenizer.pause()},Parser.prototype.resume=function(){this._tokenizer.resume()},Parser.prototype.parseChunk=Parser.prototype.write,Parser.prototype.done=Parser.prototype.end,t.exports=Parser},379:function(t,e,i){t.exports=Tokenizer;var s=i(372),n=i(255),o=i(371),a=i(254),r=0,h=r++,_=r++,c=r++,p=r++,d=r++,f=r++,l=r++,u=r++,b=r++,m=r++,y=r++,g=r++,S=r++,x=r++,T=r++,k=r++,C=r++,z=r++,E=r++,w=r++,P=r++,N=r++,A=r++,v=r++,B=r++,I=r++,H=r++,D=r++,M=r++,O=r++,F=r++,L=r++,V=r++,Q=r++,j=r++,R=r++,W=r++,J=r++,U=r++,Y=r++,X=r++,Z=r++,q=r++,G=r++,K=r++,$=r++,tt=r++,et=r++,it=r++,st=r++,nt=r++,ot=r++,at=r++,rt=r++,ht=r++,_t=0,ct=_t++,pt=_t++,dt=_t++;function whitespace(t){return" "===t||"\n"===t||"\t"===t||"\f"===t||"\r"===t}function ifElseState(t,e,i){var s=t.toLowerCase();return t===s?function(t){t===s?this._state=e:(this._state=i,this._index--)}:function(n){n===s||n===t?this._state=e:(this._state=i,this._index--)}}function consumeSpecialNameChar(t,e){var i=t.toLowerCase();return function(s){s===i||s===t?this._state=e:(this._state=c,this._index--)}}function Tokenizer(t,e){this._state=h,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=h,this._special=ct,this._cbs=e,this._running=!0,this._ended=!1,this._xmlMode=!(!t||!t.xmlMode),this._decodeEntities=!(!t||!t.decodeEntities)}Tokenizer.prototype._stateText=function(t){"<"===t?(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._state=_,this._sectionStart=this._index):this._decodeEntities&&this._special===ct&&"&"===t&&(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._baseState=h,this._state=nt,this._sectionStart=this._index)},Tokenizer.prototype._stateBeforeTagName=function(t){"/"===t?this._state=d:"<"===t?(this._cbs.ontext(this._getSection()),this._sectionStart=this._index):">"===t||this._special!==ct||whitespace(t)?this._state=h:"!"===t?(this._state=T,this._sectionStart=this._index+1):"?"===t?(this._state=C,this._sectionStart=this._index+1):(this._state=this._xmlMode||"s"!==t&&"S"!==t?c:F,this._sectionStart=this._index)},Tokenizer.prototype._stateInTagName=function(t){("/"===t||">"===t||whitespace(t))&&(this._emitToken("onopentagname"),this._state=u,this._index--)},Tokenizer.prototype._stateBeforeCloseingTagName=function(t){whitespace(t)||(">"===t?this._state=h:this._special!==ct?"s"===t||"S"===t?this._state=L:(this._state=h,this._index--):(this._state=f,this._sectionStart=this._index))},Tokenizer.prototype._stateInCloseingTagName=function(t){(">"===t||whitespace(t))&&(this._emitToken("onclosetag"),this._state=l,this._index--)},Tokenizer.prototype._stateAfterCloseingTagName=function(t){">"===t&&(this._state=h,this._sectionStart=this._index+1)},Tokenizer.prototype._stateBeforeAttributeName=function(t){">"===t?(this._cbs.onopentagend(),this._state=h,this._sectionStart=this._index+1):"/"===t?this._state=p:whitespace(t)||(this._state=b,this._sectionStart=this._index)},Tokenizer.prototype._stateInSelfClosingTag=function(t){">"===t?(this._cbs.onselfclosingtag(),this._state=h,this._sectionStart=this._index+1):whitespace(t)||(this._state=u,this._index--)},Tokenizer.prototype._stateInAttributeName=function(t){("="===t||"/"===t||">"===t||whitespace(t))&&(this._cbs.onattribname(this._getSection()),this._sectionStart=-1,this._state=m,this._index--)},Tokenizer.prototype._stateAfterAttributeName=function(t){"="===t?this._state=y:"/"===t||">"===t?(this._cbs.onattribend(),this._state=u,this._index--):whitespace(t)||(this._cbs.onattribend(),this._state=b,this._sectionStart=this._index)},Tokenizer.prototype._stateBeforeAttributeValue=function(t){'"'===t?(this._state=g,this._sectionStart=this._index+1):"'"===t?(this._state=S,this._sectionStart=this._index+1):whitespace(t)||(this._state=x,this._sectionStart=this._index,this._index--)},Tokenizer.prototype._stateInAttributeValueDoubleQuotes=function(t){'"'===t?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=u):this._decodeEntities&&"&"===t&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=nt,this._sectionStart=this._index)},Tokenizer.prototype._stateInAttributeValueSingleQuotes=function(t){"'"===t?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=u):this._decodeEntities&&"&"===t&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=nt,this._sectionStart=this._index)},Tokenizer.prototype._stateInAttributeValueNoQuotes=function(t){whitespace(t)||">"===t?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=u,this._index--):this._decodeEntities&&"&"===t&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=nt,this._sectionStart=this._index)},Tokenizer.prototype._stateBeforeDeclaration=function(t){this._state="["===t?N:"-"===t?z:k},Tokenizer.prototype._stateInDeclaration=function(t){">"===t&&(this._cbs.ondeclaration(this._getSection()),this._state=h,this._sectionStart=this._index+1)},Tokenizer.prototype._stateInProcessingInstruction=function(t){">"===t&&(this._cbs.onprocessinginstruction(this._getSection()),this._state=h,this._sectionStart=this._index+1)},Tokenizer.prototype._stateBeforeComment=function(t){"-"===t?(this._state=E,this._sectionStart=this._index+1):this._state=k},Tokenizer.prototype._stateInComment=function(t){"-"===t&&(this._state=w)},Tokenizer.prototype._stateAfterComment1=function(t){this._state="-"===t?P:E},Tokenizer.prototype._stateAfterComment2=function(t){">"===t?(this._cbs.oncomment(this._buffer.substring(this._sectionStart,this._index-2)),this._state=h,this._sectionStart=this._index+1):"-"!==t&&(this._state=E)},Tokenizer.prototype._stateBeforeCdata1=ifElseState("C",A,k),Tokenizer.prototype._stateBeforeCdata2=ifElseState("D",v,k),Tokenizer.prototype._stateBeforeCdata3=ifElseState("A",B,k),Tokenizer.prototype._stateBeforeCdata4=ifElseState("T",I,k),Tokenizer.prototype._stateBeforeCdata5=ifElseState("A",H,k),Tokenizer.prototype._stateBeforeCdata6=function(t){"["===t?(this._state=D,this._sectionStart=this._index+1):(this._state=k,this._index--)},Tokenizer.prototype._stateInCdata=function(t){"]"===t&&(this._state=M)},Tokenizer.prototype._stateAfterCdata1=function(t){this._state="]"===t?O:D},Tokenizer.prototype._stateAfterCdata2=function(t){">"===t?(this._cbs.oncdata(this._buffer.substring(this._sectionStart,this._index-2)),this._state=h,this._sectionStart=this._index+1):"]"!==t&&(this._state=D)},Tokenizer.prototype._stateBeforeSpecial=function(t){"c"===t||"C"===t?this._state=V:"t"===t||"T"===t?this._state=q:(this._state=c,this._index--)},Tokenizer.prototype._stateBeforeSpecialEnd=function(t){this._special!==pt||"c"!==t&&"C"!==t?this._special!==dt||"t"!==t&&"T"!==t?this._state=h:this._state=tt:this._state=J},Tokenizer.prototype._stateBeforeScript1=consumeSpecialNameChar("R",Q),Tokenizer.prototype._stateBeforeScript2=consumeSpecialNameChar("I",j),Tokenizer.prototype._stateBeforeScript3=consumeSpecialNameChar("P",R),Tokenizer.prototype._stateBeforeScript4=consumeSpecialNameChar("T",W),Tokenizer.prototype._stateBeforeScript5=function(t){("/"===t||">"===t||whitespace(t))&&(this._special=pt),this._state=c,this._index--},Tokenizer.prototype._stateAfterScript1=ifElseState("R",U,h),Tokenizer.prototype._stateAfterScript2=ifElseState("I",Y,h),Tokenizer.prototype._stateAfterScript3=ifElseState("P",X,h),Tokenizer.prototype._stateAfterScript4=ifElseState("T",Z,h),Tokenizer.prototype._stateAfterScript5=function(t){">"===t||whitespace(t)?(this._special=ct,this._state=f,this._sectionStart=this._index-6,this._index--):this._state=h},Tokenizer.prototype._stateBeforeStyle1=consumeSpecialNameChar("Y",G),Tokenizer.prototype._stateBeforeStyle2=consumeSpecialNameChar("L",K),Tokenizer.prototype._stateBeforeStyle3=consumeSpecialNameChar("E",$),Tokenizer.prototype._stateBeforeStyle4=function(t){("/"===t||">"===t||whitespace(t))&&(this._special=dt),this._state=c,this._index--},Tokenizer.prototype._stateAfterStyle1=ifElseState("Y",et,h),Tokenizer.prototype._stateAfterStyle2=ifElseState("L",it,h),Tokenizer.prototype._stateAfterStyle3=ifElseState("E",st,h),Tokenizer.prototype._stateAfterStyle4=function(t){">"===t||whitespace(t)?(this._special=ct,this._state=f,this._sectionStart=this._index-5,this._index--):this._state=h},Tokenizer.prototype._stateBeforeEntity=ifElseState("#",ot,at),Tokenizer.prototype._stateBeforeNumericEntity=ifElseState("X",ht,rt),Tokenizer.prototype._parseNamedEntityStrict=function(){if(this._sectionStart+1<this._index){var t=this._buffer.substring(this._sectionStart+1,this._index),e=this._xmlMode?a:n;e.hasOwnProperty(t)&&(this._emitPartial(e[t]),this._sectionStart=this._index+1)}},Tokenizer.prototype._parseLegacyEntity=function(){var t=this._sectionStart+1,e=this._index-t;for(e>6&&(e=6);e>=2;){var i=this._buffer.substr(t,e);if(o.hasOwnProperty(i))return this._emitPartial(o[i]),void(this._sectionStart+=e+1);e--}},Tokenizer.prototype._stateInNamedEntity=function(t){";"===t?(this._parseNamedEntityStrict(),this._sectionStart+1<this._index&&!this._xmlMode&&this._parseLegacyEntity(),this._state=this._baseState):(t<"a"||t>"z")&&(t<"A"||t>"Z")&&(t<"0"||t>"9")&&(this._xmlMode||this._sectionStart+1===this._index||(this._baseState!==h?"="!==t&&this._parseNamedEntityStrict():this._parseLegacyEntity()),this._state=this._baseState,this._index--)},Tokenizer.prototype._decodeNumericEntity=function(t,e){var i=this._sectionStart+t;if(i!==this._index){var n=this._buffer.substring(i,this._index),o=parseInt(n,e);this._emitPartial(s(o)),this._sectionStart=this._index}else this._sectionStart--;this._state=this._baseState},Tokenizer.prototype._stateInNumericEntity=function(t){";"===t?(this._decodeNumericEntity(2,10),this._sectionStart++):(t<"0"||t>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(2,10),this._index--)},Tokenizer.prototype._stateInHexEntity=function(t){";"===t?(this._decodeNumericEntity(3,16),this._sectionStart++):(t<"a"||t>"f")&&(t<"A"||t>"F")&&(t<"0"||t>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(3,16),this._index--)},Tokenizer.prototype._cleanup=function(){this._sectionStart<0?(this._buffer="",this._bufferOffset+=this._index,this._index=0):this._running&&(this._state===h?(this._sectionStart!==this._index&&this._cbs.ontext(this._buffer.substr(this._sectionStart)),this._buffer="",this._bufferOffset+=this._index,this._index=0):this._sectionStart===this._index?(this._buffer="",this._bufferOffset+=this._index,this._index=0):(this._buffer=this._buffer.substr(this._sectionStart),this._index-=this._sectionStart,this._bufferOffset+=this._sectionStart),this._sectionStart=0)},Tokenizer.prototype.write=function(t){this._ended&&this._cbs.onerror(Error(".write() after done!")),this._buffer+=t,this._parse()},Tokenizer.prototype._parse=function(){for(;this._index<this._buffer.length&&this._running;){var t=this._buffer.charAt(this._index);this._state===h?this._stateText(t):this._state===_?this._stateBeforeTagName(t):this._state===c?this._stateInTagName(t):this._state===d?this._stateBeforeCloseingTagName(t):this._state===f?this._stateInCloseingTagName(t):this._state===l?this._stateAfterCloseingTagName(t):this._state===p?this._stateInSelfClosingTag(t):this._state===u?this._stateBeforeAttributeName(t):this._state===b?this._stateInAttributeName(t):this._state===m?this._stateAfterAttributeName(t):this._state===y?this._stateBeforeAttributeValue(t):this._state===g?this._stateInAttributeValueDoubleQuotes(t):this._state===S?this._stateInAttributeValueSingleQuotes(t):this._state===x?this._stateInAttributeValueNoQuotes(t):this._state===T?this._stateBeforeDeclaration(t):this._state===k?this._stateInDeclaration(t):this._state===C?this._stateInProcessingInstruction(t):this._state===z?this._stateBeforeComment(t):this._state===E?this._stateInComment(t):this._state===w?this._stateAfterComment1(t):this._state===P?this._stateAfterComment2(t):this._state===N?this._stateBeforeCdata1(t):this._state===A?this._stateBeforeCdata2(t):this._state===v?this._stateBeforeCdata3(t):this._state===B?this._stateBeforeCdata4(t):this._state===I?this._stateBeforeCdata5(t):this._state===H?this._stateBeforeCdata6(t):this._state===D?this._stateInCdata(t):this._state===M?this._stateAfterCdata1(t):this._state===O?this._stateAfterCdata2(t):this._state===F?this._stateBeforeSpecial(t):this._state===L?this._stateBeforeSpecialEnd(t):this._state===V?this._stateBeforeScript1(t):this._state===Q?this._stateBeforeScript2(t):this._state===j?this._stateBeforeScript3(t):this._state===R?this._stateBeforeScript4(t):this._state===W?this._stateBeforeScript5(t):this._state===J?this._stateAfterScript1(t):this._state===U?this._stateAfterScript2(t):this._state===Y?this._stateAfterScript3(t):this._state===X?this._stateAfterScript4(t):this._state===Z?this._stateAfterScript5(t):this._state===q?this._stateBeforeStyle1(t):this._state===G?this._stateBeforeStyle2(t):this._state===K?this._stateBeforeStyle3(t):this._state===$?this._stateBeforeStyle4(t):this._state===tt?this._stateAfterStyle1(t):this._state===et?this._stateAfterStyle2(t):this._state===it?this._stateAfterStyle3(t):this._state===st?this._stateAfterStyle4(t):this._state===nt?this._stateBeforeEntity(t):this._state===ot?this._stateBeforeNumericEntity(t):this._state===at?this._stateInNamedEntity(t):this._state===rt?this._stateInNumericEntity(t):this._state===ht?this._stateInHexEntity(t):this._cbs.onerror(Error("unknown _state"),this._state),this._index++}this._cleanup()},Tokenizer.prototype.pause=function(){this._running=!1},Tokenizer.prototype.resume=function(){this._running=!0,this._index<this._buffer.length&&this._parse(),this._ended&&this._finish()},Tokenizer.prototype.end=function(t){this._ended&&this._cbs.onerror(Error(".end() after done!")),t&&this.write(t),this._ended=!0,this._running&&this._finish()},Tokenizer.prototype._finish=function(){this._sectionStart<this._index&&this._handleTrailingData(),this._cbs.onend()},Tokenizer.prototype._handleTrailingData=function(){var t=this._buffer.substr(this._sectionStart);this._state===D||this._state===M||this._state===O?this._cbs.oncdata(t):this._state===E||this._state===w||this._state===P?this._cbs.oncomment(t):this._state!==at||this._xmlMode?this._state!==rt||this._xmlMode?this._state!==ht||this._xmlMode?this._state!==c&&this._state!==u&&this._state!==y&&this._state!==m&&this._state!==b&&this._state!==S&&this._state!==g&&this._state!==x&&this._state!==f&&this._cbs.ontext(t):(this._decodeNumericEntity(3,16),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._decodeNumericEntity(2,10),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._parseLegacyEntity(),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData()))},Tokenizer.prototype.reset=function(){Tokenizer.call(this,{xmlMode:this._xmlMode,decodeEntities:this._decodeEntities},this._cbs)},Tokenizer.prototype.getAbsoluteIndex=function(){return this._bufferOffset+this._index},Tokenizer.prototype._getSection=function(){return this._buffer.substring(this._sectionStart,this._index)},Tokenizer.prototype._emitToken=function(t){this._cbs[t](this._getSection()),this._sectionStart=-1},Tokenizer.prototype._emitPartial=function(t){this._baseState!==h?this._cbs.onattribdata(t):this._cbs.ontext(t)}},387:function(t,e,i){t.exports=Stream;var s=i(378),n=i(903).Writable,o=i(219).StringDecoder,a=i(163).Buffer;function Stream(t,e){var i=this._parser=new s(t,e),a=this._decoder=new o;n.call(this,{decodeStrings:!1}),this.once("finish",(function(){i.end(a.end())}))}i(62)(Stream,n),Stream.prototype._write=function(t,e,i){t instanceof a&&(t=this._decoder.write(t)),this._parser.write(t),i()}},888:function(t,e,i){var s=i(380),n=i(382);function FeedHandler(t,e){this.init(t,e)}function getElements(t,e){return n.getElementsByTagName(t,e,!0)}function getOneElement(t,e){return n.getElementsByTagName(t,e,!0,1)[0]}function fetch(t,e,i){return n.getText(n.getElementsByTagName(t,e,i,1)).trim()}function addConditionally(t,e,i,s,n){var o=fetch(i,s,n);o&&(t[e]=o)}i(62)(FeedHandler,s),FeedHandler.prototype.init=s;var isValidFeed=function(t){return"rss"===t||"feed"===t||"rdf:RDF"===t};FeedHandler.prototype.onend=function(){var t,e,i={},n=getOneElement(isValidFeed,this.dom);n&&("feed"===n.name?(e=n.children,i.type="atom",addConditionally(i,"id","id",e),addConditionally(i,"title","title",e),(t=getOneElement("link",e))&&(t=t.attribs)&&(t=t.href)&&(i.link=t),addConditionally(i,"description","subtitle",e),(t=fetch("updated",e))&&(i.updated=new Date(t)),addConditionally(i,"author","email",e,!0),i.items=getElements("entry",e).map((function(t){var e,i={};return addConditionally(i,"id","id",t=t.children),addConditionally(i,"title","title",t),(e=getOneElement("link",t))&&(e=e.attribs)&&(e=e.href)&&(i.link=e),(e=fetch("summary",t)||fetch("content",t))&&(i.description=e),(e=fetch("updated",t))&&(i.pubDate=new Date(e)),i}))):(e=getOneElement("channel",n.children).children,i.type=n.name.substr(0,3),i.id="",addConditionally(i,"title","title",e),addConditionally(i,"link","link",e),addConditionally(i,"description","description",e),(t=fetch("lastBuildDate",e))&&(i.updated=new Date(t)),addConditionally(i,"author","managingEditor",e,!0),i.items=getElements("item",n.children).map((function(t){var e,i={};return addConditionally(i,"id","guid",t=t.children),addConditionally(i,"title","title",t),addConditionally(i,"link","link",t),addConditionally(i,"description","description",t),(e=fetch("pubDate",t))&&(i.pubDate=new Date(e)),i})))),this.dom=i,s.prototype._handleCallback.call(this,n?null:Error("couldn't find root of feed"))},t.exports=FeedHandler},902:function(t,e,i){t.exports=Stream;var s=i(387);function Stream(t){s.call(this,new Cbs(this),t)}function Cbs(t){this.scope=t}i(62)(Stream,s),Stream.prototype.readable=!0;var n=i(180).EVENTS;Object.keys(n).forEach((function(t){if(0===n[t])Cbs.prototype["on"+t]=function(){this.scope.emit(t)};else if(1===n[t])Cbs.prototype["on"+t]=function(e){this.scope.emit(t,e)};else{if(2!==n[t])throw Error("wrong number of arguments!");Cbs.prototype["on"+t]=function(e,i){this.scope.emit(t,e,i)}}}))},907:function(t,e,i){function ProxyHandler(t){this._cbs=t||{}}t.exports=ProxyHandler;var s=i(180).EVENTS;Object.keys(s).forEach((function(t){if(0===s[t])t="on"+t,ProxyHandler.prototype[t]=function(){this._cbs[t]&&this._cbs[t]()};else if(1===s[t])t="on"+t,ProxyHandler.prototype[t]=function(e){this._cbs[t]&&this._cbs[t](e)};else{if(2!==s[t])throw Error("wrong number of arguments");t="on"+t,ProxyHandler.prototype[t]=function(e,i){this._cbs[t]&&this._cbs[t](e,i)}}}))},908:function(t,e,i){function CollectingHandler(t){this._cbs=t||{},this.events=[]}t.exports=CollectingHandler;var s=i(180).EVENTS;Object.keys(s).forEach((function(t){if(0===s[t])t="on"+t,CollectingHandler.prototype[t]=function(){this.events.push([t]),this._cbs[t]&&this._cbs[t]()};else if(1===s[t])t="on"+t,CollectingHandler.prototype[t]=function(e){this.events.push([t,e]),this._cbs[t]&&this._cbs[t](e)};else{if(2!==s[t])throw Error("wrong number of arguments");t="on"+t,CollectingHandler.prototype[t]=function(e,i){this.events.push([t,e,i]),this._cbs[t]&&this._cbs[t](e,i)}}})),CollectingHandler.prototype.onreset=function(){this.events=[],this._cbs.onreset&&this._cbs.onreset()},CollectingHandler.prototype.restart=function(){this._cbs.onreset&&this._cbs.onreset();for(var t=0,e=this.events.length;t<e;t++)if(this._cbs[this.events[t][0]]){var i=this.events[t].length;1===i?this._cbs[this.events[t][0]]():2===i?this._cbs[this.events[t][0]](this.events[t][1]):this._cbs[this.events[t][0]](this.events[t][1],this.events[t][2])}}}}]);
//# sourceMappingURL=npm.htmlparser2-c4d9a2f690afb5d7a7c0.js.map