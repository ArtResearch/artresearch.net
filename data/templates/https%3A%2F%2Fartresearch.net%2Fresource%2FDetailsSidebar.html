
<mp-splitpane id='details-sidebar' nav-height=92 min-size=37 default-size=300 default-open='false' dock=true primary='second' always-render=true>
  [[> @partial-block]]
  <div data-flex-layout='column top-stretch' style="background: transparent;">
    <style>
      .details-sidebar > div {
        flex: auto;
				overflow-y: auto;
				height: 0;
				min-height: 30px;
        margin-bottom: 11px;
      }
    </style>
    
    [[!-- open sidebar when details view button is clicked in the card--]]
    <mp-event-proxy id='open-details-sidebar' 
                    on-event-source='details-view-trigger'
                    on-event-type='Component.TemplateUpdate'
                    proxy-event-type='SplitPane.Open' 
                    proxy-targets='["details-sidebar"]'
    ></mp-event-proxy>
    
    <mp-splitpane-toggle-on>
      <button
        style="border: none; outline: none; width: 100%; position:absolute; top:40%; left: -54px; background-color: #E9ECEF;"
        class="rs-button rs-drawer rs-h2">Details</button>
    </mp-splitpane-toggle-on>
    <mp-splitpane-toggle-off>
      <div class="split-pane__leftsidebar-header">
        <button data-flex-layout='layout="row center-left'
          style="border: none; width: 100%; background-color: #E9ECEF; padding: 24px 24px 16px 24px;">
          <div class="fa fa-angle-right" style="font-size: 20px; color: #1D0A6E;" aria-hidden="true"></div>
          <div class="split-pane__leftsidebar-title">
            <h1 style="margin:0px; padding-left: 15px;">Details</h1>
          </div>
        </button>
      </div>
    </mp-splitpane-toggle-off>
    <mp-splitpane-sidebar-open
      class='details-sidebar'
      style='display: flex; flex-direction: column; flex: auto; background-color: rgb(233, 236, 239); padding: 0px 45px; height: 100%;'
    >
      <mp-event-target-template-render fixed-key='details-view' reparentable='true' id='details-view' template='{{> template}}'>
        <template id='template'>
          {{#if iri}}
            <mp-event-target-refresh id='details-fields-view'>
              <mp-page-loader iri='[[resolvePrefix "Default:DetailsView"]]' urlqueryparam-resource="{{iri}}"
                urlqueryparam-query-resource="<{{iri}}>"></mp-page-loader>
            </mp-event-target-refresh>
          {{else}}
          <div></div>
          {{/if}}
        </template>
      </mp-event-target-template-render>
    </mp-splitpane-sidebar-open>
  </div>
</mp-splitpane>
