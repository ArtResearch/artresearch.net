(window.webpackJsonp=window.webpackJsonp||[]).push([[126],{1085:function(e,t,n){e.exports=function(){"use strict";var e=navigator.userAgent,t=navigator.platform,n=/gecko\/\d/i.test(e),r=/MSIE \d/.test(e),i=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),o=r||i,a=o&&(r?document.documentMode||6:i[1]),l=/WebKit\//.test(e),s=l&&/Qt\/\d+\.\d+/.test(e),c=/Chrome\//.test(e),u=/Opera\//.test(e),d=/Apple Computer/.test(navigator.vendor),f=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),h=/PhantomJS/.test(e),g=/AppleWebKit/.test(e)&&/Mobile\/\w+/.test(e),m=g||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),v=g||/Mac/.test(t),y=/\bCrOS\b/.test(e),x=/win/i.test(t),b=u&&e.match(/Version\/(\d*\.\d*)/);b&&(b=Number(b[1])),b&&b>=15&&(u=!1,l=!0);var w=v&&(s||u&&(null==b||b<12.11)),k=n||o&&a>=9,C=!1,S=!1;function CodeMirror(e,t){if(!(this instanceof CodeMirror))return new CodeMirror(e,t);this.options=t=t?copyObj(t):{},copyObj(R,t,!1),setGuttersForLineNumbers(t);var n=t.value;"string"==typeof n&&(n=new ue(n,t.mode,null,t.lineSeparator)),this.doc=n;var r=new CodeMirror.inputStyles[t.inputStyle](this),i=this.display=new Display(e,n,r);i.wrapper.CodeMirror=this,updateGutters(this),themeChanged(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),t.autofocus&&!m&&i.input.focus(),initScrollbars(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new Delayed,keySeq:null,specialChars:null};var s=this;for(var c in o&&a<11&&setTimeout((function(){s.display.input.reset(!0)}),20),function registerEventHandlers(e){var t=e.display;me(t.scroller,"mousedown",operation(e,onMouseDown)),me(t.scroller,"dblclick",o&&a<11?operation(e,(function(t){if(!signalDOMEvent(e,t)){var n=posFromMouse(e,t);if(n&&!clickInGutter(e,t)&&!eventInWidget(e.display,t)){fe(t);var r=e.findWordAt(n);extendSelection(e.doc,r.anchor,r.head)}}})):function(t){signalDOMEvent(e,t)||fe(t)}),k||me(t.scroller,"contextmenu",(function(t){onContextMenu(e,t)}));var n,r={end:0};function finishTouch(){t.activeTouch&&(n=setTimeout((function(){t.activeTouch=null}),1e3),(r=t.activeTouch).end=+new Date)}function farAway(e,t){if(null==t.left)return!0;var n=t.left-e.left,r=t.top-e.top;return n*n+r*r>400}me(t.scroller,"touchstart",(function(i){if(!signalDOMEvent(e,i)&&!function isMouseLikeTouchEvent(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}(i)){clearTimeout(n);var o=+new Date;t.activeTouch={start:o,moved:!1,prev:o-r.end<=300?r:null},1==i.touches.length&&(t.activeTouch.left=i.touches[0].pageX,t.activeTouch.top=i.touches[0].pageY)}})),me(t.scroller,"touchmove",(function(){t.activeTouch&&(t.activeTouch.moved=!0)})),me(t.scroller,"touchend",(function(n){var r=t.activeTouch;if(r&&!eventInWidget(t,n)&&null!=r.left&&!r.moved&&new Date-r.start<300){var i,o=e.coordsChar(t.activeTouch,"page");i=!r.prev||farAway(r,r.prev)?new Range(o,o):!r.prev.prev||farAway(r,r.prev.prev)?e.findWordAt(o):new Range(L(o.line,0),clipPos(e.doc,L(o.line+1,0))),e.setSelection(i.anchor,i.head),e.focus(),fe(n)}finishTouch()})),me(t.scroller,"touchcancel",finishTouch),me(t.scroller,"scroll",(function(){t.scroller.clientHeight&&(setScrollTop(e,t.scroller.scrollTop),setScrollLeft(e,t.scroller.scrollLeft,!0),xe(e,"scroll",e))})),me(t.scroller,"mousewheel",(function(t){onScrollWheel(e,t)})),me(t.scroller,"DOMMouseScroll",(function(t){onScrollWheel(e,t)})),me(t.wrapper,"scroll",(function(){t.wrapper.scrollTop=t.wrapper.scrollLeft=0})),t.dragFunctions={enter:function(t){signalDOMEvent(e,t)||ge(t)},over:function(t){signalDOMEvent(e,t)||(function onDragOver(e,t){var n=posFromMouse(e,t);if(n){var r=document.createDocumentFragment();drawSelectionCursor(e,n,r),e.display.dragCursor||(e.display.dragCursor=elt("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),removeChildrenAndAdd(e.display.dragCursor,r)}}(e,t),ge(t))},start:function(t){!function onDragStart(e,t){if(o&&(!e.state.draggingText||+new Date-D<100))ge(t);else if(!signalDOMEvent(e,t)&&!eventInWidget(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!d)){var n=elt("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",u&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),u&&n.parentNode.removeChild(n)}}(e,t)},drop:operation(e,onDrop),leave:function(t){signalDOMEvent(e,t)||clearDragCursor(e)}};var i=t.input.getField();me(i,"keyup",(function(t){onKeyUp.call(e,t)})),me(i,"keydown",operation(e,onKeyDown)),me(i,"keypress",operation(e,onKeyPress)),me(i,"focus",(function(t){onFocus(e,t)})),me(i,"blur",(function(t){onBlur(e,t)}))}(this),function ensureGlobalHandlers(){ze||(function registerGlobalHandlers(){var e;me(window,"resize",(function(){null==e&&(e=setTimeout((function(){e=null,forEachCodeMirror(onResize)}),100))})),me(window,"blur",(function(){forEachCodeMirror(onBlur)}))}(),ze=!0)}(),startOperation(this),this.curOp.forceUpdate=!0,attachDoc(this,n),t.autofocus&&!m||s.hasFocus()?setTimeout(bind(onFocus,this),20):onBlur(this),_)_.hasOwnProperty(c)&&_[c](this,t[c],V);maybeUpdateLineNumberWidth(this),t.finishInit&&t.finishInit(this);for(var f=0;f<K.length;++f)K[f](this);endOperation(this),l&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(i.lineDiv).textRendering&&(i.lineDiv.style.textRendering="auto")}function Display(e,t,r){var i=this;this.input=r,i.scrollbarFiller=elt("div",null,"CodeMirror-scrollbar-filler"),i.scrollbarFiller.setAttribute("cm-not-content","true"),i.gutterFiller=elt("div",null,"CodeMirror-gutter-filler"),i.gutterFiller.setAttribute("cm-not-content","true"),i.lineDiv=elt("div",null,"CodeMirror-code"),i.selectionDiv=elt("div",null,null,"position: relative; z-index: 1"),i.cursorDiv=elt("div",null,"CodeMirror-cursors"),i.measure=elt("div",null,"CodeMirror-measure"),i.lineMeasure=elt("div",null,"CodeMirror-measure"),i.lineSpace=elt("div",[i.measure,i.lineMeasure,i.selectionDiv,i.cursorDiv,i.lineDiv],null,"position: relative; outline: none"),i.mover=elt("div",[elt("div",[i.lineSpace],"CodeMirror-lines")],null,"position: relative"),i.sizer=elt("div",[i.mover],"CodeMirror-sizer"),i.sizerWidth=null,i.heightForcer=elt("div",null,null,"position: absolute; height: "+we+"px; width: 1px;"),i.gutters=elt("div",null,"CodeMirror-gutters"),i.lineGutter=null,i.scroller=elt("div",[i.sizer,i.heightForcer,i.gutters],"CodeMirror-scroll"),i.scroller.setAttribute("tabIndex","-1"),i.wrapper=elt("div",[i.scrollbarFiller,i.gutterFiller,i.scroller],"CodeMirror"),o&&a<8&&(i.gutters.style.zIndex=-1,i.scroller.style.paddingRight=0),l||n&&m||(i.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(i.wrapper):e(i.wrapper)),i.viewFrom=i.viewTo=t.first,i.reportedViewFrom=i.reportedViewTo=t.first,i.view=[],i.renderedView=null,i.externalMeasured=null,i.viewOffset=0,i.lastWrapHeight=i.lastWrapWidth=0,i.updateLineNumbers=null,i.nativeBarWidth=i.barHeight=i.barWidth=0,i.scrollbarsClipped=!1,i.lineNumWidth=i.lineNumInnerWidth=i.lineNumChars=null,i.alignWidgets=!1,i.cachedCharWidth=i.cachedTextHeight=i.cachedPaddingH=null,i.maxLine=null,i.maxLineLength=0,i.maxLineChanged=!1,i.wheelDX=i.wheelDY=i.wheelStartX=i.wheelStartY=null,i.shift=!1,i.selForContextMenu=null,i.activeTouch=null,r.init(i)}function loadMode(e){e.doc.mode=CodeMirror.getMode(e.options,e.doc.modeOption),resetModeState(e)}function resetModeState(e){e.doc.iter((function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)})),e.doc.frontier=e.doc.first,startWorker(e,100),e.state.modeGen++,e.curOp&&regChange(e)}function estimateHeight(e){var t=textHeight(e.display),n=e.options.lineWrapping,r=n&&Math.max(5,e.display.scroller.clientWidth/charWidth(e.display)-3);return function(i){if(lineIsHidden(e.doc,i))return 0;var o=0;if(i.widgets)for(var a=0;a<i.widgets.length;a++)i.widgets[a].height&&(o+=i.widgets[a].height);return n?o+(Math.ceil(i.text.length/r)||1)*t:o+t}}function estimateLineHeights(e){var t=e.doc,n=estimateHeight(e);t.iter((function(e){var t=n(e);t!=e.height&&updateLineHeight(e,t)}))}function themeChanged(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),clearCaches(e)}function guttersChanged(e){updateGutters(e),regChange(e),setTimeout((function(){alignHorizontally(e)}),20)}function updateGutters(e){var t=e.display.gutters,n=e.options.gutters;removeChildren(t);for(var r=0;r<n.length;++r){var i=n[r],o=t.appendChild(elt("div",null,"CodeMirror-gutter "+i));"CodeMirror-linenumbers"==i&&(e.display.lineGutter=o,o.style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=r?"":"none",updateGutterSpace(e)}function updateGutterSpace(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function lineLength(e){if(0==e.height)return 0;for(var t,n=e.text.length,r=e;t=collapsedSpanAtStart(r);)r=(i=t.find(0,!0)).from.line,n+=i.from.ch-i.to.ch;for(r=e;t=collapsedSpanAtEnd(r);){var i=t.find(0,!0);n-=r.text.length-i.from.ch,n+=(r=i.to.line).text.length-i.to.ch}return n}function findMaxLine(e){var t=e.display,n=e.doc;t.maxLine=getLine(n,n.first),t.maxLineLength=lineLength(t.maxLine),t.maxLineChanged=!0,n.iter((function(e){var n=lineLength(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)}))}function setGuttersForLineNumbers(e){var t=indexOf(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function measureForScrollbars(e){var t=e.display,n=t.gutters.offsetWidth,r=Math.round(e.doc.height+paddingVert(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+scrollGap(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}function NativeScrollbars(e,t,n){this.cm=n;var r=this.vert=elt("div",[elt("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=elt("div",[elt("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e(r),e(i),me(r,"scroll",(function(){r.clientHeight&&t(r.scrollTop,"vertical")})),me(i,"scroll",(function(){i.clientWidth&&t(i.scrollLeft,"horizontal")})),this.checkedZeroWidth=!1,o&&a<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function NullScrollbars(){}function initScrollbars(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&De(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new CodeMirror.scrollbarModel[e.options.scrollbarStyle]((function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),me(t,"mousedown",(function(){e.state.focused&&setTimeout((function(){e.display.input.focus()}),0)})),t.setAttribute("cm-not-content","true")}),(function(t,n){"horizontal"==n?setScrollLeft(e,t):setScrollTop(e,t)}),e),e.display.scrollbars.addClass&&We(e.display.wrapper,e.display.scrollbars.addClass)}function updateScrollbars(e,t){t||(t=measureForScrollbars(e));var n=e.display.barWidth,r=e.display.barHeight;updateScrollbarsInner(e,t);for(var i=0;i<4&&n!=e.display.barWidth||r!=e.display.barHeight;i++)n!=e.display.barWidth&&e.options.lineWrapping&&updateHeightsInViewport(e),updateScrollbarsInner(e,measureForScrollbars(e)),n=e.display.barWidth,r=e.display.barHeight}function updateScrollbarsInner(e,t){var n=e.display,r=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}function visibleLines(e,t,n){var r=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-paddingTop(e));var i=n&&null!=n.bottom?n.bottom:r+e.wrapper.clientHeight,o=lineAtHeight(t,r),a=lineAtHeight(t,i);if(n&&n.ensure){var l=n.ensure.from.line,s=n.ensure.to.line;l<o?(o=l,a=lineAtHeight(t,heightAtLine(getLine(t,l))+e.wrapper.clientHeight)):Math.min(s,t.lastLine())>=a&&(o=lineAtHeight(t,heightAtLine(getLine(t,s))-e.wrapper.clientHeight),a=s)}return{from:o,to:Math.max(a,o+1)}}function alignHorizontally(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var r=compensateForHScroll(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=r+"px",a=0;a<n.length;a++)if(!n[a].hidden){e.options.fixedGutter&&(n[a].gutter&&(n[a].gutter.style.left=o),n[a].gutterBackground&&(n[a].gutterBackground.style.left=o));var l=n[a].alignable;if(l)for(var s=0;s<l.length;s++)l[s].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=r+i+"px")}}function maybeUpdateLineNumberWidth(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=lineNumberFor(e.options,t.first+t.size-1),r=e.display;if(n.length!=r.lineNumChars){var i=r.measure.appendChild(elt("div",[elt("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,a=i.offsetWidth-o;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(o,r.lineGutter.offsetWidth-a)+1,r.lineNumWidth=r.lineNumInnerWidth+a,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",updateGutterSpace(e),!0}return!1}function lineNumberFor(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function compensateForHScroll(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function DisplayUpdate(e,t,n){var r=e.display;this.viewport=t,this.visible=visibleLines(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=displayWidth(e),this.force=n,this.dims=getDimensions(e),this.events=[]}function updateDisplayIfNeeded(e,t){var n=e.display,r=e.doc;if(t.editorIsHidden)return resetView(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==countDirtyView(e))return!1;maybeUpdateLineNumberWidth(e)&&(resetView(e),t.dims=getDimensions(e));var i=r.first+r.size,o=Math.max(t.visible.from-e.options.viewportMargin,r.first),a=Math.min(i,t.visible.to+e.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(r.first,n.viewFrom)),n.viewTo>a&&n.viewTo-a<20&&(a=Math.min(i,n.viewTo)),S&&(o=visualLineNo(e.doc,o),a=visualLineEndNo(e.doc,a));var s=o!=n.viewFrom||a!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;!function adjustView(e,t,n){var r=e.display;0==r.view.length||t>=r.viewTo||n<=r.viewFrom?(r.view=buildViewArray(e,t,n),r.viewFrom=t):(r.viewFrom>t?r.view=buildViewArray(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(findViewIndex(e,t))),r.viewFrom=t,r.viewTo<n?r.view=r.view.concat(buildViewArray(e,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,findViewIndex(e,n)))),r.viewTo=n}(e,o,a),n.viewOffset=heightAtLine(getLine(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var c=countDirtyView(e);if(!s&&0==c&&!t.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var u=activeElt();return c>4&&(n.lineDiv.style.display="none"),function patchDisplay(e,t,n){var r=e.display,i=e.options.lineNumbers,o=r.lineDiv,a=o.firstChild;function rm(t){var n=t.nextSibling;return l&&v&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var s=r.view,c=r.viewFrom,u=0;u<s.length;u++){var d=s[u];if(d.hidden);else if(d.node&&d.node.parentNode==o){for(;a!=d.node;)a=rm(a);var f=i&&null!=t&&t<=c&&d.lineNumber;d.changes&&(indexOf(d.changes,"gutter")>-1&&(f=!1),updateLineForChanges(e,d,c,n)),f&&(removeChildren(d.lineNumber),d.lineNumber.appendChild(document.createTextNode(lineNumberFor(e.options,c)))),a=d.node.nextSibling}else{var h=buildLineElement(e,d,c,n);o.insertBefore(h,a)}c+=d.size}for(;a;)a=rm(a)}(e,n.updateLineNumbers,t.dims),c>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,u&&activeElt()!=u&&u.offsetHeight&&u.focus(),removeChildren(n.cursorDiv),removeChildren(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,s&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,startWorker(e,400)),n.updateLineNumbers=null,!0}function postUpdateDisplay(e,t){for(var n=t.viewport,r=!0;(r&&e.options.lineWrapping&&t.oldDisplayWidth!=displayWidth(e)||(n&&null!=n.top&&(n={top:Math.min(e.doc.height+paddingVert(e.display)-displayHeight(e),n.top)}),t.visible=visibleLines(e.display,e.doc,n),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&updateDisplayIfNeeded(e,t);r=!1){updateHeightsInViewport(e);var i=measureForScrollbars(e);updateSelection(e),updateScrollbars(e,i),setDocumentHeight(e,i)}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function updateDisplaySimple(e,t){var n=new DisplayUpdate(e,t);if(updateDisplayIfNeeded(e,n)){updateHeightsInViewport(e),postUpdateDisplay(e,n);var r=measureForScrollbars(e);updateSelection(e),updateScrollbars(e,r),setDocumentHeight(e,r),n.finish()}}function setDocumentHeight(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+scrollGap(e)+"px"}function updateHeightsInViewport(e){for(var t=e.display,n=t.lineDiv.offsetTop,r=0;r<t.view.length;r++){var i,l=t.view[r];if(!l.hidden){if(o&&a<8){var s=l.node.offsetTop+l.node.offsetHeight;i=s-n,n=s}else{var c=l.node.getBoundingClientRect();i=c.bottom-c.top}var u=l.line.height-i;if(i<2&&(i=textHeight(t)),(u>.001||u<-.001)&&(updateLineHeight(l.line,i),updateWidgetHeight(l.line),l.rest))for(var d=0;d<l.rest.length;d++)updateWidgetHeight(l.rest[d])}}}function updateWidgetHeight(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t)e.widgets[t].height=e.widgets[t].node.parentNode.offsetHeight}function getDimensions(e){for(var t=e.display,n={},r={},i=t.gutters.clientLeft,o=t.gutters.firstChild,a=0;o;o=o.nextSibling,++a)n[e.options.gutters[a]]=o.offsetLeft+o.clientLeft+i,r[e.options.gutters[a]]=o.clientWidth;return{fixedPos:compensateForHScroll(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function updateLineForChanges(e,t,n,r){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];"text"==o?updateLineText(e,t):"gutter"==o?updateLineGutter(e,t,n,r):"class"==o?updateLineClasses(t):"widget"==o&&updateLineWidgets(e,t,r)}t.changes=null}function ensureLineWrapped(e){return e.node==e.text&&(e.node=elt("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),o&&a<8&&(e.node.style.zIndex=2)),e.node}function getLineContent(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):buildLineContent(e,t)}function updateLineText(e,t){var n=t.text.className,r=getLineContent(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,updateLineClasses(t)):n&&(t.text.className=n)}function updateLineClasses(e){!function updateLineBackground(e){var t=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(t&&(t+=" CodeMirror-linebackground"),e.background)t?e.background.className=t:(e.background.parentNode.removeChild(e.background),e.background=null);else if(t){var n=ensureLineWrapped(e);e.background=n.insertBefore(elt("div",null,t),n.firstChild)}}(e),e.line.wrapClass?ensureLineWrapped(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var t=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=t||""}function updateLineGutter(e,t,n,r){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var i=ensureLineWrapped(t);t.gutterBackground=elt("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),i.insertBefore(t.gutterBackground,t.text)}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){i=ensureLineWrapped(t);var a=t.gutter=elt("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(e.display.input.setUneditable(a),i.insertBefore(a,t.text),t.line.gutterClass&&(a.className+=" "+t.line.gutterClass),!e.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(t.lineNumber=a.appendChild(elt("div",lineNumberFor(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),o)for(var l=0;l<e.options.gutters.length;++l){var s=e.options.gutters[l],c=o.hasOwnProperty(s)&&o[s];c&&a.appendChild(elt("div",[c],"CodeMirror-gutter-elt","left: "+r.gutterLeft[s]+"px; width: "+r.gutterWidth[s]+"px"))}}}function updateLineWidgets(e,t,n){t.alignable&&(t.alignable=null);for(var r=t.node.firstChild;r;r=i){var i=r.nextSibling;"CodeMirror-linewidget"==r.className&&t.node.removeChild(r)}insertLineWidgets(e,t,n)}function buildLineElement(e,t,n,r){var i=getLineContent(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),updateLineClasses(t),updateLineGutter(e,t,n,r),insertLineWidgets(e,t,r),t.node}function insertLineWidgets(e,t,n){if(insertLineWidgetsFor(e,t.line,t,n,!0),t.rest)for(var r=0;r<t.rest.length;r++)insertLineWidgetsFor(e,t.rest[r],t,n,!1)}function insertLineWidgetsFor(e,t,n,r,i){if(t.widgets)for(var o=ensureLineWrapped(n),a=0,l=t.widgets;a<l.length;++a){var s=l[a],c=elt("div",[s.node],"CodeMirror-linewidget");s.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),positionLineWidget(s,c,n,r),e.display.input.setUneditable(c),i&&s.above?o.insertBefore(c,n.gutter||n.text):o.appendChild(c),signalLater(s,"redraw")}}function positionLineWidget(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var i=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(i-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}NativeScrollbars.prototype=copyObj({update:function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?r+"px":"0";var i=e.viewHeight-(t?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(n?r:0);this.horiz.firstChild.style.width=e.scrollWidth-e.clientWidth+o+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:t?r:0}},setScrollLeft:function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz)},setScrollTop:function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert)},zeroWidthHack:function(){var e=v&&!f?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new Delayed,this.disableVert=new Delayed},enableZeroWidthBar:function(e,t){e.style.pointerEvents="auto",t.set(1e3,(function maybeDisable(){var n=e.getBoundingClientRect();document.elementFromPoint(n.left+1,n.bottom-1)!=e?e.style.pointerEvents="none":t.set(1e3,maybeDisable)}))},clear:function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)}},NativeScrollbars.prototype),NullScrollbars.prototype=copyObj({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},NullScrollbars.prototype),CodeMirror.scrollbarModel={native:NativeScrollbars,null:NullScrollbars},DisplayUpdate.prototype.signal=function(e,t){hasHandler(e,t)&&this.events.push(arguments)},DisplayUpdate.prototype.finish=function(){for(var e=0;e<this.events.length;e++)xe.apply(null,this.events[e])};var L=CodeMirror.Pos=function(e,t){if(!(this instanceof L))return new L(e,t);this.line=e,this.ch=t},M=CodeMirror.cmpPos=function(e,t){return e.line-t.line||e.ch-t.ch};function copyPos(e){return L(e.line,e.ch)}function maxPos(e,t){return M(e,t)<0?t:e}function minPos(e,t){return M(e,t)<0?e:t}function ensureFocus(e){e.state.focused||(e.display.input.focus(),onFocus(e))}var T=null;function applyTextInput(e,t,n,r,i){var o=e.doc;e.display.shift=!1,r||(r=o.sel);var a=e.state.pasteIncoming||"paste"==i,l=o.splitLines(t),s=null;if(a&&r.ranges.length>1)if(T&&T.text.join("\n")==t){if(r.ranges.length%T.text.length==0){s=[];for(var c=0;c<T.text.length;c++)s.push(o.splitLines(T.text[c]))}}else l.length==r.ranges.length&&(s=map(l,(function(e){return[e]})));for(c=r.ranges.length-1;c>=0;c--){var u=r.ranges[c],d=u.from(),f=u.to();u.empty()&&(n&&n>0?d=L(d.line,d.ch-n):e.state.overwrite&&!a?f=L(f.line,Math.min(getLine(o,f.line).text.length,f.ch+lst(l).length)):T&&T.lineWise&&T.text.join("\n")==t&&(d=f=L(d.line,0)));var h=e.curOp.updateInput,g={from:d,to:f,text:s?s[c%s.length]:l,origin:i||(a?"paste":e.state.cutIncoming?"cut":"+input")};makeChange(e.doc,g),signalLater(e,"inputRead",e,g)}t&&!a&&triggerElectric(e,t),ensureCursorVisible(e),e.curOp.updateInput=h,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function handlePaste(e,t){var n=e.clipboardData&&e.clipboardData.getData("Text");if(n)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||runInOp(t,(function(){applyTextInput(t,n,0,null,"paste")})),!0}function triggerElectric(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,r=n.ranges.length-1;r>=0;r--){var i=n.ranges[r];if(!(i.head.ch>100||r&&n.ranges[r-1].head.line==i.head.line)){var o=e.getModeAt(i.head),a=!1;if(o.electricChars){for(var l=0;l<o.electricChars.length;l++)if(t.indexOf(o.electricChars.charAt(l))>-1){a=indentLine(e,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(getLine(e.doc,i.head.line).text.slice(0,i.head.ch))&&(a=indentLine(e,i.head.line,"smart"));a&&signalLater(e,"electricInput",e,i.head.line)}}}function copyableRanges(e){for(var t=[],n=[],r=0;r<e.doc.sel.ranges.length;r++){var i=e.doc.sel.ranges[r].head.line,o={anchor:L(i,0),head:L(i+1,0)};n.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:n}}function disableBrowserMagic(e,t){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck",!!t)}function TextareaInput(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new Delayed,this.inaccurateSelection=!1,this.hasSelection=!1,this.composing=null}function hiddenTextarea(){var e=elt("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=elt("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return l?e.style.width="1000px":e.setAttribute("wrap","off"),g&&(e.style.border="1px solid black"),disableBrowserMagic(e),t}function ContentEditableInput(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Delayed,this.gracePeriod=!1}function posToDOM(e,t){var n=findViewForLine(e,t.line);if(!n||n.hidden)return null;var r=getLine(e.doc,t.line),i=mapFromLineView(n,r,t.line),o=getOrder(r),a="left";o&&(a=getBidiPartAt(o,t.ch)%2?"right":"left");var l=nodeAndOffsetInLineMap(i.map,t.ch,a);return l.offset="right"==l.collapse?l.end:l.start,l}function badPos(e,t){return t&&(e.bad=!0),e}function domToPos(e,t,n){var r;if(t==e.display.lineDiv){if(!(r=e.display.lineDiv.childNodes[n]))return badPos(e.clipPos(L(e.display.viewTo-1)),!0);t=null,n=0}else for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==r)return locateNodeInLineView(o,t,n)}}function locateNodeInLineView(e,t,n){var r=e.text.firstChild,i=!1;if(!t||!He(r,t))return badPos(L(lineNo(e.line),0),!0);if(t==r&&(i=!0,t=r.childNodes[n],n=0,!t)){var o=e.rest?lst(e.rest):e.line;return badPos(L(lineNo(o),o.text.length),i)}var a=3==t.nodeType?t:null,l=t;for(a||1!=t.childNodes.length||3!=t.firstChild.nodeType||(a=t.firstChild,n&&(n=a.nodeValue.length));l.parentNode!=r;)l=l.parentNode;var s=e.measure,c=s.maps;function find(t,n,r){for(var i=-1;i<(c?c.length:0);i++)for(var o=i<0?s.map:c[i],a=0;a<o.length;a+=3){var l=o[a+2];if(l==t||l==n){var u=lineNo(i<0?e.line:e.rest[i]),d=o[a]+r;return(r<0||l!=t)&&(d=o[a+(r?1:0)]),L(u,d)}}}var u=find(a,l,n);if(u)return badPos(u,i);for(var d=l.nextSibling,f=a?a.nodeValue.length-n:0;d;d=d.nextSibling){if(u=find(d,d.firstChild,0))return badPos(L(u.line,u.ch-f),i);f+=d.textContent.length}var h=l.previousSibling;for(f=n;h;h=h.previousSibling){if(u=find(h,h.firstChild,-1))return badPos(L(u.line,u.ch+f),i);f+=h.textContent.length}}function Selection(e,t){this.ranges=e,this.primIndex=t}function Range(e,t){this.anchor=e,this.head=t}function normalizeSelection(e,t){var n=e[t];e.sort((function(e,t){return M(e.from(),t.from())})),t=indexOf(e,n);for(var r=1;r<e.length;r++){var i=e[r],o=e[r-1];if(M(o.to(),i.from())>=0){var a=minPos(o.from(),i.from()),l=maxPos(o.to(),i.to()),s=o.empty()?i.from()==i.head:o.from()==o.head;r<=t&&--t,e.splice(--r,2,new Range(s?l:a,s?a:l))}}return new Selection(e,t)}function simpleSelection(e,t){return new Selection([new Range(e,t||e)],0)}function clipLine(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function clipPos(e,t){if(t.line<e.first)return L(e.first,0);var n=e.first+e.size-1;return t.line>n?L(n,getLine(e,n).text.length):function clipToLen(e,t){var n=e.ch;return null==n||n>t?L(e.line,t):n<0?L(e.line,0):e}(t,getLine(e,t.line).text.length)}function isLine(e,t){return t>=e.first&&t<e.first+e.size}function clipPosArray(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=clipPos(e,t[r]);return n}function extendRange(e,t,n,r){if(e.cm&&e.cm.display.shift||e.extend){var i=t.anchor;if(r){var o=M(n,i)<0;o!=M(r,i)<0?(i=n,n=r):o!=M(n,r)<0&&(n=r)}return new Range(i,n)}return new Range(r||n,n)}function extendSelection(e,t,n,r){setSelection(e,new Selection([extendRange(e,e.sel.primary(),t,n)],0),r)}function extendSelections(e,t,n){for(var r=[],i=0;i<e.sel.ranges.length;i++)r[i]=extendRange(e,e.sel.ranges[i],t[i],null);setSelection(e,normalizeSelection(r,e.sel.primIndex),n)}function replaceOneSelection(e,t,n,r){var i=e.sel.ranges.slice(0);i[t]=n,setSelection(e,normalizeSelection(i,e.sel.primIndex),r)}function setSimpleSelection(e,t,n,r){setSelection(e,simpleSelection(t,n),r)}function setSelectionReplaceHistory(e,t,n){var r=e.history.done,i=lst(r);i&&i.ranges?(r[r.length-1]=t,setSelectionNoUndo(e,t,n)):setSelection(e,t,n)}function setSelection(e,t,n){setSelectionNoUndo(e,t,n),function addSelectionToHistory(e,t,n,r){var i=e.history,o=r&&r.origin;n==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||function selectionEventCanBeMerged(e,t,n,r){var i=t.charAt(0);return"*"==i||"+"==i&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}(e,o,lst(i.done),t))?i.done[i.done.length-1]=t:pushSelectionToHistory(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=n,r&&!1!==r.clearRedo&&clearSelectionEvents(i.undone)}(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function setSelectionNoUndo(e,t,n){(hasHandler(e,"beforeSelectionChange")||e.cm&&hasHandler(e.cm,"beforeSelectionChange"))&&(t=function filterSelectionChange(e,t,n){var r={ranges:t.ranges,update:function(t){this.ranges=[];for(var n=0;n<t.length;n++)this.ranges[n]=new Range(clipPos(e,t[n].anchor),clipPos(e,t[n].head))},origin:n&&n.origin};return xe(e,"beforeSelectionChange",e,r),e.cm&&xe(e.cm,"beforeSelectionChange",e.cm,r),r.ranges!=t.ranges?normalizeSelection(r.ranges,r.ranges.length-1):t}(e,t,n));var r=n&&n.bias||(M(t.primary().head,e.sel.primary().head)<0?-1:1);setSelectionInner(e,skipAtomicInSelection(e,t,r,!0)),n&&!1===n.scroll||!e.cm||ensureCursorVisible(e.cm)}function setSelectionInner(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,signalCursorActivity(e.cm)),signalLater(e,"cursorActivity",e))}function reCheckSelection(e){setSelectionInner(e,skipAtomicInSelection(e,e.sel,null,!1))}function skipAtomicInSelection(e,t,n,r){for(var i,o=0;o<t.ranges.length;o++){var a=t.ranges[o],l=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],s=skipAtomic(e,a.anchor,l&&l.anchor,n,r),c=skipAtomic(e,a.head,l&&l.head,n,r);(i||s!=a.anchor||c!=a.head)&&(i||(i=t.ranges.slice(0,o)),i[o]=new Range(s,c))}return i?normalizeSelection(i,t.primIndex):t}function skipAtomicInner(e,t,n,r,i){var o=getLine(e,t.line);if(o.markedSpans)for(var a=0;a<o.markedSpans.length;++a){var l=o.markedSpans[a],s=l.marker;if((null==l.from||(s.inclusiveLeft?l.from<=t.ch:l.from<t.ch))&&(null==l.to||(s.inclusiveRight?l.to>=t.ch:l.to>t.ch))){if(i&&(xe(s,"beforeCursorEnter"),s.explicitlyCleared)){if(o.markedSpans){--a;continue}break}if(!s.atomic)continue;if(n){var c,u=s.find(r<0?1:-1);if((r<0?s.inclusiveRight:s.inclusiveLeft)&&(u=movePos(e,u,-r,u&&u.line==t.line?o:null)),u&&u.line==t.line&&(c=M(u,n))&&(r<0?c<0:c>0))return skipAtomicInner(e,u,t,r,i)}var d=s.find(r<0?-1:1);return(r<0?s.inclusiveLeft:s.inclusiveRight)&&(d=movePos(e,d,r,d.line==t.line?o:null)),d?skipAtomicInner(e,d,t,r,i):null}}return t}function skipAtomic(e,t,n,r,i){var o=r||1,a=skipAtomicInner(e,t,n,o,i)||!i&&skipAtomicInner(e,t,n,o,!0)||skipAtomicInner(e,t,n,-o,i)||!i&&skipAtomicInner(e,t,n,-o,!0);return a||(e.cantEdit=!0,L(e.first,0))}function movePos(e,t,n,r){return n<0&&0==t.ch?t.line>e.first?clipPos(e,L(t.line-1)):null:n>0&&t.ch==(r||getLine(e,t.line)).text.length?t.line<e.first+e.size-1?L(t.line+1,0):null:new L(t.line,t.ch+n)}function updateSelection(e){e.display.input.showSelection(e.display.input.prepareSelection())}function prepareSelection(e,t){for(var n=e.doc,r={},i=r.cursors=document.createDocumentFragment(),o=r.selection=document.createDocumentFragment(),a=0;a<n.sel.ranges.length;a++)if(!1!==t||a!=n.sel.primIndex){var l=n.sel.ranges[a];if(!(l.from().line>=e.display.viewTo||l.to().line<e.display.viewFrom)){var s=l.empty();(s||e.options.showCursorWhenSelecting)&&drawSelectionCursor(e,l.head,i),s||drawSelectionRange(e,l,o)}}return r}function drawSelectionCursor(e,t,n){var r=cursorCoords(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),i=n.appendChild(elt("div"," ","CodeMirror-cursor"));if(i.style.left=r.left+"px",i.style.top=r.top+"px",i.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+"px",r.other){var o=n.appendChild(elt("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=r.other.left+"px",o.style.top=r.other.top+"px",o.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function drawSelectionRange(e,t,n){var r=e.display,i=e.doc,o=document.createDocumentFragment(),a=paddingH(e.display),l=a.left,s=Math.max(r.sizerWidth,displayWidth(e)-r.sizer.offsetLeft)-a.right;function add(e,t,n,r){t<0&&(t=0),t=Math.round(t),r=Math.round(r),o.appendChild(elt("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px; top: "+t+"px; width: "+(null==n?s-e:n)+"px; height: "+(r-t)+"px"))}function drawForLine(t,n,r){var o,a,c=getLine(i,t),u=c.text.length;function coords(n,r){return charCoords(e,L(t,n),"div",c,r)}return function iterateBidiSections(e,t,n,r){if(!e)return r(t,n,"ltr");for(var i=!1,o=0;o<e.length;++o){var a=e[o];(a.from<n&&a.to>t||t==n&&a.to==t)&&(r(Math.max(a.from,t),Math.min(a.to,n),1==a.level?"rtl":"ltr"),i=!0)}i||r(t,n,"ltr")}(getOrder(c),n||0,null==r?u:r,(function(e,t,i){var c,d,f,h=coords(e,"left");if(e==t)c=h,d=f=h.left;else{if(c=coords(t-1,"right"),"rtl"==i){var g=h;h=c,c=g}d=h.left,f=c.right}null==n&&0==e&&(d=l),c.top-h.top>3&&(add(d,h.top,null,h.bottom),d=l,h.bottom<c.top&&add(d,h.bottom,null,c.top)),null==r&&t==u&&(f=s),(!o||h.top<o.top||h.top==o.top&&h.left<o.left)&&(o=h),(!a||c.bottom>a.bottom||c.bottom==a.bottom&&c.right>a.right)&&(a=c),d<l+1&&(d=l),add(d,c.top,f-d,c.bottom)})),{start:o,end:a}}var c=t.from(),u=t.to();if(c.line==u.line)drawForLine(c.line,c.ch,u.ch);else{var d=getLine(i,c.line),f=getLine(i,u.line),h=visualLine(d)==visualLine(f),g=drawForLine(c.line,c.ch,h?d.text.length+1:null).end,m=drawForLine(u.line,h?0:null,u.ch).start;h&&(g.top<m.top-2?(add(g.right,g.top,null,g.bottom),add(l,m.top,m.left,m.bottom)):add(g.right,g.top,m.left-g.right,g.bottom)),g.bottom<m.top&&add(l,g.bottom,null,m.top)}n.appendChild(o)}function restartBlink(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval((function(){t.cursorDiv.style.visibility=(n=!n)?"":"hidden"}),e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function startWorker(e,t){e.doc.mode.startState&&e.doc.frontier<e.display.viewTo&&e.state.highlight.set(t,bind(highlightWorker,e))}function highlightWorker(e){var t=e.doc;if(t.frontier<t.first&&(t.frontier=t.first),!(t.frontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,r=$(t.mode,getStateBefore(e,t.frontier)),i=[];t.iter(t.frontier,Math.min(t.first+t.size,e.display.viewTo+500),(function(o){if(t.frontier>=e.display.viewFrom){var a=o.styles,l=o.text.length>e.options.maxHighlightLength,s=highlightLine(e,o,l?$(t.mode,r):r,!0);o.styles=s.styles;var c=o.styleClasses,u=s.classes;u?o.styleClasses=u:c&&(o.styleClasses=null);for(var d=!a||a.length!=o.styles.length||c!=u&&(!c||!u||c.bgClass!=u.bgClass||c.textClass!=u.textClass),f=0;!d&&f<a.length;++f)d=a[f]!=o.styles[f];d&&i.push(t.frontier),o.stateAfter=l?r:$(t.mode,r)}else o.text.length<=e.options.maxHighlightLength&&processLine(e,o.text,r),o.stateAfter=t.frontier%5==0?$(t.mode,r):null;if(++t.frontier,+new Date>n)return startWorker(e,e.options.workDelay),!0})),i.length&&runInOp(e,(function(){for(var t=0;t<i.length;t++)regLineChange(e,i[t],"text")}))}}function getStateBefore(e,t,n){var r=e.doc,i=e.display;if(!r.mode.startState)return!0;var o=function findStartLine(e,t,n){for(var r,i,o=e.doc,a=n?-1:t-(e.doc.mode.innerMode?1e3:100),l=t;l>a;--l){if(l<=o.first)return o.first;var s=getLine(o,l-1);if(s.stateAfter&&(!n||l<=o.frontier))return l;var c=Me(s.text,null,e.options.tabSize);(null==i||r>c)&&(i=l-1,r=c)}return i}(e,t,n),a=o>r.first&&getLine(r,o-1).stateAfter;return a=a?$(r.mode,a):X(r.mode),r.iter(o,t,(function(n){processLine(e,n.text,a);var l=o==t-1||o%5==0||o>=i.viewFrom&&o<i.viewTo;n.stateAfter=l?$(r.mode,a):null,++o})),n&&(r.frontier=o),a}function paddingTop(e){return e.lineSpace.offsetTop}function paddingVert(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function paddingH(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=removeChildrenAndAdd(e.measure,elt("pre","x")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(e.cachedPaddingH=r),r}function scrollGap(e){return we-e.display.nativeBarWidth}function displayWidth(e){return e.display.scroller.clientWidth-scrollGap(e)-e.display.barWidth}function displayHeight(e){return e.display.scroller.clientHeight-scrollGap(e)-e.display.barHeight}function mapFromLineView(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(r=0;r<e.rest.length;r++)if(lineNo(e.rest[r])>n)return{map:e.measure.maps[r],cache:e.measure.caches[r],before:!0}}function measureChar(e,t,n,r){return measureCharPrepared(e,prepareMeasureForLine(e,t),n,r)}function findViewForLine(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[findViewIndex(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function prepareMeasureForLine(e,t){var n=lineNo(t),r=findViewForLine(e,n);r&&!r.text?r=null:r&&r.changes&&(updateLineForChanges(e,r,n,getDimensions(e)),e.curOp.forceUpdate=!0),r||(r=function updateExternalMeasurement(e,t){var n=lineNo(t=visualLine(t)),r=e.display.externalMeasured=new LineView(e.doc,t,n);r.lineN=n;var i=r.built=buildLineContent(e,r);return r.text=i.pre,removeChildrenAndAdd(e.display.lineMeasure,i.pre),r}(e,t));var i=mapFromLineView(r,t,n);return{line:t,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function measureCharPrepared(e,t,n,r,i){t.before&&(n=-1);var l,s=n+(r||"");return t.cache.hasOwnProperty(s)?l=t.cache[s]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(function ensureLineHeights(e,t,n){var r=e.options.lineWrapping,i=r&&displayWidth(e);if(!t.measure.heights||r&&t.measure.width!=i){var o=t.measure.heights=[];if(r){t.measure.width=i;for(var a=t.text.firstChild.getClientRects(),l=0;l<a.length-1;l++){var s=a[l],c=a[l+1];Math.abs(s.bottom-c.bottom)>2&&o.push((s.bottom+c.top)/2-n.top)}}o.push(n.bottom-n.top)}}(e,t.view,t.rect),t.hasHeights=!0),(l=function measureCharInner(e,t,n,r){var i,l=nodeAndOffsetInLineMap(t.map,n,r),s=l.node,c=l.start,u=l.end,d=l.collapse;if(3==s.nodeType){for(var f=0;f<4;f++){for(;c&&isExtendingChar(t.line.text.charAt(l.coverStart+c));)--c;for(;l.coverStart+u<l.coverEnd&&isExtendingChar(t.line.text.charAt(l.coverStart+u));)++u;if((i=o&&a<9&&0==c&&u==l.coverEnd-l.coverStart?s.parentNode.getBoundingClientRect():getUsefulRect(Ne(s,c,u).getClientRects(),r)).left||i.right||0==c)break;u=c,c-=1,d="right"}o&&a<11&&(i=function maybeUpdateRectForZooming(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function hasBadZoomedRects(e){if(null!=Ge)return Ge;var t=removeChildrenAndAdd(e,elt("span","x")),n=t.getBoundingClientRect(),r=Ne(t,0,1).getBoundingClientRect();return Ge=Math.abs(n.left-r.left)>1}(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*r,bottom:t.bottom*r}}(e.display.measure,i))}else{var h;c>0&&(d=r="right"),i=e.options.lineWrapping&&(h=s.getClientRects()).length>1?h["right"==r?h.length-1:0]:s.getBoundingClientRect()}if(o&&a<9&&!c&&(!i||!i.left&&!i.right)){var g=s.parentNode.getClientRects()[0];i=g?{left:g.left,right:g.left+charWidth(e.display),top:g.top,bottom:g.bottom}:A}var m=i.top-t.rect.top,v=i.bottom-t.rect.top,y=(m+v)/2,x=t.view.measure.heights;for(f=0;f<x.length-1&&!(y<x[f]);f++);var b=f?x[f-1]:0,w=x[f],k={left:("right"==d?i.right:i.left)-t.rect.left,right:("left"==d?i.left:i.right)-t.rect.left,top:b,bottom:w};return i.left||i.right||(k.bogus=!0),e.options.singleCursorHeightPerLine||(k.rtop=m,k.rbottom=v),k}(e,t,n,r)).bogus||(t.cache[s]=l)),{left:l.left,right:l.right,top:i?l.rtop:l.top,bottom:i?l.rbottom:l.bottom}}TextareaInput.prototype=copyObj({init:function(e){var t=this,n=this.cm,r=this.wrapper=hiddenTextarea(),i=this.textarea=r.firstChild;function prepareCopyCut(e){if(!signalDOMEvent(n,e)){if(n.somethingSelected())T={lineWise:!1,text:n.getSelections()},t.inaccurateSelection&&(t.prevInput="",t.inaccurateSelection=!1,i.value=T.text.join("\n"),selectInput(i));else{if(!n.options.lineWiseCopyCut)return;var r=copyableRanges(n);T={lineWise:!0,text:r.text},"cut"==e.type?n.setSelections(r.ranges,null,Ce):(t.prevInput="",i.value=r.text.join("\n"),selectInput(i))}"cut"==e.type&&(n.state.cutIncoming=!0)}}e.wrapper.insertBefore(r,e.wrapper.firstChild),g&&(i.style.width="0px"),me(i,"input",(function(){o&&a>=9&&t.hasSelection&&(t.hasSelection=null),t.poll()})),me(i,"paste",(function(e){signalDOMEvent(n,e)||handlePaste(e,n)||(n.state.pasteIncoming=!0,t.fastPoll())})),me(i,"cut",prepareCopyCut),me(i,"copy",prepareCopyCut),me(e.scroller,"paste",(function(r){eventInWidget(e,r)||signalDOMEvent(n,r)||(n.state.pasteIncoming=!0,t.focus())})),me(e.lineSpace,"selectstart",(function(t){eventInWidget(e,t)||fe(t)})),me(i,"compositionstart",(function(){var e=n.getCursor("from");t.composing&&t.composing.range.clear(),t.composing={start:e,range:n.markText(e,n.getCursor("to"),{className:"CodeMirror-composing"})}})),me(i,"compositionend",(function(){t.composing&&(t.poll(),t.composing.range.clear(),t.composing=null)}))},prepareSelection:function(){var e=this.cm,t=e.display,n=e.doc,r=prepareSelection(e);if(e.options.moveInputWithCursor){var i=cursorCoords(e,n.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),a=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+a.top-o.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+a.left-o.left))}return r},showSelection:function(e){var t=this.cm.display;removeChildrenAndAdd(t.cursorDiv,e.cursors),removeChildrenAndAdd(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},reset:function(e){if(!this.contextMenuPending){var t,n,r=this.cm,i=r.doc;if(r.somethingSelected()){this.prevInput="";var l=i.sel.primary(),s=(t=Ue&&(l.to().line-l.from().line>100||(n=r.getSelection()).length>1e3))?"-":n||r.getSelection();this.textarea.value=s,r.state.focused&&selectInput(this.textarea),o&&a>=9&&(this.hasSelection=s)}else e||(this.prevInput=this.textarea.value="",o&&a>=9&&(this.hasSelection=null));this.inaccurateSelection=t}},getField:function(){return this.textarea},supportsTouch:function(){return!1},focus:function(){if("nocursor"!=this.cm.options.readOnly&&(!m||activeElt()!=this.textarea))try{this.textarea.focus()}catch(e){}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var e=this;e.pollingFast||e.polling.set(this.cm.options.pollInterval,(function(){e.poll(),e.cm.state.focused&&e.slowPoll()}))},fastPoll:function(){var e=!1,t=this;t.pollingFast=!0,t.polling.set(20,(function p(){t.poll()||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,p))}))},poll:function(){var e=this.cm,t=this.textarea,n=this.prevInput;if(this.contextMenuPending||!e.state.focused||je(t)&&!n&&!this.composing||e.isReadOnly()||e.options.disableInput||e.state.keySeq)return!1;var r=t.value;if(r==n&&!e.somethingSelected())return!1;if(o&&a>=9&&this.hasSelection===r||v&&/[\uf700-\uf7ff]/.test(r))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var i=r.charCodeAt(0);if(8203!=i||n||(n="​"),8666==i)return this.reset(),this.cm.execCommand("undo")}for(var l=0,s=Math.min(n.length,r.length);l<s&&n.charCodeAt(l)==r.charCodeAt(l);)++l;var c=this;return runInOp(e,(function(){applyTextInput(e,r.slice(l),n.length-l,null,c.composing?"*compose":null),r.length>1e3||r.indexOf("\n")>-1?t.value=c.prevInput="":c.prevInput=r,c.composing&&(c.composing.range.clear(),c.composing.range=e.markText(c.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))})),!0},ensurePolled:function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},onKeyPress:function(){o&&a>=9&&(this.hasSelection=null),this.fastPoll()},onContextMenu:function(e){var t=this,n=t.cm,r=n.display,i=t.textarea,s=posFromMouse(n,e),c=r.scroller.scrollTop;if(s&&!u){n.options.resetSelectionOnContextMenu&&-1==n.doc.sel.contains(s)&&operation(n,setSelection)(n.doc,simpleSelection(s),Ce);var d=i.style.cssText,f=t.wrapper.style.cssText;t.wrapper.style.cssText="position: absolute";var h=t.wrapper.getBoundingClientRect();if(i.style.cssText="position: absolute; width: 30px; height: 30px; top: "+(e.clientY-h.top-5)+"px; left: "+(e.clientX-h.left-5)+"px; z-index: 1000; background: "+(o?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",l)var g=window.scrollY;if(r.input.focus(),l&&window.scrollTo(null,g),r.input.reset(),n.somethingSelected()||(i.value=t.prevInput=" "),t.contextMenuPending=!0,r.selForContextMenu=n.doc.sel,clearTimeout(r.detectingSelectAll),o&&a>=9&&prepareSelectAllHack(),k){ge(e);var mouseup=function(){ye(window,"mouseup",mouseup),setTimeout(rehide,20)};me(window,"mouseup",mouseup)}else setTimeout(rehide,50)}function prepareSelectAllHack(){if(null!=i.selectionStart){var e=n.somethingSelected(),o="​"+(e?i.value:"");i.value="⇚",i.value=o,t.prevInput=e?"":"​",i.selectionStart=1,i.selectionEnd=o.length,r.selForContextMenu=n.doc.sel}}function rehide(){if(t.contextMenuPending=!1,t.wrapper.style.cssText=f,i.style.cssText=d,o&&a<9&&r.scrollbars.setScrollTop(r.scroller.scrollTop=c),null!=i.selectionStart){(!o||o&&a<9)&&prepareSelectAllHack();var e=0,poll=function(){r.selForContextMenu==n.doc.sel&&0==i.selectionStart&&i.selectionEnd>0&&"​"==t.prevInput?operation(n,Y.selectAll)(n):e++<10?r.detectingSelectAll=setTimeout(poll,500):r.input.reset()};r.detectingSelectAll=setTimeout(poll,200)}}},readOnlyChanged:function(e){e||this.reset()},setUneditable:nothing,needsContentAttribute:!1},TextareaInput.prototype),ContentEditableInput.prototype=copyObj({init:function(e){var t=this,n=t.cm,r=t.div=e.lineDiv;function onCopyCut(e){if(!signalDOMEvent(n,e)){if(n.somethingSelected())T={lineWise:!1,text:n.getSelections()},"cut"==e.type&&n.replaceSelection("",null,"cut");else{if(!n.options.lineWiseCopyCut)return;var i=copyableRanges(n);T={lineWise:!0,text:i.text},"cut"==e.type&&n.operation((function(){n.setSelections(i.ranges,0,Ce),n.replaceSelection("",null,"cut")}))}if(e.clipboardData){e.clipboardData.clearData();var o=T.text.join("\n");if(e.clipboardData.setData("Text",o),e.clipboardData.getData("Text")==o)return void e.preventDefault()}var a=hiddenTextarea(),l=a.firstChild;n.display.lineSpace.insertBefore(a,n.display.lineSpace.firstChild),l.value=T.text.join("\n");var s=document.activeElement;selectInput(l),setTimeout((function(){n.display.lineSpace.removeChild(a),s.focus(),s==r&&t.showPrimarySelection()}),50)}}disableBrowserMagic(r,n.options.spellcheck),me(r,"paste",(function(e){signalDOMEvent(n,e)||handlePaste(e,n)||a<=11&&setTimeout(operation(n,(function(){t.pollContent()||regChange(n)})),20)})),me(r,"compositionstart",(function(e){var r=e.data;if(t.composing={sel:n.doc.sel,data:r,startData:r},r){var i=n.doc.sel.primary(),o=n.getLine(i.head.line).indexOf(r,Math.max(0,i.head.ch-r.length));o>-1&&o<=i.head.ch&&(t.composing.sel=simpleSelection(L(i.head.line,o),L(i.head.line,o+r.length)))}})),me(r,"compositionupdate",(function(e){t.composing.data=e.data})),me(r,"compositionend",(function(e){var n=t.composing;n&&(e.data==n.startData||/\u200b/.test(e.data)||(n.data=e.data),setTimeout((function(){n.handled||t.applyComposition(n),t.composing==n&&(t.composing=null)}),50))})),me(r,"touchstart",(function(){t.forceCompositionEnd()})),me(r,"input",(function(){t.composing||!n.isReadOnly()&&t.pollContent()||runInOp(t.cm,(function(){regChange(n)}))})),me(r,"copy",onCopyCut),me(r,"cut",onCopyCut)},prepareSelection:function(){var e=prepareSelection(this.cm,!1);return e.focus=this.cm.state.focused,e},showSelection:function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},showPrimarySelection:function(){var e=window.getSelection(),t=this.cm.doc.sel.primary(),r=domToPos(this.cm,e.anchorNode,e.anchorOffset),i=domToPos(this.cm,e.focusNode,e.focusOffset);if(!r||r.bad||!i||i.bad||0!=M(minPos(r,i),t.from())||0!=M(maxPos(r,i),t.to())){var o=posToDOM(this.cm,t.from()),a=posToDOM(this.cm,t.to());if(o||a){var l=this.cm.display.view,s=e.rangeCount&&e.getRangeAt(0);if(o){if(!a){var c=l[l.length-1].measure,u=c.maps?c.maps[c.maps.length-1]:c.map;a={node:u[u.length-1],offset:u[u.length-2]-u[u.length-3]}}}else o={node:l[0].measure.map[2],offset:0};try{var d=Ne(o.node,o.offset,a.offset,a.node)}catch(e){}d&&(!n&&this.cm.state.focused?(e.collapse(o.node,o.offset),d.collapsed||e.addRange(d)):(e.removeAllRanges(),e.addRange(d)),s&&null==e.anchorNode?e.addRange(s):n&&this.startGracePeriod()),this.rememberSelection()}}},startGracePeriod:function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout((function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation((function(){e.cm.curOp.selectionChanged=!0}))}),20)},showMultipleSelections:function(e){removeChildrenAndAdd(this.cm.display.cursorDiv,e.cursors),removeChildrenAndAdd(this.cm.display.selectionDiv,e.selection)},rememberSelection:function(){var e=window.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},selectionInEditor:function(){var e=window.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return He(this.div,t)},focus:function(){"nocursor"!=this.cm.options.readOnly&&this.div.focus()},blur:function(){this.div.blur()},getField:function(){return this.div},supportsTouch:function(){return!0},receivedFocus:function(){var e=this;this.selectionInEditor()?this.pollSelection():runInOp(this.cm,(function(){e.cm.curOp.selectionChanged=!0})),this.polling.set(this.cm.options.pollInterval,(function poll(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,poll))}))},selectionChanged:function(){var e=window.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},pollSelection:function(){if(!this.composing&&!this.gracePeriod&&this.selectionChanged()){var e=window.getSelection(),t=this.cm;this.rememberSelection();var n=domToPos(t,e.anchorNode,e.anchorOffset),r=domToPos(t,e.focusNode,e.focusOffset);n&&r&&runInOp(t,(function(){setSelection(t.doc,simpleSelection(n,r),Ce),(n.bad||r.bad)&&(t.curOp.selectionChanged=!0)}))}},pollContent:function(){var e,t=this.cm,n=t.display,r=t.doc.sel.primary(),i=r.from(),o=r.to();if(i.line<n.viewFrom||o.line>n.viewTo-1)return!1;if(i.line==n.viewFrom||0==(e=findViewIndex(t,i.line)))var a=lineNo(n.view[0].line),l=n.view[0].node;else a=lineNo(n.view[e].line),l=n.view[e-1].node.nextSibling;var s=findViewIndex(t,o.line);if(s==n.view.length-1)var c=n.viewTo-1,u=n.lineDiv.lastChild;else c=lineNo(n.view[s+1].line)-1,u=n.view[s+1].node.previousSibling;for(var d=t.doc.splitLines(function domTextBetween(e,t,n,r,i){var o="",a=!1,l=e.doc.lineSeparator();function walk(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(null!=n)return""==n&&(n=t.textContent.replace(/\u200b/g,"")),void(o+=n);var s,c=t.getAttribute("cm-marker");if(c){var u=e.findMarks(L(r,0),L(i+1,0),function recognizeMarker(e){return function(t){return t.id==e}}(+c));return void(u.length&&(s=u[0].find())&&(o+=getBetween(e.doc,s.from,s.to).join(l)))}if("false"==t.getAttribute("contenteditable"))return;for(var d=0;d<t.childNodes.length;d++)walk(t.childNodes[d]);/^(pre|div|p)$/i.test(t.nodeName)&&(a=!0)}else if(3==t.nodeType){var f=t.nodeValue;if(!f)return;a&&(o+=l,a=!1),o+=f}}for(;walk(t),t!=n;)t=t.nextSibling;return o}(t,l,u,a,c)),f=getBetween(t.doc,L(a,0),L(c,getLine(t.doc,c).text.length));d.length>1&&f.length>1;)if(lst(d)==lst(f))d.pop(),f.pop(),c--;else{if(d[0]!=f[0])break;d.shift(),f.shift(),a++}for(var h=0,g=0,m=d[0],v=f[0],y=Math.min(m.length,v.length);h<y&&m.charCodeAt(h)==v.charCodeAt(h);)++h;for(var x=lst(d),b=lst(f),w=Math.min(x.length-(1==d.length?h:0),b.length-(1==f.length?h:0));g<w&&x.charCodeAt(x.length-g-1)==b.charCodeAt(b.length-g-1);)++g;d[d.length-1]=x.slice(0,x.length-g),d[0]=d[0].slice(h);var k=L(a,h),C=L(c,f.length?lst(f).length-g:0);return d.length>1||d[0]||M(k,C)?(replaceRange(t.doc,d,k,C,"+input"),!0):void 0},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){this.composing&&!this.composing.handled&&(this.applyComposition(this.composing),this.composing.handled=!0,this.div.blur(),this.div.focus())},applyComposition:function(e){this.cm.isReadOnly()?operation(this.cm,regChange)(this.cm):e.data&&e.data!=e.startData&&operation(this.cm,applyTextInput)(this.cm,e.data,0,e.sel)},setUneditable:function(e){e.contentEditable="false"},onKeyPress:function(e){e.preventDefault(),this.cm.isReadOnly()||operation(this.cm,applyTextInput)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0)},readOnlyChanged:function(e){this.div.contentEditable=String("nocursor"!=e)},onContextMenu:nothing,resetPosition:nothing,needsContentAttribute:!0},ContentEditableInput.prototype),CodeMirror.inputStyles={textarea:TextareaInput,contenteditable:ContentEditableInput},Selection.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],r=e.ranges[t];if(0!=M(n.anchor,r.anchor)||0!=M(n.head,r.head))return!1}return!0},deepCopy:function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new Range(copyPos(this.ranges[t].anchor),copyPos(this.ranges[t].head));return new Selection(e,this.primIndex)},somethingSelected:function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},contains:function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(M(t,r.from())>=0&&M(e,r.to())<=0)return n}return-1}},Range.prototype={from:function(){return minPos(this.anchor,this.head)},to:function(){return maxPos(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var O,A={left:0,right:0,top:0,bottom:0};function nodeAndOffsetInLineMap(e,t,n){for(var r,i,o,a,l=0;l<e.length;l+=3){var s=e[l],c=e[l+1];if(t<s?(i=0,o=1,a="left"):t<c?o=1+(i=t-s):(l==e.length-3||t==c&&e[l+3]>t)&&(i=(o=c-s)-1,t>=c&&(a="right")),null!=i){if(r=e[l+2],s==c&&n==(r.insertLeft?"left":"right")&&(a=n),"left"==n&&0==i)for(;l&&e[l-2]==e[l-3]&&e[l-1].insertLeft;)r=e[2+(l-=3)],a="left";if("right"==n&&i==c-s)for(;l<e.length-3&&e[l+3]==e[l+4]&&!e[l+5].insertLeft;)r=e[(l+=3)+2],a="right";break}}return{node:r,start:i,end:o,collapse:a,coverStart:s,coverEnd:c}}function getUsefulRect(e,t){var n=A;if("left"==t)for(var r=0;r<e.length&&(n=e[r]).left==n.right;r++);else for(r=e.length-1;r>=0&&(n=e[r]).left==n.right;r--);return n}function clearLineMeasurementCacheFor(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function clearLineMeasurementCache(e){e.display.externalMeasure=null,removeChildren(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)clearLineMeasurementCacheFor(e.display.view[t])}function clearCaches(e){clearLineMeasurementCache(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function pageScrollX(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function pageScrollY(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function intoCoordSystem(e,t,n,r){if(t.widgets)for(var i=0;i<t.widgets.length;++i)if(t.widgets[i].above){var o=widgetHeight(t.widgets[i]);n.top+=o,n.bottom+=o}if("line"==r)return n;r||(r="local");var a=heightAtLine(t);if("local"==r?a+=paddingTop(e.display):a-=e.display.viewOffset,"page"==r||"window"==r){var l=e.display.lineSpace.getBoundingClientRect();a+=l.top+("window"==r?0:pageScrollY());var s=l.left+("window"==r?0:pageScrollX());n.left+=s,n.right+=s}return n.top+=a,n.bottom+=a,n}function fromCoordSystem(e,t,n){if("div"==n)return t;var r=t.left,i=t.top;if("page"==n)r-=pageScrollX(),i-=pageScrollY();else if("local"==n||!n){var o=e.display.sizer.getBoundingClientRect();r+=o.left,i+=o.top}var a=e.display.lineSpace.getBoundingClientRect();return{left:r-a.left,top:i-a.top}}function charCoords(e,t,n,r,i){return r||(r=getLine(e.doc,t.line)),intoCoordSystem(e,r,measureChar(e,r,t.ch,i),n)}function cursorCoords(e,t,n,r,i,o){function get(t,a){var l=measureCharPrepared(e,i,t,a?"right":"left",o);return a?l.left=l.right:l.right=l.left,intoCoordSystem(e,r,l,n)}function getBidi(e,t){var n=a[t],r=n.level%2;return e==bidiLeft(n)&&t&&n.level<a[t-1].level?(e=bidiRight(n=a[--t])-(n.level%2?0:1),r=!0):e==bidiRight(n)&&t<a.length-1&&n.level<a[t+1].level&&(e=bidiLeft(n=a[++t])-n.level%2,r=!1),r&&e==n.to&&e>n.from?get(e-1):get(e,r)}r=r||getLine(e.doc,t.line),i||(i=prepareMeasureForLine(e,r));var a=getOrder(r),l=t.ch;if(!a)return get(l);var s=getBidi(l,getBidiPartAt(a,l));return null!=_e&&(s.other=getBidi(l,_e)),s}function estimateCoords(e,t){var n=0;t=clipPos(e.doc,t),e.options.lineWrapping||(n=charWidth(e.display)*t.ch);var r=getLine(e.doc,t.line),i=heightAtLine(r)+paddingTop(e.display);return{left:n,right:n,top:i,bottom:i+r.height}}function PosWithInfo(e,t,n,r){var i=L(e,t);return i.xRel=r,n&&(i.outside=!0),i}function coordsChar(e,t,n){var r=e.doc;if((n+=e.display.viewOffset)<0)return PosWithInfo(r.first,0,!0,-1);var i=lineAtHeight(r,n),o=r.first+r.size-1;if(i>o)return PosWithInfo(r.first+r.size-1,getLine(r,o).text.length,!0,1);t<0&&(t=0);for(var a=getLine(r,i);;){var l=coordsCharInner(e,a,i,t,n),s=collapsedSpanAtEnd(a),c=s&&s.find(0,!0);if(!s||!(l.ch>c.from.ch||l.ch==c.from.ch&&l.xRel>0))return l;i=lineNo(a=c.to.line)}}function coordsCharInner(e,t,n,r,i){var o=i-heightAtLine(t),a=!1,l=2*e.display.wrapper.clientWidth,s=prepareMeasureForLine(e,t);function getX(r){var i=cursorCoords(e,L(n,r),"line",t,s);return a=!0,o>i.bottom?i.left-l:o<i.top?i.left+l:(a=!1,i.left)}var c=getOrder(t),u=t.text.length,d=lineLeft(t),f=lineRight(t),h=getX(d),g=a,m=getX(f),v=a;if(r>m)return PosWithInfo(n,f,v,1);for(;;){if(c?f==d||f==moveVisually(t,d,1):f-d<=1){var y=r<h||r-h<=m-r?d:f,x=y==d?g:v,b=r-(y==d?h:m);if(v&&!c&&!/\s/.test(t.text.charAt(y))&&b>0&&y<t.text.length&&s.view.measure.heights.length>1){var w=measureCharPrepared(e,s,y,"right");o<=w.bottom&&o>=w.top&&Math.abs(r-w.right)<b&&(x=!1,y++,b=r-w.right)}for(;isExtendingChar(t.text.charAt(y));)++y;return PosWithInfo(n,y,x,b<-1?-1:b>1?1:0)}var k=Math.ceil(u/2),C=d+k;if(c){C=d;for(var S=0;S<k;++S)C=moveVisually(t,C,1)}var M=getX(C);M>r?(f=C,m=M,(v=a)&&(m+=1e3),u=k):(d=C,h=M,g=a,u-=k)}}function textHeight(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==O){O=elt("pre");for(var t=0;t<49;++t)O.appendChild(document.createTextNode("x")),O.appendChild(elt("br"));O.appendChild(document.createTextNode("x"))}removeChildrenAndAdd(e.measure,O);var n=O.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),removeChildren(e.measure),n||1}function charWidth(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=elt("span","xxxxxxxxxx"),n=elt("pre",[t]);removeChildrenAndAdd(e.measure,n);var r=t.getBoundingClientRect(),i=(r.right-r.left)/10;return i>2&&(e.cachedCharWidth=i),i||10}var P,N,I=null,H=0;function startOperation(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++H},I?I.ops.push(e.curOp):e.curOp.ownsGroup=I={ops:[e.curOp],delayedCallbacks:[]}}function endOperation(e){var t=e.curOp.ownsGroup;if(t)try{!function fireCallbacksForOps(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var r=0;r<e.ops.length;r++){var i=e.ops[r];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(n<t.length)}(t)}finally{I=null;for(var n=0;n<t.ops.length;n++)t.ops[n].cm.curOp=null;!function endOperations(e){for(var t=e.ops,n=0;n<t.length;n++)endOperation_R1(t[n]);for(n=0;n<t.length;n++)endOperation_W1(t[n]);for(n=0;n<t.length;n++)endOperation_R2(t[n]);for(n=0;n<t.length;n++)endOperation_W2(t[n]);for(n=0;n<t.length;n++)endOperation_finish(t[n])}(t)}}function endOperation_R1(e){var t=e.cm,n=t.display;!function maybeClipScrollbars(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=scrollGap(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=scrollGap(e)+"px",t.scrollbarsClipped=!0)}(t),e.updateMaxLine&&findMaxLine(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new DisplayUpdate(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function endOperation_W1(e){e.updatedDisplay=e.mustUpdate&&updateDisplayIfNeeded(e.cm,e.update)}function endOperation_R2(e){var t=e.cm,n=t.display;e.updatedDisplay&&updateHeightsInViewport(t),e.barMeasure=measureForScrollbars(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=measureChar(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+scrollGap(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-displayWidth(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection(e.focus))}function endOperation_W2(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&setScrollLeft(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==activeElt()&&(!document.hasFocus||document.hasFocus());e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&updateScrollbars(t,e.barMeasure),e.updatedDisplay&&setDocumentHeight(t,e.barMeasure),e.selectionChanged&&restartBlink(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&ensureFocus(e.cm)}function endOperation_finish(e){var t=e.cm,n=t.display,r=t.doc;if(e.updatedDisplay&&postUpdateDisplay(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null==e.scrollTop||n.scroller.scrollTop==e.scrollTop&&!e.forceScroll||(r.scrollTop=Math.max(0,Math.min(n.scroller.scrollHeight-n.scroller.clientHeight,e.scrollTop)),n.scrollbars.setScrollTop(r.scrollTop),n.scroller.scrollTop=r.scrollTop),null==e.scrollLeft||n.scroller.scrollLeft==e.scrollLeft&&!e.forceScroll||(r.scrollLeft=Math.max(0,Math.min(n.scroller.scrollWidth-n.scroller.clientWidth,e.scrollLeft)),n.scrollbars.setScrollLeft(r.scrollLeft),n.scroller.scrollLeft=r.scrollLeft,alignHorizontally(t)),e.scrollToPos){var i=function scrollPosIntoView(e,t,n,r){null==r&&(r=0);for(var i=0;i<5;i++){var o=!1,a=cursorCoords(e,t),l=n&&n!=t?cursorCoords(e,n):a,s=calculateScrollPos(e,Math.min(a.left,l.left),Math.min(a.top,l.top)-r,Math.max(a.left,l.left),Math.max(a.bottom,l.bottom)+r),c=e.doc.scrollTop,u=e.doc.scrollLeft;if(null!=s.scrollTop&&(setScrollTop(e,s.scrollTop),Math.abs(e.doc.scrollTop-c)>1&&(o=!0)),null!=s.scrollLeft&&(setScrollLeft(e,s.scrollLeft),Math.abs(e.doc.scrollLeft-u)>1&&(o=!0)),!o)break}return a}(t,clipPos(r,e.scrollToPos.from),clipPos(r,e.scrollToPos.to),e.scrollToPos.margin);e.scrollToPos.isCursor&&t.state.focused&&function maybeScrollWindow(e,t){if(!signalDOMEvent(e,"scrollCursorIntoView")){var n=e.display,r=n.sizer.getBoundingClientRect(),i=null;if(t.top+r.top<0?i=!0:t.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!h){var o=elt("div","​",null,"position: absolute; top: "+(t.top-n.viewOffset-paddingTop(e.display))+"px; height: "+(t.bottom-t.top+scrollGap(e)+n.barHeight)+"px; left: "+t.left+"px; width: 2px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(i),e.display.lineSpace.removeChild(o)}}}(t,i)}var o=e.maybeHiddenMarkers,a=e.maybeUnhiddenMarkers;if(o)for(var l=0;l<o.length;++l)o[l].lines.length||xe(o[l],"hide");if(a)for(l=0;l<a.length;++l)a[l].lines.length&&xe(a[l],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&xe(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function runInOp(e,t){if(e.curOp)return t();startOperation(e);try{return t()}finally{endOperation(e)}}function operation(e,t){return function(){if(e.curOp)return t.apply(e,arguments);startOperation(e);try{return t.apply(e,arguments)}finally{endOperation(e)}}}function methodOp(e){return function(){if(this.curOp)return e.apply(this,arguments);startOperation(this);try{return e.apply(this,arguments)}finally{endOperation(this)}}}function docMethodOp(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);startOperation(t);try{return e.apply(this,arguments)}finally{endOperation(t)}}}function LineView(e,t,n){this.line=t,this.rest=function visualLineContinued(e){for(var t,n;t=collapsedSpanAtEnd(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}(t),this.size=this.rest?lineNo(lst(this.rest))-n+1:1,this.node=this.text=null,this.hidden=lineIsHidden(e,t)}function buildViewArray(e,t,n){for(var r,i=[],o=t;o<n;o=r){var a=new LineView(e.doc,getLine(e.doc,o),o);r=o+a.size,i.push(a)}return i}function regChange(e,t,n,r){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),r||(r=0);var i=e.display;if(r&&n<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)S&&visualLineNo(e.doc,t)<i.viewTo&&resetView(e);else if(n<=i.viewFrom)S&&visualLineEndNo(e.doc,n+r)>i.viewFrom?resetView(e):(i.viewFrom+=r,i.viewTo+=r);else if(t<=i.viewFrom&&n>=i.viewTo)resetView(e);else if(t<=i.viewFrom)(o=viewCuttingPoint(e,n,n+r,1))?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=r):resetView(e);else if(n>=i.viewTo){var o;(o=viewCuttingPoint(e,t,t,-1))?(i.view=i.view.slice(0,o.index),i.viewTo=o.lineN):resetView(e)}else{var a=viewCuttingPoint(e,t,t,-1),l=viewCuttingPoint(e,n,n+r,1);a&&l?(i.view=i.view.slice(0,a.index).concat(buildViewArray(e,a.lineN,l.lineN)).concat(i.view.slice(l.index)),i.viewTo+=r):resetView(e)}var s=i.externalMeasured;s&&(n<s.lineN?s.lineN+=r:t<s.lineN+s.size&&(i.externalMeasured=null))}function regLineChange(e,t,n){e.curOp.viewChanged=!0;var r=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var o=r.view[findViewIndex(e,t)];if(null!=o.node){var a=o.changes||(o.changes=[]);-1==indexOf(a,n)&&a.push(n)}}}function resetView(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function findViewIndex(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var n=e.display.view,r=0;r<n.length;r++)if((t-=n[r].size)<0)return r}function viewCuttingPoint(e,t,n,r){var i,o=findViewIndex(e,t),a=e.display.view;if(!S||n==e.doc.first+e.doc.size)return{index:o,lineN:n};for(var l=0,s=e.display.viewFrom;l<o;l++)s+=a[l].size;if(s!=t){if(r>0){if(o==a.length-1)return null;i=s+a[o].size-t,o++}else i=s-t;t+=i,n+=i}for(;visualLineNo(e.doc,n)!=n;){if(o==(r<0?0:a.length-1))return null;n+=r*a[o-(r<0?1:0)].size,o+=r}return{index:o,lineN:n}}function countDirtyView(e){for(var t=e.display.view,n=0,r=0;r<t.length;r++){var i=t[r];i.hidden||i.node&&!i.changes||++n}return n}function onResize(e){var t=e.display;t.lastWrapHeight==t.wrapper.clientHeight&&t.lastWrapWidth==t.wrapper.clientWidth||(t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize())}function eventInWidget(e,t){for(var n=e_target(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function posFromMouse(e,t,n,r){var i=e.display;if(!n&&"true"==e_target(t).getAttribute("cm-not-content"))return null;var o,a,l=i.lineSpace.getBoundingClientRect();try{o=t.clientX-l.left,a=t.clientY-l.top}catch(t){return null}var s,c=coordsChar(e,o,a);if(r&&1==c.xRel&&(s=getLine(e.doc,c.line).text).length==c.ch){var u=Me(s,s.length,e.options.tabSize)-s.length;c=L(c.line,Math.max(0,Math.round((o-paddingH(e.display).left)/charWidth(e.display))-u))}return c}function onMouseDown(e){var t=this,n=t.display;if(!(signalDOMEvent(t,e)||n.activeTouch&&n.input.supportsTouch()))if(n.shift=e.shiftKey,eventInWidget(n,e))l||(n.scroller.draggable=!1,setTimeout((function(){n.scroller.draggable=!0}),100));else if(!clickInGutter(t,e)){var r=posFromMouse(t,e);switch(window.focus(),e_button(e)){case 1:t.state.selectingText?t.state.selectingText(e):r?function leftButtonDown(e,t,n){o?setTimeout(bind(ensureFocus,e),0):e.curOp.focus=activeElt();var r,i=+new Date;N&&N.time>i-400&&0==M(N.pos,n)?r="triple":P&&P.time>i-400&&0==M(P.pos,n)?(r="double",N={time:i,pos:n}):(r="single",P={time:i,pos:n});var s,c=e.doc.sel,u=v?t.metaKey:t.ctrlKey;e.options.dragDrop&&Be&&!e.isReadOnly()&&"single"==r&&(s=c.contains(n))>-1&&(M((s=c.ranges[s]).from(),n)<0||n.xRel>0)&&(M(s.to(),n)>0||n.xRel<0)?function leftButtonStartDrag(e,t,n,r){var i=e.display,s=+new Date,c=operation(e,(function(u){l&&(i.scroller.draggable=!1),e.state.draggingText=!1,ye(document,"mouseup",c),ye(i.scroller,"drop",c),Math.abs(t.clientX-u.clientX)+Math.abs(t.clientY-u.clientY)<10&&(fe(u),!r&&+new Date-200<s&&extendSelection(e.doc,n),l||o&&9==a?setTimeout((function(){document.body.focus(),i.input.focus()}),20):i.input.focus())}));l&&(i.scroller.draggable=!0),e.state.draggingText=c,c.copy=v?t.altKey:t.ctrlKey,i.scroller.dragDrop&&i.scroller.dragDrop(),me(document,"mouseup",c),me(i.scroller,"drop",c)}(e,t,n,u):function leftButtonSelect(e,t,n,r,i){var o=e.display,a=e.doc;fe(t);var l,s,c=a.sel,u=c.ranges;if(i&&!t.shiftKey?(s=a.sel.contains(n),l=s>-1?u[s]:new Range(n,n)):(l=a.sel.primary(),s=a.sel.primIndex),y?t.shiftKey&&t.metaKey:t.altKey)r="rect",i||(l=new Range(n,n)),n=posFromMouse(e,t,!0,!0),s=-1;else if("double"==r){var d=e.findWordAt(n);l=e.display.shift||a.extend?extendRange(a,l,d.anchor,d.head):d}else if("triple"==r){var f=new Range(L(n.line,0),clipPos(a,L(n.line+1,0)));l=e.display.shift||a.extend?extendRange(a,l,f.anchor,f.head):f}else l=extendRange(a,l,n);i?-1==s?(s=u.length,setSelection(a,normalizeSelection(u.concat([l]),s),{scroll:!1,origin:"*mouse"})):u.length>1&&u[s].empty()&&"single"==r&&!t.shiftKey?(setSelection(a,normalizeSelection(u.slice(0,s).concat(u.slice(s+1)),0),{scroll:!1,origin:"*mouse"}),c=a.sel):replaceOneSelection(a,s,l,Se):(s=0,setSelection(a,new Selection([l],0),Se),c=a.sel);var h=n,g=o.wrapper.getBoundingClientRect(),m=0;function extend(t){var i=++m,u=posFromMouse(e,t,!0,"rect"==r);if(u)if(0!=M(u,h)){e.curOp.focus=activeElt(),function extendTo(t){if(0!=M(h,t))if(h=t,"rect"==r){for(var i=[],o=e.options.tabSize,u=Me(getLine(a,n.line).text,n.ch,o),d=Me(getLine(a,t.line).text,t.ch,o),f=Math.min(u,d),g=Math.max(u,d),m=Math.min(n.line,t.line),v=Math.min(e.lastLine(),Math.max(n.line,t.line));m<=v;m++){var y=getLine(a,m).text,x=Te(y,f,o);f==g?i.push(new Range(L(m,x),L(m,x))):y.length>x&&i.push(new Range(L(m,x),L(m,Te(y,g,o))))}i.length||i.push(new Range(n,n)),setSelection(a,normalizeSelection(c.ranges.slice(0,s).concat(i),s),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var b=l,w=b.anchor,k=t;if("single"!=r){if("double"==r)var C=e.findWordAt(t);else C=new Range(L(t.line,0),clipPos(a,L(t.line+1,0)));M(C.anchor,w)>0?(k=C.head,w=minPos(b.from(),C.anchor)):(k=C.anchor,w=maxPos(b.to(),C.head))}(i=c.ranges.slice(0))[s]=new Range(clipPos(a,w),k),setSelection(a,normalizeSelection(i,s),Se)}}(u);var d=visibleLines(o,a);(u.line>=d.to||u.line<d.from)&&setTimeout(operation(e,(function(){m==i&&extend(t)})),150)}else{var f=t.clientY<g.top?-20:t.clientY>g.bottom?20:0;f&&setTimeout(operation(e,(function(){m==i&&(o.scroller.scrollTop+=f,extend(t))})),50)}}function done(t){e.state.selectingText=!1,m=1/0,fe(t),o.input.focus(),ye(document,"mousemove",v),ye(document,"mouseup",x),a.history.lastSelOrigin=null}var v=operation(e,(function(e){e_button(e)?extend(e):done(e)})),x=operation(e,done);e.state.selectingText=x,me(document,"mousemove",v),me(document,"mouseup",x)}(e,t,n,r,u)}(t,e,r):e_target(e)==n.scroller&&fe(e);break;case 2:l&&(t.state.lastMiddleDown=+new Date),r&&extendSelection(t.doc,r),setTimeout((function(){n.input.focus()}),20),fe(e);break;case 3:k?onContextMenu(t,e):function delayBlurEvent(e){e.state.delayingBlurEvent=!0,setTimeout((function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,onBlur(e))}),100)}(t)}}}function gutterEvent(e,t,n,r){try{var i=t.clientX,o=t.clientY}catch(t){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&fe(t);var a=e.display,l=a.lineDiv.getBoundingClientRect();if(o>l.bottom||!hasHandler(e,n))return e_defaultPrevented(t);o-=l.top-a.viewOffset;for(var s=0;s<e.options.gutters.length;++s){var c=a.gutters.childNodes[s];if(c&&c.getBoundingClientRect().right>=i){var u=lineAtHeight(e.doc,o),d=e.options.gutters[s];return xe(e,n,e,u,d,t),e_defaultPrevented(t)}}}function clickInGutter(e,t){return gutterEvent(e,t,"gutterClick",!0)}var D=0;function onDrop(e){var t=this;if(clearDragCursor(t),!signalDOMEvent(t,e)&&!eventInWidget(t.display,e)){fe(e),o&&(D=+new Date);var n=posFromMouse(t,e,!0),r=e.dataTransfer.files;if(n&&!t.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,a=Array(i),l=0,loadFile=function(e,r){if(!t.options.allowDropFileTypes||-1!=indexOf(t.options.allowDropFileTypes,e.type)){var o=new FileReader;o.onload=operation(t,(function(){var e=o.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),a[r]=e,++l==i){var s={from:n=clipPos(t.doc,n),to:n,text:t.doc.splitLines(a.join(t.doc.lineSeparator())),origin:"paste"};makeChange(t.doc,s),setSelectionReplaceHistory(t.doc,simpleSelection(n,B(s)))}})),o.readAsText(e)}},s=0;s<i;++s)loadFile(r[s],s);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout((function(){t.display.input.focus()}),20);try{if(a=e.dataTransfer.getData("Text")){if(t.state.draggingText&&!t.state.draggingText.copy)var c=t.listSelections();if(setSelectionNoUndo(t.doc,simpleSelection(n,n)),c)for(s=0;s<c.length;++s)replaceRange(t.doc,"",c[s].anchor,c[s].head,"drag");t.replaceSelection(a,"around","paste"),t.display.input.focus()}}catch(e){}}}}function clearDragCursor(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function setScrollTop(e,t){Math.abs(e.doc.scrollTop-t)<2||(e.doc.scrollTop=t,n||updateDisplaySimple(e,{top:t}),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t),e.display.scrollbars.setScrollTop(t),n&&updateDisplaySimple(e),startWorker(e,100))}function setScrollLeft(e,t,n){(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)||(t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),e.doc.scrollLeft=t,alignHorizontally(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}var W=0,F=null;o?F=-.53:n?F=15:c?F=-.7:d&&(F=-1/3);var wheelEventDelta=function(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}};function onScrollWheel(e,t){var r=wheelEventDelta(t),i=r.x,o=r.y,a=e.display,s=a.scroller,c=s.scrollWidth>s.clientWidth,d=s.scrollHeight>s.clientHeight;if(i&&c||o&&d){if(o&&v&&l)e:for(var f=t.target,h=a.view;f!=s;f=f.parentNode)for(var g=0;g<h.length;g++)if(h[g].node==f){e.display.currentWheelTarget=f;break e}if(i&&!n&&!u&&null!=F)return o&&d&&setScrollTop(e,Math.max(0,Math.min(s.scrollTop+o*F,s.scrollHeight-s.clientHeight))),setScrollLeft(e,Math.max(0,Math.min(s.scrollLeft+i*F,s.scrollWidth-s.clientWidth))),(!o||o&&d)&&fe(t),void(a.wheelStartX=null);if(o&&null!=F){var m=o*F,y=e.doc.scrollTop,x=y+a.wrapper.clientHeight;m<0?y=Math.max(0,y+m-50):x=Math.min(e.doc.height,x+m+50),updateDisplaySimple(e,{top:y,bottom:x})}W<20&&(null==a.wheelStartX?(a.wheelStartX=s.scrollLeft,a.wheelStartY=s.scrollTop,a.wheelDX=i,a.wheelDY=o,setTimeout((function(){if(null!=a.wheelStartX){var e=s.scrollLeft-a.wheelStartX,t=s.scrollTop-a.wheelStartY,n=t&&a.wheelDY&&t/a.wheelDY||e&&a.wheelDX&&e/a.wheelDX;a.wheelStartX=a.wheelStartY=null,n&&(F=(F*W+n)/(W+1),++W)}}),200)):(a.wheelDX+=i,a.wheelDY+=o))}}function doHandleBinding(e,t,n){if("string"==typeof t&&!(t=Y[t]))return!1;e.display.input.ensurePolled();var r=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),i=t(e)!=ke}finally{e.display.shift=r,e.state.suppressEdits=!1}return i}CodeMirror.wheelEventPixels=function(e){var t=wheelEventDelta(e);return t.x*=F,t.y*=F,t};var E=new Delayed;function dispatchKey(e,t,n,r){var i=e.state.keySeq;if(i){if(J(t))return"handled";E.set(50,(function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())})),t=i+" "+t}var o=function lookupKeyForEditor(e,t,n){for(var r=0;r<e.state.keyMaps.length;r++){var i=Q(t,e.state.keyMaps[r],n,e);if(i)return i}return e.options.extraKeys&&Q(t,e.options.extraKeys,n,e)||Q(t,e.options.keyMap,n,e)}(e,t,r);return"multi"==o&&(e.state.keySeq=t),"handled"==o&&signalLater(e,"keyHandled",e,t,n),"handled"!=o&&"multi"!=o||(fe(n),restartBlink(e)),i&&!o&&/\'$/.test(t)?(fe(n),!0):!!o}function handleKeyBinding(e,t){var n=ee(t,!0);return!!n&&(t.shiftKey&&!e.state.keySeq?dispatchKey(e,"Shift-"+n,t,(function(t){return doHandleBinding(e,t,!0)}))||dispatchKey(e,n,t,(function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return doHandleBinding(e,t)})):dispatchKey(e,n,t,(function(t){return doHandleBinding(e,t)})))}var z=null;function onKeyDown(e){var t=this;if(t.curOp.focus=activeElt(),!signalDOMEvent(t,e)){o&&a<11&&27==e.keyCode&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=16==n||e.shiftKey;var r=handleKeyBinding(t,e);u&&(z=r?n:null,r||88!=n||Ue||!(v?e.metaKey:e.ctrlKey)||t.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||function showCrossHair(e){var t=e.display.lineDiv;function up(e){18!=e.keyCode&&e.altKey||(De(t,"CodeMirror-crosshair"),ye(document,"keyup",up),ye(document,"mouseover",up))}We(t,"CodeMirror-crosshair"),me(document,"keyup",up),me(document,"mouseover",up)}(t)}}function onKeyUp(e){16==e.keyCode&&(this.doc.sel.shift=!1),signalDOMEvent(this,e)}function onKeyPress(e){var t=this;if(!(eventInWidget(t.display,e)||signalDOMEvent(t,e)||e.ctrlKey&&!e.altKey||v&&e.metaKey)){var n=e.keyCode,r=e.charCode;if(u&&n==z)return z=null,void fe(e);u&&(!e.which||e.which<10)&&handleKeyBinding(t,e)||function handleCharBinding(e,t,n){return dispatchKey(e,"'"+n+"'",t,(function(t){return doHandleBinding(e,t,!0)}))}(t,e,String.fromCharCode(null==r?n:r))||t.display.input.onKeyPress(e)}}function onFocus(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(xe(e,"focus",e,t),e.state.focused=!0,We(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),l&&setTimeout((function(){e.display.input.reset(!0)}),20)),e.display.input.receivedFocus()),restartBlink(e))}function onBlur(e,t){e.state.delayingBlurEvent||(e.state.focused&&(xe(e,"blur",e,t),e.state.focused=!1,De(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout((function(){e.state.focused||(e.display.shift=!1)}),150))}function onContextMenu(e,t){eventInWidget(e.display,t)||function contextMenuInGutter(e,t){return!!hasHandler(e,"gutterContextMenu")&&gutterEvent(e,t,"gutterContextMenu",!1)}(e,t)||signalDOMEvent(e,t,"contextmenu")||e.display.input.onContextMenu(t)}var B=CodeMirror.changeEnd=function(e){return e.text?L(e.from.line+e.text.length-1,lst(e.text).length+(1==e.text.length?e.from.ch:0)):e.to};function adjustForChange(e,t){if(M(e,t.from)<0)return e;if(M(e,t.to)<=0)return B(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=B(t).ch-t.to.ch),L(n,r)}function computeSelAfterChange(e,t){for(var n=[],r=0;r<e.sel.ranges.length;r++){var i=e.sel.ranges[r];n.push(new Range(adjustForChange(i.anchor,t),adjustForChange(i.head,t)))}return normalizeSelection(n,e.sel.primIndex)}function offsetPos(e,t,n){return e.line==t.line?L(n.line,e.ch-t.ch+n.ch):L(n.line+(e.line-t.line),e.ch)}function filterChange(e,t,n){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){this.canceled=!0}};return n&&(r.update=function(t,n,r,i){t&&(this.from=clipPos(e,t)),n&&(this.to=clipPos(e,n)),r&&(this.text=r),void 0!==i&&(this.origin=i)}),xe(e,"beforeChange",e,r),e.cm&&xe(e.cm,"beforeChange",e.cm,r),r.canceled?null:{from:r.from,to:r.to,text:r.text,origin:r.origin}}function makeChange(e,t,n){if(e.cm){if(!e.cm.curOp)return operation(e.cm,makeChange)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(hasHandler(e,"beforeChange")||e.cm&&hasHandler(e.cm,"beforeChange"))||(t=filterChange(e,t,!0))){var r=C&&!n&&function removeReadOnlyRanges(e,t,n){var r=null;if(e.iter(t.line,n.line+1,(function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||r&&-1!=indexOf(r,n)||(r||(r=[])).push(n)}})),!r)return null;for(var i=[{from:t,to:n}],o=0;o<r.length;++o)for(var a=r[o],l=a.find(0),s=0;s<i.length;++s){var c=i[s];if(!(M(c.to,l.from)<0||M(c.from,l.to)>0)){var u=[s,1],d=M(c.from,l.from),f=M(c.to,l.to);(d<0||!a.inclusiveLeft&&!d)&&u.push({from:c.from,to:l.from}),(f>0||!a.inclusiveRight&&!f)&&u.push({from:l.to,to:c.to}),i.splice.apply(i,u),s+=u.length-1}}return i}(e,t.from,t.to);if(r)for(var i=r.length-1;i>=0;--i)makeChangeInner(e,{from:r[i].from,to:r[i].to,text:i?[""]:t.text});else makeChangeInner(e,t)}}function makeChangeInner(e,t){if(1!=t.text.length||""!=t.text[0]||0!=M(t.from,t.to)){var n=computeSelAfterChange(e,t);addChangeToHistory(e,t,n,e.cm?e.cm.curOp.id:NaN),makeChangeSingleDoc(e,t,n,stretchSpansOverChange(e,t));var r=[];linkedDocs(e,(function(e,n){n||-1!=indexOf(r,e.history)||(rebaseHist(e.history,t),r.push(e.history)),makeChangeSingleDoc(e,t,null,stretchSpansOverChange(e,t))}))}}function makeChangeFromHistory(e,t,n){if(!e.cm||!e.cm.state.suppressEdits||n){for(var r,i=e.history,o=e.sel,a="undo"==t?i.done:i.undone,l="undo"==t?i.undone:i.done,s=0;s<a.length&&(r=a[s],n?!r.ranges||r.equals(e.sel):r.ranges);s++);if(s!=a.length){for(i.lastOrigin=i.lastSelOrigin=null;(r=a.pop()).ranges;){if(pushSelectionToHistory(r,l),n&&!r.equals(e.sel))return void setSelection(e,r,{clearRedo:!1});o=r}var c=[];pushSelectionToHistory(o,l),l.push({changes:c,generation:i.generation}),i.generation=r.generation||++i.maxGeneration;var u=hasHandler(e,"beforeChange")||e.cm&&hasHandler(e.cm,"beforeChange");for(s=r.changes.length-1;s>=0;--s){var d=r.changes[s];if(d.origin=t,u&&!filterChange(e,d,!1))return void(a.length=0);c.push(historyChangeFromChange(e,d));var f=s?computeSelAfterChange(e,d):lst(a);makeChangeSingleDoc(e,d,f,mergeOldSpans(e,d)),!s&&e.cm&&e.cm.scrollIntoView({from:d.from,to:B(d)});var h=[];linkedDocs(e,(function(e,t){t||-1!=indexOf(h,e.history)||(rebaseHist(e.history,d),h.push(e.history)),makeChangeSingleDoc(e,d,null,mergeOldSpans(e,d))}))}}}}function shiftDoc(e,t){if(0!=t&&(e.first+=t,e.sel=new Selection(map(e.sel.ranges,(function(e){return new Range(L(e.anchor.line+t,e.anchor.ch),L(e.head.line+t,e.head.ch))})),e.sel.primIndex),e.cm)){regChange(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)regLineChange(e.cm,r,"gutter")}}function makeChangeSingleDoc(e,t,n,r){if(e.cm&&!e.cm.curOp)return operation(e.cm,makeChangeSingleDoc)(e,t,n,r);if(t.to.line<e.first)shiftDoc(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);shiftDoc(e,i),t={from:L(e.first,0),to:L(t.to.line+i,t.to.ch),text:[lst(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:L(o,getLine(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=getBetween(e,t.from,t.to),n||(n=computeSelAfterChange(e,t)),e.cm?function makeChangeSingleDocInEditor(e,t,n){var r=e.doc,i=e.display,o=t.from,a=t.to,l=!1,s=o.line;e.options.lineWrapping||(s=lineNo(visualLine(getLine(r,o.line))),r.iter(s,a.line+1,(function(e){if(e==i.maxLine)return l=!0,!0}))),r.sel.contains(t.from,t.to)>-1&&signalCursorActivity(e),updateDoc(r,t,n,estimateHeight(e)),e.options.lineWrapping||(r.iter(s,o.line+t.text.length,(function(e){var t=lineLength(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,l=!1)})),l&&(e.curOp.updateMaxLine=!0)),r.frontier=Math.min(r.frontier,o.line),startWorker(e,400);var c=t.text.length-(a.line-o.line)-1;t.full?regChange(e):o.line!=a.line||1!=t.text.length||isWholeLineUpdate(e.doc,t)?regChange(e,o.line,a.line+1,c):regLineChange(e,o.line,"text");var u=hasHandler(e,"changes"),d=hasHandler(e,"change");if(d||u){var f={from:o,to:a,text:t.text,removed:t.removed,origin:t.origin};d&&signalLater(e,"change",e,f),u&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(f)}e.display.selForContextMenu=null}(e.cm,t,r):updateDoc(e,t,r),setSelectionNoUndo(e,n,Ce)}}function replaceRange(e,t,n,r,i){if(r||(r=n),M(r,n)<0){var o=r;r=n,n=o}"string"==typeof t&&(t=e.splitLines(t)),makeChange(e,{from:n,to:r,text:t,origin:i})}function calculateScrollPos(e,t,n,r,i){var o=e.display,a=textHeight(e.display);n<0&&(n=0);var l=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:o.scroller.scrollTop,s=displayHeight(e),c={};i-n>s&&(i=n+s);var u=e.doc.height+paddingVert(o),d=n<a,f=i>u-a;if(n<l)c.scrollTop=d?0:n;else if(i>l+s){var h=Math.min(n,(f?u:i)-s);h!=l&&(c.scrollTop=h)}var g=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:o.scroller.scrollLeft,m=displayWidth(e)-(e.options.fixedGutter?o.gutters.offsetWidth:0),v=r-t>m;return v&&(r=t+m),t<10?c.scrollLeft=0:t<g?c.scrollLeft=Math.max(0,t-(v?0:10)):r>m+g-3&&(c.scrollLeft=r+(v?0:10)-m),c}function addToScrollPos(e,t,n){null==t&&null==n||resolveScrollToPos(e),null!=t&&(e.curOp.scrollLeft=(null==e.curOp.scrollLeft?e.doc.scrollLeft:e.curOp.scrollLeft)+t),null!=n&&(e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+n)}function ensureCursorVisible(e){resolveScrollToPos(e);var t=e.getCursor(),n=t,r=t;e.options.lineWrapping||(n=t.ch?L(t.line,t.ch-1):t,r=L(t.line,t.ch+1)),e.curOp.scrollToPos={from:n,to:r,margin:e.options.cursorScrollMargin,isCursor:!0}}function resolveScrollToPos(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var n=estimateCoords(e,t.from),r=estimateCoords(e,t.to),i=calculateScrollPos(e,Math.min(n.left,r.left),Math.min(n.top,r.top)-t.margin,Math.max(n.right,r.right),Math.max(n.bottom,r.bottom)+t.margin);e.scrollTo(i.scrollLeft,i.scrollTop)}}function indentLine(e,t,n,r){var i,o=e.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?i=getStateBefore(e,t):n="prev");var a=e.options.tabSize,l=getLine(o,t),s=Me(l.text,null,a);l.stateAfter&&(l.stateAfter=null);var c,u=l.text.match(/^\s*/)[0];if(r||/\S/.test(l.text)){if("smart"==n&&((c=o.mode.indent(i,l.text.slice(u.length),l.text))==ke||c>150)){if(!r)return;n="prev"}}else c=0,n="not";"prev"==n?c=t>o.first?Me(getLine(o,t-1).text,null,a):0:"add"==n?c=s+e.options.indentUnit:"subtract"==n?c=s-e.options.indentUnit:"number"==typeof n&&(c=s+n),c=Math.max(0,c);var d="",f=0;if(e.options.indentWithTabs)for(var h=Math.floor(c/a);h;--h)f+=a,d+="\t";if(f<c&&(d+=spaceStr(c-f)),d!=u)return replaceRange(o,d,L(t,0),L(t,u.length),"+input"),l.stateAfter=null,!0;for(h=0;h<o.sel.ranges.length;h++){var g=o.sel.ranges[h];if(g.head.line==t&&g.head.ch<u.length){replaceOneSelection(o,h,new Range(f=L(t,u.length),f));break}}}function changeLine(e,t,n,r){var i=t,o=t;return"number"==typeof t?o=getLine(e,clipLine(e,t)):i=lineNo(t),null==i?null:(r(o,i)&&e.cm&&regLineChange(e.cm,i,n),o)}function deleteNearSelection(e,t){for(var n=e.doc.sel.ranges,r=[],i=0;i<n.length;i++){for(var o=t(n[i]);r.length&&M(o.from,lst(r).to)<=0;){var a=r.pop();if(M(a.from,o.from)<0){o.from=a.from;break}}r.push(o)}runInOp(e,(function(){for(var t=r.length-1;t>=0;t--)replaceRange(e.doc,"",r[t].from,r[t].to,"+delete");ensureCursorVisible(e)}))}function findPosH(e,t,n,r,i){var o=t.line,a=t.ch,l=n,s=getLine(e,o);function moveOnce(t){var r=(i?moveVisually:moveLogically)(s,a,n,!0);if(null==r){if(t||!function findNextLine(){var t=o+n;return!(t<e.first||t>=e.first+e.size)&&(o=t,s=getLine(e,t))}())return!1;a=i?(n<0?lineRight:lineLeft)(s):n<0?s.text.length:0}else a=r;return!0}if("char"==r)moveOnce();else if("column"==r)moveOnce(!0);else if("word"==r||"group"==r)for(var c=null,u="group"==r,d=e.cm&&e.cm.getHelper(t,"wordChars"),f=!0;!(n<0)||moveOnce(!f);f=!1){var h=s.text.charAt(a)||"\n",g=isWordChar(h,d)?"w":u&&"\n"==h?"n":!u||/\s/.test(h)?null:"p";if(!u||f||g||(g="s"),c&&c!=g){n<0&&(n=1,moveOnce());break}if(g&&(c=g),n>0&&!moveOnce(!f))break}var m=skipAtomic(e,L(o,a),t,l,!0);return M(t,m)||(m.hitSide=!0),m}function findPosV(e,t,n,r){var i,o=e.doc,a=t.left;if("page"==r){var l=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),s=Math.max(l-.5*textHeight(e.display),3);i=(n>0?t.bottom:t.top)+n*s}else"line"==r&&(i=n>0?t.bottom+3:t.top-3);for(;;){var c=coordsChar(e,a,i);if(!c.outside)break;if(n<0?i<=0:i>=o.height){c.hitSide=!0;break}i+=5*n}return c}CodeMirror.prototype={constructor:CodeMirror,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,t){var n=this.options,r=n[e];n[e]==t&&"mode"!=e||(n[e]=t,_.hasOwnProperty(e)&&operation(this,_[e])(this,t,r))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](getKeyMap(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:methodOp((function(e,t){var n=e.token?e:CodeMirror.getMode(this.options,e);if(n.startState)throw new Error("Overlays may not be stateful.");!function insertSorted(e,t,n){for(var r=0,i=n(t);r<e.length&&n(e[r])<=i;)r++;e.splice(r,0,t)}(this.state.overlays,{mode:n,modeSpec:e,opaque:t&&t.opaque,priority:t&&t.priority||0},(function(e){return e.priority})),this.state.modeGen++,regChange(this)})),removeOverlay:methodOp((function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var r=t[n].modeSpec;if(r==e||"string"==typeof e&&r.name==e)return t.splice(n,1),this.state.modeGen++,void regChange(this)}})),indentLine:methodOp((function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),isLine(this.doc,e)&&indentLine(this,e,t,n)})),indentSelection:methodOp((function(e){for(var t=this.doc.sel.ranges,n=-1,r=0;r<t.length;r++){var i=t[r];if(i.empty())i.head.line>n&&(indentLine(this,i.head.line,e,!0),n=i.head.line,r==this.doc.sel.primIndex&&ensureCursorVisible(this));else{var o=i.from(),a=i.to(),l=Math.max(n,o.line);n=Math.min(this.lastLine(),a.line-(a.ch?0:1))+1;for(var s=l;s<n;++s)indentLine(this,s,e);var c=this.doc.sel.ranges;0==o.ch&&t.length==c.length&&c[r].from().ch>0&&replaceOneSelection(this.doc,r,new Range(o,c[r].to()),Ce)}}})),getTokenAt:function(e,t){return takeToken(this,e,t)},getLineTokens:function(e,t){return takeToken(this,L(e),t,!0)},getTokenTypeAt:function(e){e=clipPos(this.doc,e);var t,n=getLineStyles(this,getLine(this.doc,e.line)),r=0,i=(n.length-1)/2,o=e.ch;if(0==o)t=n[2];else for(;;){var a=r+i>>1;if((a?n[2*a-1]:0)>=o)i=a;else{if(!(n[2*a+1]<o)){t=n[2*a+2];break}r=a+1}}var l=t?t.indexOf("cm-overlay "):-1;return l<0?t:0==l?null:t.slice(0,l-1)},getModeAt:function(e){var t=this.doc.mode;return t.innerMode?CodeMirror.innerMode(t,this.getTokenAt(e).state).mode:t},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var n=[];if(!q.hasOwnProperty(t))return n;var r=q[t],i=this.getModeAt(e);if("string"==typeof i[t])r[i[t]]&&n.push(r[i[t]]);else if(i[t])for(var o=0;o<i[t].length;o++){var a=r[i[t][o]];a&&n.push(a)}else i.helperType&&r[i.helperType]?n.push(r[i.helperType]):r[i.name]&&n.push(r[i.name]);for(o=0;o<r._global.length;o++){var l=r._global[o];l.pred(i,this)&&-1==indexOf(n,l.val)&&n.push(l.val)}return n},getStateAfter:function(e,t){var n=this.doc;return getStateBefore(this,(e=clipLine(n,null==e?n.first+n.size-1:e))+1,t)},cursorCoords:function(e,t){var n=this.doc.sel.primary();return cursorCoords(this,null==e?n.head:"object"==typeof e?clipPos(this.doc,e):e?n.from():n.to(),t||"page")},charCoords:function(e,t){return charCoords(this,clipPos(this.doc,e),t||"page")},coordsChar:function(e,t){return coordsChar(this,(e=fromCoordSystem(this,e,t||"page")).left,e.top)},lineAtHeight:function(e,t){return e=fromCoordSystem(this,{top:e,left:0},t||"page").top,lineAtHeight(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t){var n,r=!1;if("number"==typeof e){var i=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>i&&(e=i,r=!0),n=getLine(this.doc,e)}else n=e;return intoCoordSystem(this,n,{top:0,left:0},t||"page").top+(r?this.doc.height-heightAtLine(n):0)},defaultTextHeight:function(){return textHeight(this.display)},defaultCharWidth:function(){return charWidth(this.display)},setGutterMarker:methodOp((function(e,t,n){return changeLine(this.doc,e,"gutter",(function(e){var r=e.gutterMarkers||(e.gutterMarkers={});return r[t]=n,!n&&isEmpty(r)&&(e.gutterMarkers=null),!0}))})),clearGutter:methodOp((function(e){var t=this,n=t.doc,r=n.first;n.iter((function(n){n.gutterMarkers&&n.gutterMarkers[e]&&(n.gutterMarkers[e]=null,regLineChange(t,r,"gutter"),isEmpty(n.gutterMarkers)&&(n.gutterMarkers=null)),++r}))})),lineInfo:function(e){if("number"==typeof e){if(!isLine(this.doc,e))return null;var t=e;if(!(e=getLine(this.doc,e)))return null}else if(null==(t=lineNo(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,r,i){var o=this.display,a=(e=cursorCoords(this,clipPos(this.doc,e))).bottom,l=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),o.sizer.appendChild(t),"over"==r)a=e.top;else if("above"==r||"near"==r){var s=Math.max(o.wrapper.clientHeight,this.doc.height),c=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==r||e.bottom+t.offsetHeight>s)&&e.top>t.offsetHeight?a=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=s&&(a=e.bottom),l+t.offsetWidth>c&&(l=c-t.offsetWidth)}t.style.top=a+"px",t.style.left=t.style.right="","right"==i?(l=o.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?l=0:"middle"==i&&(l=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=l+"px"),n&&function scrollIntoView(e,t,n,r,i){var o=calculateScrollPos(e,t,n,r,i);null!=o.scrollTop&&setScrollTop(e,o.scrollTop),null!=o.scrollLeft&&setScrollLeft(e,o.scrollLeft)}(this,l,a,l+t.offsetWidth,a+t.offsetHeight)},triggerOnKeyDown:methodOp(onKeyDown),triggerOnKeyPress:methodOp(onKeyPress),triggerOnKeyUp:onKeyUp,execCommand:function(e){if(Y.hasOwnProperty(e))return Y[e].call(null,this)},triggerElectric:methodOp((function(e){triggerElectric(this,e)})),findPosH:function(e,t,n,r){var i=1;t<0&&(i=-1,t=-t);for(var o=0,a=clipPos(this.doc,e);o<t&&!(a=findPosH(this.doc,a,i,n,r)).hitSide;++o);return a},moveH:methodOp((function(e,t){var n=this;n.extendSelectionsBy((function(r){return n.display.shift||n.doc.extend||r.empty()?findPosH(n.doc,r.head,e,t,n.options.rtlMoveVisually):e<0?r.from():r.to()}),Le)})),deleteH:methodOp((function(e,t){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):deleteNearSelection(this,(function(n){var i=findPosH(r,n.head,e,t,!1);return e<0?{from:i,to:n.head}:{from:n.head,to:i}}))})),findPosV:function(e,t,n,r){var i=1,o=r;t<0&&(i=-1,t=-t);for(var a=0,l=clipPos(this.doc,e);a<t;++a){var s=cursorCoords(this,l,"div");if(null==o?o=s.left:s.left=o,(l=findPosV(this,s,i,n)).hitSide)break}return l},moveV:methodOp((function(e,t){var n=this,r=this.doc,i=[],o=!n.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy((function(a){if(o)return e<0?a.from():a.to();var l=cursorCoords(n,a.head,"div");null!=a.goalColumn&&(l.left=a.goalColumn),i.push(l.left);var s=findPosV(n,l,e,t);return"page"==t&&a==r.sel.primary()&&addToScrollPos(n,null,charCoords(n,s,"div").top-l.top),s}),Le),i.length)for(var a=0;a<r.sel.ranges.length;a++)r.sel.ranges[a].goalColumn=i[a]})),findWordAt:function(e){var t=getLine(this.doc,e.line).text,n=e.ch,r=e.ch;if(t){var i=this.getHelper(e,"wordChars");(e.xRel<0||r==t.length)&&n?--n:++r;for(var o=t.charAt(n),a=isWordChar(o,i)?function(e){return isWordChar(e,i)}:/\s/.test(o)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!isWordChar(e)};n>0&&a(t.charAt(n-1));)--n;for(;r<t.length&&a(t.charAt(r));)++r}return new Range(L(e.line,n),L(e.line,r))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?We(this.display.cursorDiv,"CodeMirror-overwrite"):De(this.display.cursorDiv,"CodeMirror-overwrite"),xe(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==activeElt()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:methodOp((function(e,t){null==e&&null==t||resolveScrollToPos(this),null!=e&&(this.curOp.scrollLeft=e),null!=t&&(this.curOp.scrollTop=t)})),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-scrollGap(this)-this.display.barHeight,width:e.scrollWidth-scrollGap(this)-this.display.barWidth,clientHeight:displayHeight(this),clientWidth:displayWidth(this)}},scrollIntoView:methodOp((function(e,t){if(null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:L(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line)resolveScrollToPos(this),this.curOp.scrollToPos=e;else{var n=calculateScrollPos(this,Math.min(e.from.left,e.to.left),Math.min(e.from.top,e.to.top)-e.margin,Math.max(e.from.right,e.to.right),Math.max(e.from.bottom,e.to.bottom)+e.margin);this.scrollTo(n.scrollLeft,n.scrollTop)}})),setSize:methodOp((function(e,t){var n=this;function interpret(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e}null!=e&&(n.display.wrapper.style.width=interpret(e)),null!=t&&(n.display.wrapper.style.height=interpret(t)),n.options.lineWrapping&&clearLineMeasurementCache(this);var r=n.display.viewFrom;n.doc.iter(r,n.display.viewTo,(function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){regLineChange(n,r,"widget");break}++r})),n.curOp.forceUpdate=!0,xe(n,"refresh",this)})),operation:function(e){return runInOp(this,e)},refresh:methodOp((function(){var e=this.display.cachedTextHeight;regChange(this),this.curOp.forceUpdate=!0,clearCaches(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),updateGutterSpace(this),(null==e||Math.abs(e-textHeight(this.display))>.5)&&estimateLineHeights(this),xe(this,"refresh",this)})),swapDoc:methodOp((function(e){var t=this.doc;return t.cm=null,attachDoc(this,e),clearCaches(this),this.display.input.reset(),this.scrollTo(e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,signalLater(this,"swapDoc",this,t),t})),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},eventMixin(CodeMirror);var R=CodeMirror.defaults={},_=CodeMirror.optionHandlers={};function option(e,t,n,r){CodeMirror.defaults[e]=t,n&&(_[e]=r?function(e,t,r){r!=V&&n(e,t,r)}:n)}var V=CodeMirror.Init={toString:function(){return"CodeMirror.Init"}};option("value","",(function(e,t){e.setValue(t)}),!0),option("mode",null,(function(e,t){e.doc.modeOption=t,loadMode(e)}),!0),option("indentUnit",2,loadMode,!0),option("indentWithTabs",!1),option("smartIndent",!0),option("tabSize",4,(function(e){resetModeState(e),clearCaches(e),regChange(e)}),!0),option("lineSeparator",null,(function(e,t){if(e.doc.lineSep=t,t){var n=[],r=e.doc.first;e.doc.iter((function(e){for(var i=0;;){var o=e.text.indexOf(t,i);if(-1==o)break;i=o+t.length,n.push(L(r,o))}r++}));for(var i=n.length-1;i>=0;i--)replaceRange(e.doc,t,n[i],L(n[i].line,n[i].ch+t.length))}})),option("specialChars",/[\u0000-\u001f\u007f\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,(function(e,t,n){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),n!=CodeMirror.Init&&e.refresh()})),option("specialCharPlaceholder",(function defaultSpecialCharPlaceholder(e){var t=elt("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}),(function(e){e.refresh()}),!0),option("electricChars",!0),option("inputStyle",m?"contenteditable":"textarea",(function(){throw new Error("inputStyle can not (yet) be changed in a running editor")}),!0),option("spellcheck",!1,(function(e,t){e.getInputField().spellcheck=t}),!0),option("rtlMoveVisually",!x),option("wholeLineUpdateBefore",!0),option("theme","default",(function(e){themeChanged(e),guttersChanged(e)}),!0),option("keyMap","default",(function(e,t,n){var r=getKeyMap(t),i=n!=CodeMirror.Init&&getKeyMap(n);i&&i.detach&&i.detach(e,r),r.attach&&r.attach(e,i||null)})),option("extraKeys",null),option("lineWrapping",!1,(function wrappingChanged(e){e.options.lineWrapping?(We(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(De(e.display.wrapper,"CodeMirror-wrap"),findMaxLine(e)),estimateLineHeights(e),regChange(e),clearCaches(e),setTimeout((function(){updateScrollbars(e)}),100)}),!0),option("gutters",[],(function(e){setGuttersForLineNumbers(e.options),guttersChanged(e)}),!0),option("fixedGutter",!0,(function(e,t){e.display.gutters.style.left=t?compensateForHScroll(e.display)+"px":"0",e.refresh()}),!0),option("coverGutterNextToScrollbar",!1,(function(e){updateScrollbars(e)}),!0),option("scrollbarStyle","native",(function(e){initScrollbars(e),updateScrollbars(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)}),!0),option("lineNumbers",!1,(function(e){setGuttersForLineNumbers(e.options),guttersChanged(e)}),!0),option("firstLineNumber",1,guttersChanged,!0),option("lineNumberFormatter",(function(e){return e}),guttersChanged,!0),option("showCursorWhenSelecting",!1,updateSelection,!0),option("resetSelectionOnContextMenu",!0),option("lineWiseCopyCut",!0),option("readOnly",!1,(function(e,t){"nocursor"==t?(onBlur(e),e.display.input.blur(),e.display.disabled=!0):e.display.disabled=!1,e.display.input.readOnlyChanged(t)})),option("disableInput",!1,(function(e,t){t||e.display.input.reset()}),!0),option("dragDrop",!0,(function dragDropChanged(e,t,n){if(!t!=!(n&&n!=CodeMirror.Init)){var r=e.display.dragFunctions,i=t?me:ye;i(e.display.scroller,"dragstart",r.start),i(e.display.scroller,"dragenter",r.enter),i(e.display.scroller,"dragover",r.over),i(e.display.scroller,"dragleave",r.leave),i(e.display.scroller,"drop",r.drop)}})),option("allowDropFileTypes",null),option("cursorBlinkRate",530),option("cursorScrollMargin",0),option("cursorHeight",1,updateSelection,!0),option("singleCursorHeightPerLine",!0,updateSelection,!0),option("workTime",100),option("workDelay",100),option("flattenSpans",!0,resetModeState,!0),option("addModeClass",!1,resetModeState,!0),option("pollInterval",100),option("undoDepth",200,(function(e,t){e.doc.history.undoDepth=t})),option("historyEventDelay",1250),option("viewportMargin",10,(function(e){e.refresh()}),!0),option("maxHighlightLength",1e4,resetModeState,!0),option("moveInputWithCursor",!0,(function(e,t){t||e.display.input.resetPosition()})),option("tabindex",null,(function(e,t){e.display.input.getField().tabIndex=t||""})),option("autofocus",null);var j=CodeMirror.modes={},U=CodeMirror.mimeModes={};CodeMirror.defineMode=function(e,t){CodeMirror.defaults.mode||"null"==e||(CodeMirror.defaults.mode=e),arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),j[e]=t},CodeMirror.defineMIME=function(e,t){U[e]=t},CodeMirror.resolveMode=function(e){if("string"==typeof e&&U.hasOwnProperty(e))e=U[e];else if(e&&"string"==typeof e.name&&U.hasOwnProperty(e.name)){var t=U[e.name];"string"==typeof t&&(t={name:t}),(e=createObj(t,e)).name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return CodeMirror.resolveMode("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return CodeMirror.resolveMode("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}},CodeMirror.getMode=function(e,t){t=CodeMirror.resolveMode(t);var n=j[t.name];if(!n)return CodeMirror.getMode(e,"text/plain");var r=n(e,t);if(G.hasOwnProperty(t.name)){var i=G[t.name];for(var o in i)i.hasOwnProperty(o)&&(r.hasOwnProperty(o)&&(r["_"+o]=r[o]),r[o]=i[o])}if(r.name=t.name,t.helperType&&(r.helperType=t.helperType),t.modeProps)for(var o in t.modeProps)r[o]=t.modeProps[o];return r},CodeMirror.defineMode("null",(function(){return{token:function(e){e.skipToEnd()}}})),CodeMirror.defineMIME("text/plain","null");var G=CodeMirror.modeExtensions={};CodeMirror.extendMode=function(e,t){copyObj(t,G.hasOwnProperty(e)?G[e]:G[e]={})},CodeMirror.defineExtension=function(e,t){CodeMirror.prototype[e]=t},CodeMirror.defineDocExtension=function(e,t){ue.prototype[e]=t},CodeMirror.defineOption=option;var K=[];CodeMirror.defineInitHook=function(e){K.push(e)};var q=CodeMirror.helpers={};CodeMirror.registerHelper=function(e,t,n){q.hasOwnProperty(e)||(q[e]=CodeMirror[e]={_global:[]}),q[e][t]=n},CodeMirror.registerGlobalHelper=function(e,t,n,r){CodeMirror.registerHelper(e,t,r),q[e]._global.push({pred:n,val:r})};var $=CodeMirror.copyState=function(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var i=t[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n},X=CodeMirror.startState=function(e,t,n){return!e.startState||e.startState(t,n)};CodeMirror.innerMode=function(e,t){for(;e.innerMode;){var n=e.innerMode(t);if(!n||n.mode==e)break;t=n.state,e=n.mode}return n||{mode:e,state:t}};var Y=CodeMirror.commands={selectAll:function(e){e.setSelection(L(e.firstLine(),0),L(e.lastLine()),Ce)},singleSelection:function(e){e.setSelection(e.getCursor("anchor"),e.getCursor("head"),Ce)},killLine:function(e){deleteNearSelection(e,(function(t){if(t.empty()){var n=getLine(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:L(t.head.line+1,0)}:{from:t.head,to:L(t.head.line,n)}}return{from:t.from(),to:t.to()}}))},deleteLine:function(e){deleteNearSelection(e,(function(t){return{from:L(t.from().line,0),to:clipPos(e.doc,L(t.to().line+1,0))}}))},delLineLeft:function(e){deleteNearSelection(e,(function(e){return{from:L(e.from().line,0),to:e.from()}}))},delWrappedLineLeft:function(e){deleteNearSelection(e,(function(t){var n=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:n},"div"),to:t.from()}}))},delWrappedLineRight:function(e){deleteNearSelection(e,(function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:r}}))},undo:function(e){e.undo()},redo:function(e){e.redo()},undoSelection:function(e){e.undoSelection()},redoSelection:function(e){e.redoSelection()},goDocStart:function(e){e.extendSelection(L(e.firstLine(),0))},goDocEnd:function(e){e.extendSelection(L(e.lastLine()))},goLineStart:function(e){e.extendSelectionsBy((function(t){return lineStart(e,t.head.line)}),{origin:"+move",bias:1})},goLineStartSmart:function(e){e.extendSelectionsBy((function(t){return lineStartSmart(e,t.head)}),{origin:"+move",bias:1})},goLineEnd:function(e){e.extendSelectionsBy((function(t){return function lineEnd(e,t){for(var n,r=getLine(e.doc,t);n=collapsedSpanAtEnd(r);)r=n.find(1,!0).line,t=null;var i=getOrder(r),o=i?i[0].level%2?lineLeft(r):lineRight(r):r.text.length;return L(null==t?lineNo(r):t,o)}(e,t.head.line)}),{origin:"+move",bias:-1})},goLineRight:function(e){e.extendSelectionsBy((function(t){var n=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")}),Le)},goLineLeft:function(e){e.extendSelectionsBy((function(t){var n=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")}),Le)},goLineLeftSmart:function(e){e.extendSelectionsBy((function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return r.ch<e.getLine(r.line).search(/\S/)?lineStartSmart(e,t.head):r}),Le)},goLineUp:function(e){e.moveV(-1,"line")},goLineDown:function(e){e.moveV(1,"line")},goPageUp:function(e){e.moveV(-1,"page")},goPageDown:function(e){e.moveV(1,"page")},goCharLeft:function(e){e.moveH(-1,"char")},goCharRight:function(e){e.moveH(1,"char")},goColumnLeft:function(e){e.moveH(-1,"column")},goColumnRight:function(e){e.moveH(1,"column")},goWordLeft:function(e){e.moveH(-1,"word")},goGroupRight:function(e){e.moveH(1,"group")},goGroupLeft:function(e){e.moveH(-1,"group")},goWordRight:function(e){e.moveH(1,"word")},delCharBefore:function(e){e.deleteH(-1,"char")},delCharAfter:function(e){e.deleteH(1,"char")},delWordBefore:function(e){e.deleteH(-1,"word")},delWordAfter:function(e){e.deleteH(1,"word")},delGroupBefore:function(e){e.deleteH(-1,"group")},delGroupAfter:function(e){e.deleteH(1,"group")},indentAuto:function(e){e.indentSelection("smart")},indentMore:function(e){e.indentSelection("add")},indentLess:function(e){e.indentSelection("subtract")},insertTab:function(e){e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),r=e.options.tabSize,i=0;i<n.length;i++){var o=n[i].from(),a=Me(e.getLine(o.line),o.ch,r);t.push(spaceStr(r-a%r))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){runInOp(e,(function(){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++){var i=t[r].head,o=getLine(e.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new L(i.line,i.ch-1)),i.ch>0)i=new L(i.line,i.ch+1),e.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),L(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var a=getLine(e.doc,i.line-1).text;a&&e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+a.charAt(a.length-1),L(i.line-1,a.length-1),L(i.line,1),"+transpose")}n.push(new Range(i,i))}e.setSelections(n)}))},newlineAndIndent:function(e){runInOp(e,(function(){for(var t=e.listSelections().length,n=0;n<t;n++){var r=e.listSelections()[n];e.replaceRange(e.doc.lineSeparator(),r.anchor,r.head,"+input"),e.indentLine(r.from().line+1,null,!0)}ensureCursorVisible(e)}))},openLine:function(e){e.replaceSelection("\n","start")},toggleOverwrite:function(e){e.toggleOverwrite()}},Z=CodeMirror.keyMap={};function normalizeKeyName(e){for(var t,n,r,i,o=e.split(/-(?!$)/),a=(e=o[o.length-1],0);a<o.length-1;a++){var l=o[a];if(/^(cmd|meta|m)$/i.test(l))i=!0;else if(/^a(lt)?$/i.test(l))t=!0;else if(/^(c|ctrl|control)$/i.test(l))n=!0;else{if(!/^s(hift)$/i.test(l))throw new Error("Unrecognized modifier name: "+l);r=!0}}return t&&(e="Alt-"+e),n&&(e="Ctrl-"+e),i&&(e="Cmd-"+e),r&&(e="Shift-"+e),e}Z.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Z.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Z.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Z.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Z.default=v?Z.macDefault:Z.pcDefault,CodeMirror.normalizeKeyMap=function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete e[n];continue}for(var i=map(n.split(" "),normalizeKeyName),o=0;o<i.length;o++){var a,l;o==i.length-1?(l=i.join(" "),a=r):(l=i.slice(0,o+1).join(" "),a="...");var s=t[l];if(s){if(s!=a)throw new Error("Inconsistent bindings for "+l)}else t[l]=a}delete e[n]}for(var c in t)e[c]=t[c];return e};var Q=CodeMirror.lookupKey=function(e,t,n,r){var i=(t=getKeyMap(t)).call?t.call(e,r):t[e];if(!1===i)return"nothing";if("..."===i)return"multi";if(null!=i&&n(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return Q(e,t.fallthrough,n,r);for(var o=0;o<t.fallthrough.length;o++){var a=Q(e,t.fallthrough[o],n,r);if(a)return a}}},J=CodeMirror.isModifierKey=function(e){var t="string"==typeof e?e:Ke[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t},ee=CodeMirror.keyName=function(e,t){if(u&&34==e.keyCode&&e.char)return!1;var n=Ke[e.keyCode],r=n;return null!=r&&!e.altGraphKey&&(e.altKey&&"Alt"!=n&&(r="Alt-"+r),(w?e.metaKey:e.ctrlKey)&&"Ctrl"!=n&&(r="Ctrl-"+r),(w?e.ctrlKey:e.metaKey)&&"Cmd"!=n&&(r="Cmd-"+r),!t&&e.shiftKey&&"Shift"!=n&&(r="Shift-"+r),r)};function getKeyMap(e){return"string"==typeof e?Z[e]:e}CodeMirror.fromTextArea=function(e,t){if((t=t?copyObj(t):{}).value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var n=activeElt();t.autofocus=n==e||null!=e.getAttribute("autofocus")&&n==document.body}function save(){e.value=a.getValue()}if(e.form&&(me(e.form,"submit",save),!t.leaveSubmitMethodAlone)){var r=e.form,i=r.submit;try{var o=r.submit=function(){save(),r.submit=i,r.submit(),r.submit=o}}catch(e){}}t.finishInit=function(t){t.save=save,t.getTextArea=function(){return e},t.toTextArea=function(){t.toTextArea=isNaN,save(),e.parentNode.removeChild(t.getWrapperElement()),e.style.display="",e.form&&(ye(e.form,"submit",save),"function"==typeof e.form.submit&&(e.form.submit=i))}},e.style.display="none";var a=CodeMirror((function(t){e.parentNode.insertBefore(t,e.nextSibling)}),t);return a};var te=CodeMirror.StringStream=function(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};te.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(e){var t=this.string.charAt(this.pos);if("string"==typeof e)var n=t==e;else n=t&&(e.test?e.test(t):e(t));if(n)return++this.pos,t},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},backUp:function(e){this.pos-=e},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Me(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Me(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return Me(this.string,null,this.tabSize)-(this.lineStart?Me(this.string,this.lineStart,this.tabSize):0)},match:function(e,t,n){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&!1!==t&&(this.pos+=r[0].length),r)}var cased=function(e){return n?e.toLowerCase():e};if(cased(this.string.substr(this.pos,e.length))==cased(e))return!1!==t&&(this.pos+=e.length),!0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}}};var ne=0,re=CodeMirror.TextMarker=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++ne};function markText(e,t,n,r,i){if(r&&r.shared)return function markTextShared(e,t,n,r,i){(r=copyObj(r)).shared=!1;var o=[markText(e,t,n,r,i)],a=o[0],l=r.widgetNode;return linkedDocs(e,(function(e){l&&(r.widgetNode=l.cloneNode(!0)),o.push(markText(e,clipPos(e,t),clipPos(e,n),r,i));for(var s=0;s<e.linked.length;++s)if(e.linked[s].isParent)return;a=lst(o)})),new ie(o,a)}(e,t,n,r,i);if(e.cm&&!e.cm.curOp)return operation(e.cm,markText)(e,t,n,r,i);var o=new re(e,i),a=M(t,n);if(r&&copyObj(r,o,!1),a>0||0==a&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=elt("span",[o.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(conflictingCollapsedRange(e,t.line,t,n,o)||t.line!=n.line&&conflictingCollapsedRange(e,n.line,t,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");S=!0}o.addToHistory&&addChangeToHistory(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var l,s=t.line,c=e.cm;if(e.iter(s,n.line+1,(function(e){c&&o.collapsed&&!c.options.lineWrapping&&visualLine(e)==c.display.maxLine&&(l=!0),o.collapsed&&s!=t.line&&updateLineHeight(e,0),function addMarkedSpan(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}(e,new MarkedSpan(o,s==t.line?t.ch:null,s==n.line?n.ch:null)),++s})),o.collapsed&&e.iter(t.line,n.line+1,(function(t){lineIsHidden(e,t)&&updateLineHeight(t,0)})),o.clearOnEnter&&me(o,"beforeCursorEnter",(function(){o.clear()})),o.readOnly&&(C=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++ne,o.atomic=!0),c){if(l&&(c.curOp.updateMaxLine=!0),o.collapsed)regChange(c,t.line,n.line+1);else if(o.className||o.title||o.startStyle||o.endStyle||o.css)for(var u=t.line;u<=n.line;u++)regLineChange(c,u,"text");o.atomic&&reCheckSelection(c.doc),signalLater(c,"markerAdded",c,o)}return o}eventMixin(re),re.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&startOperation(e),hasHandler(this,"clear")){var n=this.find();n&&signalLater(this,"clear",n.from,n.to)}for(var r=null,i=null,o=0;o<this.lines.length;++o){var a=this.lines[o],l=getMarkedSpanFor(a.markedSpans,this);e&&!this.collapsed?regLineChange(e,lineNo(a),"text"):e&&(null!=l.to&&(i=lineNo(a)),null!=l.from&&(r=lineNo(a))),a.markedSpans=removeMarkedSpan(a.markedSpans,l),null==l.from&&this.collapsed&&!lineIsHidden(this.doc,a)&&e&&updateLineHeight(a,textHeight(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(o=0;o<this.lines.length;++o){var s=visualLine(this.lines[o]),c=lineLength(s);c>e.display.maxLineLength&&(e.display.maxLine=s,e.display.maxLineLength=c,e.display.maxLineChanged=!0)}null!=r&&e&&this.collapsed&&regChange(e,r,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&reCheckSelection(e.doc)),e&&signalLater(e,"markerCleared",e,this),t&&endOperation(e),this.parent&&this.parent.clear()}},re.prototype.find=function(e,t){var n,r;null==e&&"bookmark"==this.type&&(e=1);for(var i=0;i<this.lines.length;++i){var o=this.lines[i],a=getMarkedSpanFor(o.markedSpans,this);if(null!=a.from&&(n=L(t?o:lineNo(o),a.from),-1==e))return n;if(null!=a.to&&(r=L(t?o:lineNo(o),a.to),1==e))return r}return n&&{from:n,to:r}},re.prototype.changed=function(){var e=this.find(-1,!0),t=this,n=this.doc.cm;e&&n&&runInOp(n,(function(){var r=e.line,i=lineNo(e.line),o=findViewForLine(n,i);if(o&&(clearLineMeasurementCacheFor(o),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!lineIsHidden(t.doc,r)&&null!=t.height){var a=t.height;t.height=null;var l=widgetHeight(t)-a;l&&updateLineHeight(r,r.height+l)}}))},re.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=indexOf(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},re.prototype.detachLine=function(e){if(this.lines.splice(indexOf(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},ne=0;var ie=CodeMirror.SharedTextMarker=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};function findSharedMarkers(e){return e.findMarks(L(e.first,0),e.clipPos(L(e.lastLine())),(function(e){return e.parent}))}function detachSharedMarkers(e){for(var t=0;t<e.length;t++){var n=e[t],r=[n.primary.doc];linkedDocs(n.primary.doc,(function(e){r.push(e)}));for(var i=0;i<n.markers.length;i++){var o=n.markers[i];-1==indexOf(r,o.doc)&&(o.parent=null,n.markers.splice(i--,1))}}}function MarkedSpan(e,t,n){this.marker=e,this.from=t,this.to=n}function getMarkedSpanFor(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function removeMarkedSpan(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function stretchSpansOverChange(e,t){if(t.full)return null;var n=isLine(e,t.from.line)&&getLine(e,t.from.line).markedSpans,r=isLine(e,t.to.line)&&getLine(e,t.to.line).markedSpans;if(!n&&!r)return null;var i=t.from.ch,o=t.to.ch,a=0==M(t.from,t.to),l=function markedSpansBefore(e,t,n){if(e)for(var r,i=0;i<e.length;++i){var o=e[i],a=o.marker;if(null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t)||o.from==t&&"bookmark"==a.type&&(!n||!o.marker.insertLeft)){var l=null==o.to||(a.inclusiveRight?o.to>=t:o.to>t);(r||(r=[])).push(new MarkedSpan(a,o.from,l?null:o.to))}}return r}(n,i,a),s=function markedSpansAfter(e,t,n){if(e)for(var r,i=0;i<e.length;++i){var o=e[i],a=o.marker;if(null==o.to||(a.inclusiveRight?o.to>=t:o.to>t)||o.from==t&&"bookmark"==a.type&&(!n||o.marker.insertLeft)){var l=null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t);(r||(r=[])).push(new MarkedSpan(a,l?null:o.from-t,null==o.to?null:o.to-t))}}return r}(r,o,a),c=1==t.text.length,u=lst(t.text).length+(c?i:0);if(l)for(var d=0;d<l.length;++d)null==(f=l[d]).to&&((h=getMarkedSpanFor(s,f.marker))?c&&(f.to=null==h.to?null:h.to+u):f.to=i);if(s)for(d=0;d<s.length;++d){var f,h;null!=(f=s[d]).to&&(f.to+=u),null==f.from?(h=getMarkedSpanFor(l,f.marker))||(f.from=u,c&&(l||(l=[])).push(f)):(f.from+=u,c&&(l||(l=[])).push(f))}l&&(l=clearEmptySpans(l)),s&&s!=l&&(s=clearEmptySpans(s));var g=[l];if(!c){var m,v=t.text.length-2;if(v>0&&l)for(d=0;d<l.length;++d)null==l[d].to&&(m||(m=[])).push(new MarkedSpan(l[d].marker,null,null));for(d=0;d<v;++d)g.push(m);g.push(s)}return g}function clearEmptySpans(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function mergeOldSpans(e,t){var n=function getOldSpans(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var r=0,i=[];r<t.text.length;++r)i.push(removeClearedSpans(n[r]));return i}(e,t),r=stretchSpansOverChange(e,t);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var o=n[i],a=r[i];if(o&&a)e:for(var l=0;l<a.length;++l){for(var s=a[l],c=0;c<o.length;++c)if(o[c].marker==s.marker)continue e;o.push(s)}else a&&(n[i]=a)}return n}function detachMarkedSpans(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function attachMarkedSpans(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function extraLeft(e){return e.inclusiveLeft?-1:0}function extraRight(e){return e.inclusiveRight?1:0}function compareCollapsedMarkers(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var r=e.find(),i=t.find(),o=M(r.from,i.from)||extraLeft(e)-extraLeft(t);if(o)return-o;var a=M(r.to,i.to)||extraRight(e)-extraRight(t);return a||t.id-e.id}function collapsedSpanAtSide(e,t){var n,r=S&&e.markedSpans;if(r)for(var i,o=0;o<r.length;++o)(i=r[o]).marker.collapsed&&null==(t?i.from:i.to)&&(!n||compareCollapsedMarkers(n,i.marker)<0)&&(n=i.marker);return n}function collapsedSpanAtStart(e){return collapsedSpanAtSide(e,!0)}function collapsedSpanAtEnd(e){return collapsedSpanAtSide(e,!1)}function conflictingCollapsedRange(e,t,n,r,i){var o=getLine(e,t),a=S&&o.markedSpans;if(a)for(var l=0;l<a.length;++l){var s=a[l];if(s.marker.collapsed){var c=s.marker.find(0),u=M(c.from,n)||extraLeft(s.marker)-extraLeft(i),d=M(c.to,r)||extraRight(s.marker)-extraRight(i);if(!(u>=0&&d<=0||u<=0&&d>=0)&&(u<=0&&(s.marker.inclusiveRight&&i.inclusiveLeft?M(c.to,n)>=0:M(c.to,n)>0)||u>=0&&(s.marker.inclusiveRight&&i.inclusiveLeft?M(c.from,r)<=0:M(c.from,r)<0)))return!0}}}function visualLine(e){for(var t;t=collapsedSpanAtStart(e);)e=t.find(-1,!0).line;return e}function visualLineNo(e,t){var n=getLine(e,t),r=visualLine(n);return n==r?t:lineNo(r)}function visualLineEndNo(e,t){if(t>e.lastLine())return t;var n,r=getLine(e,t);if(!lineIsHidden(e,r))return t;for(;n=collapsedSpanAtEnd(r);)r=n.find(1,!0).line;return lineNo(r)+1}function lineIsHidden(e,t){var n=S&&t.markedSpans;if(n)for(var r,i=0;i<n.length;++i)if((r=n[i]).marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&lineIsHiddenInner(e,t,r))return!0}}function lineIsHiddenInner(e,t,n){if(null==n.to){var r=n.marker.find(1,!0);return lineIsHiddenInner(e,r.line,getMarkedSpanFor(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var i,o=0;o<t.markedSpans.length;++o)if((i=t.markedSpans[o]).marker.collapsed&&!i.marker.widgetNode&&i.from==n.to&&(null==i.to||i.to!=n.from)&&(i.marker.inclusiveLeft||n.marker.inclusiveRight)&&lineIsHiddenInner(e,t,i))return!0}eventMixin(ie),ie.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();signalLater(this,"clear")}},ie.prototype.find=function(e,t){return this.primary.find(e,t)};var oe=CodeMirror.LineWidget=function(e,t,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.doc=e,this.node=t};function adjustScrollWhenAboveVisible(e,t,n){heightAtLine(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&addToScrollPos(e,null,n)}function widgetHeight(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!He(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;"),removeChildrenAndAdd(t.display.measure,elt("div",[e.node],null,n))}return e.height=e.node.parentNode.offsetHeight}eventMixin(oe),oe.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,r=lineNo(n);if(null!=r&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(n.widgets=null);var o=widgetHeight(this);updateLineHeight(n,Math.max(0,n.height-o)),e&&runInOp(e,(function(){adjustScrollWhenAboveVisible(e,n,-o),regLineChange(e,r,"widget")}))}},oe.prototype.changed=function(){var e=this.height,t=this.doc.cm,n=this.line;this.height=null;var r=widgetHeight(this)-e;r&&(updateLineHeight(n,n.height+r),t&&runInOp(t,(function(){t.curOp.forceUpdate=!0,adjustScrollWhenAboveVisible(t,n,r)})))};var ae=CodeMirror.Line=function(e,t,n){this.text=e,attachMarkedSpans(this,t),this.height=n?n(this):1};function cleanUpLine(e){e.parent=null,detachMarkedSpans(e)}function extractLineClasses(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==t[r]?t[r]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(t[r])||(t[r]+=" "+n[2])}return e}function callBlankLine(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var n=CodeMirror.innerMode(e,t);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function readToken(e,t,n,r){for(var i=0;i<10;i++){r&&(r[0]=CodeMirror.innerMode(e,n).mode);var o=e.token(t,n);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}function takeToken(e,t,n,r){function getObj(e){return{start:u.start,end:u.pos,string:u.current(),type:i||null,state:e?$(o.mode,c):c}}var i,o=e.doc,a=o.mode;t=clipPos(o,t);var l,s=getLine(o,t.line),c=getStateBefore(e,t.line,n),u=new te(s.text,e.options.tabSize);for(r&&(l=[]);(r||u.pos<t.ch)&&!u.eol();)u.start=u.pos,i=readToken(a,u,c),r&&l.push(getObj(!0));return r?l:getObj()}function runMode(e,t,n,r,i,o,a){var l=n.flattenSpans;null==l&&(l=e.options.flattenSpans);var s,c=0,u=null,d=new te(t,e.options.tabSize),f=e.options.addModeClass&&[null];for(""==t&&extractLineClasses(callBlankLine(n,r),o);!d.eol();){if(d.pos>e.options.maxHighlightLength?(l=!1,a&&processLine(e,t,r,d.pos),d.pos=t.length,s=null):s=extractLineClasses(readToken(n,d,r,f),o),f){var h=f[0].name;h&&(s="m-"+(s?h+" "+s:h))}if(!l||u!=s){for(;c<d.start;)i(c=Math.min(d.start,c+5e3),u);u=s}d.start=d.pos}for(;c<d.pos;){var g=Math.min(d.pos,c+5e3);i(g,u),c=g}}function highlightLine(e,t,n,r){var i=[e.state.modeGen],o={};runMode(e,t.text,e.doc.mode,n,(function(e,t){i.push(e,t)}),o,r);for(var a=0;a<e.state.overlays.length;++a){var l=e.state.overlays[a],s=1,c=0;runMode(e,t.text,l.mode,!0,(function(e,t){for(var n=s;c<e;){var r=i[s];r>e&&i.splice(s,1,e,i[s+1],r),s+=2,c=Math.min(e,r)}if(t)if(l.opaque)i.splice(n,s-n,e,"cm-overlay "+t),s=n+2;else for(;n<s;n+=2){var o=i[n+1];i[n+1]=(o?o+" ":"")+"cm-overlay "+t}}),o)}return{styles:i,classes:o.bgClass||o.textClass?o:null}}function getLineStyles(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=getStateBefore(e,lineNo(t)),i=highlightLine(e,t,t.text.length>e.options.maxHighlightLength?$(e.doc.mode,r):r);t.stateAfter=r,t.styles=i.styles,i.classes?t.styleClasses=i.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.frontier&&e.doc.frontier++}return t.styles}function processLine(e,t,n,r){var i=e.doc.mode,o=new te(t,e.options.tabSize);for(o.start=o.pos=r||0,""==t&&callBlankLine(i,n);!o.eol();)readToken(i,o,n),o.start=o.pos}eventMixin(ae),ae.prototype.lineNo=function(){return lineNo(this)};var le={},se={};function interpretTokenStyle(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?se:le;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function buildLineContent(e,t){var n=elt("span",null,null,l?"padding-right: .1px":null),r={pre:elt("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:(o||l)&&e.getOption("lineWrapping")};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var a,s=i?t.rest[i-1]:t.line;r.pos=0,r.addToken=buildToken,hasBadBidiRects(e.display.measure)&&(a=getOrder(s))&&(r.addToken=buildTokenBadBidi(r.addToken,a)),r.map=[],insertLineContent(s,r,getLineStyles(e,s,t!=e.display.externalMeasured&&lineNo(s))),s.styleClasses&&(s.styleClasses.bgClass&&(r.bgClass=joinClasses(s.styleClasses.bgClass,r.bgClass||"")),s.styleClasses.textClass&&(r.textClass=joinClasses(s.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(zeroWidthElement(e.display.measure))),0==i?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(l){var c=r.content.lastChild;(/\bcm-tab\b/.test(c.className)||c.querySelector&&c.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return xe(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=joinClasses(r.pre.className,r.textClass||"")),r}function buildToken(e,t,n,r,i,l,s){if(t){var c=e.splitSpaces?function splitSpaces(e,t){if(e.length>1&&!/  /.test(e))return e;for(var n=t,r="",i=0;i<e.length;i++){var o=e.charAt(i);" "!=o||!n||i!=e.length-1&&32!=e.charCodeAt(i+1)||(o=" "),r+=o,n=" "==o}return r}(t,e.trailingSpace):t,u=e.cm.state.specialChars,d=!1;if(u.test(t)){x=document.createDocumentFragment();for(var f=0;;){u.lastIndex=f;var h=u.exec(t),g=h?h.index-f:t.length-f;if(g){var m=document.createTextNode(c.slice(f,f+g));o&&a<9?x.appendChild(elt("span",[m])):x.appendChild(m),e.map.push(e.pos,e.pos+g,m),e.col+=g,e.pos+=g}if(!h)break;if(f+=g+1,"\t"==h[0]){var v=e.cm.options.tabSize,y=v-e.col%v;(m=x.appendChild(elt("span",spaceStr(y),"cm-tab"))).setAttribute("role","presentation"),m.setAttribute("cm-text","\t"),e.col+=y}else"\r"==h[0]||"\n"==h[0]?((m=x.appendChild(elt("span","\r"==h[0]?"␍":"␤","cm-invalidchar"))).setAttribute("cm-text",h[0]),e.col+=1):((m=e.cm.options.specialCharPlaceholder(h[0])).setAttribute("cm-text",h[0]),o&&a<9?x.appendChild(elt("span",[m])):x.appendChild(m),e.col+=1);e.map.push(e.pos,e.pos+1,m),e.pos++}}else{e.col+=t.length;var x=document.createTextNode(c);e.map.push(e.pos,e.pos+t.length,x),o&&a<9&&(d=!0),e.pos+=t.length}if(e.trailingSpace=32==c.charCodeAt(t.length-1),n||r||i||d||s){var b=n||"";r&&(b+=r),i&&(b+=i);var w=elt("span",[x],b,s);return l&&(w.title=l),e.content.appendChild(w)}e.content.appendChild(x)}}function buildTokenBadBidi(e,t){return function(n,r,i,o,a,l,s){i=i?i+" cm-force-border":"cm-force-border";for(var c=n.pos,u=c+r.length;;){for(var d=0;d<t.length;d++){var f=t[d];if(f.to>c&&f.from<=c)break}if(f.to>=u)return e(n,r,i,o,a,l,s);e(n,r.slice(0,f.to-c),i,o,null,l,s),o=null,r=r.slice(f.to-c),c=f.to}}}function buildCollapsedSpan(e,t,n,r){var i=!r&&n.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!r&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",n.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t,e.trailingSpace=!1}function insertLineContent(e,t,n){var r=e.markedSpans,i=e.text,o=0;if(r)for(var a,l,s,c,u,d,f,h=i.length,g=0,m=(M=1,""),v=0;;){if(v==g){s=c=u=d=l="",f=null,v=1/0;for(var y,x=[],b=0;b<r.length;++b){var w=r[b],k=w.marker;"bookmark"==k.type&&w.from==g&&k.widgetNode?x.push(k):w.from<=g&&(null==w.to||w.to>g||k.collapsed&&w.to==g&&w.from==g)?(null!=w.to&&w.to!=g&&v>w.to&&(v=w.to,c=""),k.className&&(s+=" "+k.className),k.css&&(l=(l?l+";":"")+k.css),k.startStyle&&w.from==g&&(u+=" "+k.startStyle),k.endStyle&&w.to==v&&(y||(y=[])).push(k.endStyle,w.to),k.title&&!d&&(d=k.title),k.collapsed&&(!f||compareCollapsedMarkers(f.marker,k)<0)&&(f=w)):w.from>g&&v>w.from&&(v=w.from)}if(y)for(b=0;b<y.length;b+=2)y[b+1]==v&&(c+=" "+y[b]);if(!f||f.from==g)for(b=0;b<x.length;++b)buildCollapsedSpan(t,0,x[b]);if(f&&(f.from||0)==g){if(buildCollapsedSpan(t,(null==f.to?h+1:f.to)-g,f.marker,null==f.from),null==f.to)return;f.to==g&&(f=!1)}}if(g>=h)break;for(var C=Math.min(h,v);;){if(m){var S=g+m.length;if(!f){var L=S>C?m.slice(0,C-g):m;t.addToken(t,L,a?a+s:s,u,g+L.length==v?c:"",d,l)}if(S>=C){m=m.slice(C-g),g=C;break}g=S,u=""}m=i.slice(o,o=n[M++]),a=interpretTokenStyle(n[M++],t.cm.options)}}else for(var M=1;M<n.length;M+=2)t.addToken(t,i.slice(o,o=n[M]),interpretTokenStyle(n[M+1],t.cm.options))}function isWholeLineUpdate(e,t){return 0==t.from.ch&&0==t.to.ch&&""==lst(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function updateDoc(e,t,n,r){function spansFor(e){return n?n[e]:null}function update(e,n,i){!function updateLine(e,t,n,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),detachMarkedSpans(e),attachMarkedSpans(e,n);var i=r?r(e):1;i!=e.height&&updateLineHeight(e,i)}(e,n,i,r),signalLater(e,"change",e,t)}function linesFor(e,t){for(var n=e,i=[];n<t;++n)i.push(new ae(a[n],spansFor(n),r));return i}var i=t.from,o=t.to,a=t.text,l=getLine(e,i.line),s=getLine(e,o.line),c=lst(a),u=spansFor(a.length-1),d=o.line-i.line;if(t.full)e.insert(0,linesFor(0,a.length)),e.remove(a.length,e.size-a.length);else if(isWholeLineUpdate(e,t)){var f=linesFor(0,a.length-1);update(s,s.text,u),d&&e.remove(i.line,d),f.length&&e.insert(i.line,f)}else l==s?1==a.length?update(l,l.text.slice(0,i.ch)+c+l.text.slice(o.ch),u):((f=linesFor(1,a.length-1)).push(new ae(c+l.text.slice(o.ch),u,r)),update(l,l.text.slice(0,i.ch)+a[0],spansFor(0)),e.insert(i.line+1,f)):1==a.length?(update(l,l.text.slice(0,i.ch)+a[0]+s.text.slice(o.ch),spansFor(0)),e.remove(i.line+1,d)):(update(l,l.text.slice(0,i.ch)+a[0],spansFor(0)),update(s,c+s.text.slice(o.ch),u),f=linesFor(1,a.length-1),d>1&&e.remove(i.line+1,d-1),e.insert(i.line+1,f));signalLater(e,"change",e,t)}function LeafChunk(e){this.lines=e,this.parent=null;for(var t=0,n=0;t<e.length;++t)e[t].parent=this,n+=e[t].height;this.height=n}function BranchChunk(e){this.children=e;for(var t=0,n=0,r=0;r<e.length;++r){var i=e[r];t+=i.chunkSize(),n+=i.height,i.parent=this}this.size=t,this.height=n,this.parent=null}LeafChunk.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,r=e+t;n<r;++n){var i=this.lines[n];this.height-=i.height,cleanUpLine(i),signalLater(i,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0;r<t.length;++r)t[r].parent=this},iterN:function(e,t,n){for(var r=e+t;e<r;++e)if(n(this.lines[e]))return!0}},BranchChunk.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var r=this.children[n],i=r.chunkSize();if(e<i){var o=Math.min(t,i-e),a=r.height;if(r.removeInner(e,o),this.height-=a-r.height,i==o&&(this.children.splice(n--,1),r.parent=null),0==(t-=o))break;e=0}else e-=i}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof LeafChunk))){var l=[];this.collapse(l),this.children=[new LeafChunk(l)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(e<=o){if(i.insertInner(e,t,n),i.lines&&i.lines.length>50){for(var a=i.lines.length%25+25,l=a;l<i.lines.length;){var s=new LeafChunk(i.lines.slice(l,l+=25));i.height-=s.height,this.children.splice(++r,0,s),s.parent=this}i.lines=i.lines.slice(0,a),this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new BranchChunk(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var n=indexOf(e.parent.children,e);e.parent.children.splice(n+1,0,t)}else{var r=new BranchChunk(e.children);r.parent=e,e.children=[r,t],e=r}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(e<o){var a=Math.min(t,o-e);if(i.iterN(e,a,n))return!0;if(0==(t-=a))break;e=0}else e-=o}}};var ce=0,ue=CodeMirror.Doc=function(e,t,n,r){if(!(this instanceof ue))return new ue(e,t,n,r);null==n&&(n=0),BranchChunk.call(this,[new LeafChunk([new ae("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=n;var i=L(n,0);this.sel=simpleSelection(i),this.history=new History(null),this.id=++ce,this.modeOption=t,this.lineSep=r,this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),updateDoc(this,{from:i,to:i,text:e}),setSelection(this,simpleSelection(i),Ce)};ue.prototype=createObj(BranchChunk.prototype,{constructor:ue,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,r=0;r<t.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=getLines(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:docMethodOp((function(e){var t=L(this.first,0),n=this.first+this.size-1;makeChange(this,{from:t,to:L(n,getLine(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),setSelection(this,simpleSelection(t))})),replaceRange:function(e,t,n,r){replaceRange(this,e,t=clipPos(this,t),n=n?clipPos(this,n):t,r)},getRange:function(e,t,n){var r=getBetween(this,clipPos(this,e),clipPos(this,t));return!1===n?r:r.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(isLine(this,e))return getLine(this,e)},getLineNumber:function(e){return lineNo(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=getLine(this,e)),visualLine(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return clipPos(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:docMethodOp((function(e,t,n){setSimpleSelection(this,clipPos(this,"number"==typeof e?L(e,t||0):e),null,n)})),setSelection:docMethodOp((function(e,t,n){setSimpleSelection(this,clipPos(this,e),clipPos(this,t||e),n)})),extendSelection:docMethodOp((function(e,t,n){extendSelection(this,clipPos(this,e),t&&clipPos(this,t),n)})),extendSelections:docMethodOp((function(e,t){extendSelections(this,clipPosArray(this,e),t)})),extendSelectionsBy:docMethodOp((function(e,t){extendSelections(this,clipPosArray(this,map(this.sel.ranges,e)),t)})),setSelections:docMethodOp((function(e,t,n){if(e.length){for(var r=0,i=[];r<e.length;r++)i[r]=new Range(clipPos(this,e[r].anchor),clipPos(this,e[r].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),setSelection(this,normalizeSelection(i,t),n)}})),addSelection:docMethodOp((function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new Range(clipPos(this,e),clipPos(this,t||e))),setSelection(this,normalizeSelection(r,r.length-1),n)})),getSelection:function(e){for(var t,n=this.sel.ranges,r=0;r<n.length;r++){var i=getBetween(this,n[r].from(),n[r].to());t=t?t.concat(i):i}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],n=this.sel.ranges,r=0;r<n.length;r++){var i=getBetween(this,n[r].from(),n[r].to());!1!==e&&(i=i.join(e||this.lineSeparator())),t[r]=i}return t},replaceSelection:function(e,t,n){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=e;this.replaceSelections(r,t,n||"+input")},replaceSelections:docMethodOp((function(e,t,n){for(var r=[],i=this.sel,o=0;o<i.ranges.length;o++){var a=i.ranges[o];r[o]={from:a.from(),to:a.to(),text:this.splitLines(e[o]),origin:n}}var l=t&&"end"!=t&&function computeReplacedSel(e,t,n){for(var r=[],i=L(e.first,0),o=i,a=0;a<t.length;a++){var l=t[a],s=offsetPos(l.from,i,o),c=offsetPos(B(l),i,o);if(i=l.to,o=c,"around"==n){var u=e.sel.ranges[a],d=M(u.head,u.anchor)<0;r[a]=new Range(d?c:s,d?s:c)}else r[a]=new Range(s,s)}return new Selection(r,e.sel.primIndex)}(this,r,t);for(o=r.length-1;o>=0;o--)makeChange(this,r[o]);l?setSelectionReplaceHistory(this,l):this.cm&&ensureCursorVisible(this.cm)})),undo:docMethodOp((function(){makeChangeFromHistory(this,"undo")})),redo:docMethodOp((function(){makeChangeFromHistory(this,"redo")})),undoSelection:docMethodOp((function(){makeChangeFromHistory(this,"undo",!0)})),redoSelection:docMethodOp((function(){makeChangeFromHistory(this,"redo",!0)})),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(r=0;r<e.undone.length;r++)e.undone[r].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){this.history=new History(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:copyHistoryArray(this.history.done),undone:copyHistoryArray(this.history.undone)}},setHistory:function(e){var t=this.history=new History(this.history.maxGeneration);t.done=copyHistoryArray(e.done.slice(0),null,!0),t.undone=copyHistoryArray(e.undone.slice(0),null,!0)},addLineClass:docMethodOp((function(e,t,n){return changeLine(this,e,"gutter"==t?"gutter":"class",(function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[r]){if(classTest(n).test(e[r]))return!1;e[r]+=" "+n}else e[r]=n;return!0}))})),removeLineClass:docMethodOp((function(e,t,n){return changeLine(this,e,"gutter"==t?"gutter":"class",(function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",i=e[r];if(!i)return!1;if(null==n)e[r]=null;else{var o=i.match(classTest(n));if(!o)return!1;var a=o.index+o[0].length;e[r]=i.slice(0,o.index)+(o.index&&a!=i.length?" ":"")+i.slice(a)||null}return!0}))})),addLineWidget:docMethodOp((function(e,t,n){return function addLineWidget(e,t,n,r){var i=new oe(e,n,r),o=e.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),changeLine(e,t,"widget",(function(t){var n=t.widgets||(t.widgets=[]);if(null==i.insertAt?n.push(i):n.splice(Math.min(n.length-1,Math.max(0,i.insertAt)),0,i),i.line=t,o&&!lineIsHidden(e,t)){var r=heightAtLine(t)<e.scrollTop;updateLineHeight(t,t.height+widgetHeight(i)),r&&addToScrollPos(o,null,i.height),o.curOp.forceUpdate=!0}return!0})),i}(this,e,t,n)})),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return markText(this,clipPos(this,e),clipPos(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return markText(this,e=clipPos(this,e),e,n,"bookmark")},findMarksAt:function(e){var t=[],n=getLine(this,(e=clipPos(this,e)).line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,n){e=clipPos(this,e),t=clipPos(this,t);var r=[],i=e.line;return this.iter(e.line,t.line+1,(function(o){var a=o.markedSpans;if(a)for(var l=0;l<a.length;l++){var s=a[l];null!=s.to&&i==e.line&&e.ch>=s.to||null==s.from&&i!=e.line||null!=s.from&&i==t.line&&s.from>=t.ch||n&&!n(s.marker)||r.push(s.marker.parent||s.marker)}++i})),r},getAllMarks:function(){var e=[];return this.iter((function(t){var n=t.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&e.push(n[r].marker)})),e},posFromIndex:function(e){var t,n=this.first,r=this.lineSeparator().length;return this.iter((function(i){var o=i.text.length+r;if(o>e)return t=e,!0;e-=o,++n})),clipPos(this,L(n,t))},indexFromPos:function(e){var t=(e=clipPos(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,(function(e){t+=e.text.length+n})),t},copy:function(e){var t=new ue(getLines(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var r=new ue(getLines(this,t,n),e.mode||this.modeOption,t,this.lineSep);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],function copySharedMarkers(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=r.find(),o=e.clipPos(i.from),a=e.clipPos(i.to);if(M(o,a)){var l=markText(e,o,a,r.primary,r.primary.type);r.markers.push(l),l.parent=r}}}(r,findSharedMarkers(this)),r},unlinkDoc:function(e){if(e instanceof CodeMirror&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t)if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),detachSharedMarkers(findSharedMarkers(this));break}if(e.history==this.history){var n=[e.id];linkedDocs(e,(function(e){n.push(e.id)}),!0),e.history=new History(null),e.history.done=copyHistoryArray(this.history.done,n),e.history.undone=copyHistoryArray(this.history.undone,n)}},iterLinkedDocs:function(e){linkedDocs(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Ve(e)},lineSeparator:function(){return this.lineSep||"\n"}}),ue.prototype.eachLine=ue.prototype.iter;var de="iter insert remove copy getEditor constructor".split(" ");for(var pe in ue.prototype)ue.prototype.hasOwnProperty(pe)&&indexOf(de,pe)<0&&(CodeMirror.prototype[pe]=function(e){return function(){return e.apply(this.doc,arguments)}}(ue.prototype[pe]));function linkedDocs(e,t,n){!function propagate(e,r,i){if(e.linked)for(var o=0;o<e.linked.length;++o){var a=e.linked[o];if(a.doc!=r){var l=i&&a.sharedHist;n&&!l||(t(a.doc,l),propagate(a.doc,e,l))}}}(e,null,!0)}function attachDoc(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,estimateLineHeights(e),loadMode(e),e.options.lineWrapping||findMaxLine(e),e.options.mode=t.modeOption,regChange(e)}function getLine(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var r=0;;++r){var i=n.children[r],o=i.chunkSize();if(t<o){n=i;break}t-=o}return n.lines[t]}function getBetween(e,t,n){var r=[],i=t.line;return e.iter(t.line,n.line+1,(function(e){var o=e.text;i==n.line&&(o=o.slice(0,n.ch)),i==t.line&&(o=o.slice(t.ch)),r.push(o),++i})),r}function getLines(e,t,n){var r=[];return e.iter(t,n,(function(e){r.push(e.text)})),r}function updateLineHeight(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n}function lineNo(e){if(null==e.parent)return null;for(var t=e.parent,n=indexOf(t.lines,e),r=t.parent;r;t=r,r=r.parent)for(var i=0;r.children[i]!=t;++i)n+=r.children[i].chunkSize();return n+t.first}function lineAtHeight(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var i=e.children[r],o=i.height;if(t<o){e=i;continue e}t-=o,n+=i.chunkSize()}return n}while(!e.lines);for(r=0;r<e.lines.length;++r){var a=e.lines[r].height;if(t<a)break;t-=a}return n+r}function heightAtLine(e){for(var t=0,n=(e=visualLine(e)).parent,r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==e)break;t+=i.height}for(var o=n.parent;o;o=(n=o).parent)for(r=0;r<o.children.length;++r){var a=o.children[r];if(a==n)break;t+=a.height}return t}function getOrder(e){var t=e.order;return null==t&&(t=e.order=qe(e.text)),t}function History(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function historyChangeFromChange(e,t){var n={from:copyPos(t.from),to:B(t),text:getBetween(e,t.from,t.to)};return attachLocalSpans(e,n,t.from.line,t.to.line+1),linkedDocs(e,(function(e){attachLocalSpans(e,n,t.from.line,t.to.line+1)}),!0),n}function clearSelectionEvents(e){for(;e.length&&lst(e).ranges;)e.pop()}function addChangeToHistory(e,t,n,r){var i=e.history;i.undone.length=0;var o,a=+new Date;if((i.lastOp==r||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&i.lastModTime>a-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(o=function lastChangeEvent(e,t){return t?(clearSelectionEvents(e.done),lst(e.done)):e.done.length&&!lst(e.done).ranges?lst(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),lst(e.done)):void 0}(i,i.lastOp==r))){var l=lst(o.changes);0==M(t.from,t.to)&&0==M(t.from,l.to)?l.to=B(t):o.changes.push(historyChangeFromChange(e,t))}else{var s=lst(i.done);for(s&&s.ranges||pushSelectionToHistory(e.sel,i.done),o={changes:[historyChangeFromChange(e,t)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=a,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=t.origin,l||xe(e,"historyAdded")}function pushSelectionToHistory(e,t){var n=lst(t);n&&n.ranges&&n.equals(e)||t.push(e)}function attachLocalSpans(e,t,n,r){var i=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,r),(function(n){n.markedSpans&&((i||(i=t["spans_"+e.id]={}))[o]=n.markedSpans),++o}))}function removeClearedSpans(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function copyHistoryArray(e,t,n){for(var r=0,i=[];r<e.length;++r){var o=e[r];if(o.ranges)i.push(n?Selection.prototype.deepCopy.call(o):o);else{var a=o.changes,l=[];i.push({changes:l});for(var s=0;s<a.length;++s){var c,u=a[s];if(l.push({from:u.from,to:u.to,text:u.text}),t)for(var d in u)(c=d.match(/^spans_(\d+)$/))&&indexOf(t,Number(c[1]))>-1&&(lst(l)[d]=u[d],delete u[d])}}}return i}function rebaseHistSelSingle(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function rebaseHistArray(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i],a=!0;if(o.ranges){o.copied||((o=e[i]=o.deepCopy()).copied=!0);for(var l=0;l<o.ranges.length;l++)rebaseHistSelSingle(o.ranges[l].anchor,t,n,r),rebaseHistSelSingle(o.ranges[l].head,t,n,r)}else{for(l=0;l<o.changes.length;++l){var s=o.changes[l];if(n<s.from.line)s.from=L(s.from.line+r,s.from.ch),s.to=L(s.to.line+r,s.to.ch);else if(t<=s.to.line){a=!1;break}}a||(e.splice(0,i+1),i=0)}}}function rebaseHist(e,t){var n=t.from.line,r=t.to.line,i=t.text.length-(r-n)-1;rebaseHistArray(e.done,n,r,i),rebaseHistArray(e.undone,n,r,i)}eventMixin(ue);var fe=CodeMirror.e_preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},he=CodeMirror.e_stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0};function e_defaultPrevented(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}var ge=CodeMirror.e_stop=function(e){fe(e),he(e)};function e_target(e){return e.target||e.srcElement}function e_button(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),v&&e.ctrlKey&&1==t&&(t=3),t}var me=CodeMirror.on=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var r=e._handlers||(e._handlers={});(r[t]||(r[t]=[])).push(n)}},ve=[];function getHandlers(e,t,n){var r=e._handlers&&e._handlers[t];return n?r&&r.length>0?r.slice():ve:r||ve}var ye=CodeMirror.off=function(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else for(var r=getHandlers(e,t,!1),i=0;i<r.length;++i)if(r[i]==n){r.splice(i,1);break}},xe=CodeMirror.signal=function(e,t){var n=getHandlers(e,t,!0);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<n.length;++i)n[i].apply(null,r)},be=null;function signalLater(e,t){var n=getHandlers(e,t,!1);if(n.length){var r,i=Array.prototype.slice.call(arguments,2);I?r=I.delayedCallbacks:be?r=be:(r=be=[],setTimeout(fireOrphanDelayed,0));for(var o=0;o<n.length;++o)r.push(bnd(n[o]))}function bnd(e){return function(){e.apply(null,i)}}}function fireOrphanDelayed(){var e=be;be=null;for(var t=0;t<e.length;++t)e[t]()}function signalDOMEvent(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),xe(e,n||t.type,e,t),e_defaultPrevented(t)||t.codemirrorIgnore}function signalCursorActivity(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)-1==indexOf(n,t[r])&&n.push(t[r])}function hasHandler(e,t){return getHandlers(e,t).length>0}function eventMixin(e){e.prototype.on=function(e,t){me(this,e,t)},e.prototype.off=function(e,t){ye(this,e,t)}}var we=30,ke=CodeMirror.Pass={toString:function(){return"CodeMirror.Pass"}},Ce={scroll:!1},Se={origin:"*mouse"},Le={origin:"+move"};function Delayed(){this.id=null}Delayed.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var Me=CodeMirror.countColumn=function(e,t,n,r,i){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var o=r||0,a=i||0;;){var l=e.indexOf("\t",o);if(l<0||l>=t)return a+(t-o);a+=l-o,a+=n-a%n,o=l+1}},Te=CodeMirror.findColumn=function(e,t,n){for(var r=0,i=0;;){var o=e.indexOf("\t",r);-1==o&&(o=e.length);var a=o-r;if(o==e.length||i+a>=t)return r+Math.min(a,t-i);if(i+=o-r,r=o+1,(i+=n-i%n)>=t)return r}},Oe=[""];function spaceStr(e){for(;Oe.length<=e;)Oe.push(lst(Oe)+" ");return Oe[e]}function lst(e){return e[e.length-1]}var selectInput=function(e){e.select()};function indexOf(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}function map(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r);return n}function nothing(){}function createObj(e,t){var n;return Object.create?n=Object.create(e):(nothing.prototype=e,n=new nothing),t&&copyObj(t,n),n}function copyObj(e,t,n){for(var r in t||(t={}),e)!e.hasOwnProperty(r)||!1===n&&t.hasOwnProperty(r)||(t[r]=e[r]);return t}function bind(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}g?selectInput=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:o&&(selectInput=function(e){try{e.select()}catch(e){}});var Ae=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Pe=CodeMirror.isWordChar=function(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||Ae.test(e))};function isWordChar(e,t){return t?!!(t.source.indexOf("\\w")>-1&&Pe(e))||t.test(e):Pe(e)}function isEmpty(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var Ne,Ie=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function isExtendingChar(e){return e.charCodeAt(0)>=768&&Ie.test(e)}function elt(e,t,n,r){var i=document.createElement(e);if(n&&(i.className=n),r&&(i.style.cssText=r),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function removeChildren(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function removeChildrenAndAdd(e,t){return removeChildren(e).appendChild(t)}Ne=document.createRange?function(e,t,n,r){var i=document.createRange();return i.setEnd(r||e,n),i.setStart(e,t),i}:function(e,t,n){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch(e){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r};var He=CodeMirror.contains=function(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)};function activeElt(){for(var e=document.activeElement;e&&e.root&&e.root.activeElement;)e=e.root.activeElement;return e}function classTest(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}o&&a<11&&(activeElt=function(){try{return document.activeElement}catch(e){return document.body}});var De=CodeMirror.rmClass=function(e,t){var n=e.className,r=classTest(t).exec(n);if(r){var i=n.slice(r.index+r[0].length);e.className=n.slice(0,r.index)+(i?r[1]+i:"")}},We=CodeMirror.addClass=function(e,t){var n=e.className;classTest(t).test(n)||(e.className+=(n?" ":"")+t)};function joinClasses(e,t){for(var n=e.split(" "),r=0;r<n.length;r++)n[r]&&!classTest(n[r]).test(t)&&(t+=" "+n[r]);return t}function forEachCodeMirror(e){if(document.body.getElementsByClassName)for(var t=document.body.getElementsByClassName("CodeMirror"),n=0;n<t.length;n++){var r=t[n].CodeMirror;r&&e(r)}}var Fe,Ee,ze=!1,Be=function(){if(o&&a<9)return!1;var e=elt("div");return"draggable"in e||"dragDrop"in e}();function zeroWidthElement(e){if(null==Fe){var t=elt("span","​");removeChildrenAndAdd(e,elt("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Fe=t.offsetWidth<=1&&t.offsetHeight>2&&!(o&&a<8))}var n=Fe?elt("span","​"):elt("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function hasBadBidiRects(e){if(null!=Ee)return Ee;var t=removeChildrenAndAdd(e,document.createTextNode("AخA")),n=Ne(t,0,1).getBoundingClientRect(),r=Ne(t,1,2).getBoundingClientRect();return removeChildren(e),!(!n||n.left==n.right)&&(Ee=r.right-n.right<3)}var Re,_e,Ve=CodeMirror.splitLines=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],r=e.length;t<=r;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),a=o.indexOf("\r");-1!=a?(n.push(o.slice(0,a)),t+=a+1):(n.push(o),t=i+1)}return n}:function(e){return e.split(/\r\n?|\n/)},je=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){try{var t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},Ue="oncopy"in(Re=elt("div"))||(Re.setAttribute("oncopy","return;"),"function"==typeof Re.oncopy),Ge=null,Ke=CodeMirror.keyNames={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};function bidiLeft(e){return e.level%2?e.to:e.from}function bidiRight(e){return e.level%2?e.from:e.to}function lineLeft(e){var t=getOrder(e);return t?bidiLeft(t[0]):0}function lineRight(e){var t=getOrder(e);return t?bidiRight(lst(t)):e.text.length}function lineStart(e,t){var n=getLine(e.doc,t),r=visualLine(n);r!=n&&(t=lineNo(r));var i=getOrder(r),o=i?i[0].level%2?lineRight(r):lineLeft(r):0;return L(t,o)}function lineStartSmart(e,t){var n=lineStart(e,t.line),r=getLine(e.doc,n.line),i=getOrder(r);if(!i||0==i[0].level){var o=Math.max(0,r.text.search(/\S/)),a=t.line==n.line&&t.ch<=o&&t.ch;return L(n.line,a?0:o)}return n}function compareBidiLevel(e,t,n){var r=e[0].level;return t==r||n!=r&&t<n}function getBidiPartAt(e,t){_e=null;for(var n,r=0;r<e.length;++r){var i=e[r];if(i.from<t&&i.to>t)return r;if(i.from==t||i.to==t){if(null!=n)return compareBidiLevel(e,i.level,e[n].level)?(i.from!=i.to&&(_e=n),r):(i.from!=i.to&&(_e=r),n);n=r}}return n}function moveInLine(e,t,n,r){if(!r)return t+n;do{t+=n}while(t>0&&isExtendingChar(e.text.charAt(t)));return t}function moveVisually(e,t,n,r){var i=getOrder(e);if(!i)return moveLogically(e,t,n,r);for(var o=getBidiPartAt(i,t),a=i[o],l=moveInLine(e,t,a.level%2?-n:n,r);;){if(l>a.from&&l<a.to)return l;if(l==a.from||l==a.to)return getBidiPartAt(i,l)==o?l:n>0==(a=i[o+=n]).level%2?a.to:a.from;if(!(a=i[o+=n]))return null;l=n>0==a.level%2?moveInLine(e,a.to,-1,r):moveInLine(e,a.from,1,r)}}function moveLogically(e,t,n,r){var i=t+n;if(r)for(;i>0&&isExtendingChar(e.text.charAt(i));)i+=n;return i<0||i>e.text.length?null:i}!function(){for(var e=0;e<10;e++)Ke[e+48]=Ke[e+96]=String(e);for(e=65;e<=90;e++)Ke[e]=String.fromCharCode(e);for(e=1;e<=12;e++)Ke[e+111]=Ke[e+63235]="F"+e}();var qe=function(){var e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,t=/[stwN]/,n=/[LRr]/,r=/[Lb1n]/,i=/[1n]/;function BidiSpan(e,t,n){this.level=e,this.from=t,this.to=n}return function(o){if(!e.test(o))return!1;for(var a,l=o.length,s=[],c=0;c<l;++c)s.push(m=(a=o.charCodeAt(c))<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(a):1424<=a&&a<=1524?"R":1536<=a&&a<=1773?"rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm".charAt(a-1536):1774<=a&&a<=2220?"r":8192<=a&&a<=8203?"w":8204==a?"b":"L");c=0;for(var u="L";c<l;++c)"m"==(m=s[c])?s[c]=u:u=m;c=0;for(var d="L";c<l;++c)"1"==(m=s[c])&&"r"==d?s[c]="n":n.test(m)&&(d=m,"r"==m&&(s[c]="R"));for(c=1,u=s[0];c<l-1;++c)"+"==(m=s[c])&&"1"==u&&"1"==s[c+1]?s[c]="1":","!=m||u!=s[c+1]||"1"!=u&&"n"!=u||(s[c]=u),u=m;for(c=0;c<l;++c)if(","==(m=s[c]))s[c]="N";else if("%"==m){for(var f=c+1;f<l&&"%"==s[f];++f);for(var h=c&&"!"==s[c-1]||f<l&&"1"==s[f]?"1":"N",g=c;g<f;++g)s[g]=h;c=f-1}for(c=0,d="L";c<l;++c){var m=s[c];"L"==d&&"1"==m?s[c]="L":n.test(m)&&(d=m)}for(c=0;c<l;++c)if(t.test(s[c])){for(f=c+1;f<l&&t.test(s[f]);++f);var v="L"==(c?s[c-1]:"L"),y="L"==(f<l?s[f]:"L");for(h=v||y?"L":"R",g=c;g<f;++g)s[g]=h;c=f-1}var x,b=[];for(c=0;c<l;)if(r.test(s[c])){var w=c;for(++c;c<l&&r.test(s[c]);++c);b.push(new BidiSpan(0,w,c))}else{var k=c,C=b.length;for(++c;c<l&&"L"!=s[c];++c);for(g=k;g<c;)if(i.test(s[g])){k<g&&b.splice(C,0,new BidiSpan(1,k,g));var S=g;for(++g;g<c&&i.test(s[g]);++g);b.splice(C,0,new BidiSpan(2,S,g)),k=g}else++g;k<c&&b.splice(C,0,new BidiSpan(1,k,c))}return 1==b[0].level&&(x=o.match(/^\s+/))&&(b[0].from=x[0].length,b.unshift(new BidiSpan(0,0,x[0].length))),1==lst(b).level&&(x=o.match(/\s+$/))&&(lst(b).to-=x[0].length,b.push(new BidiSpan(0,l-x[0].length,l))),2==b[0].level&&b.unshift(new BidiSpan(1,b[0].to,b[0].to)),b[0].level!=lst(b).level&&b.push(new BidiSpan(b[0].level,l,l)),b}}();return CodeMirror.version="5.19.0",CodeMirror}()},1123:function(e,t,n){!function(e){"use strict";function keySet(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=!0;return t}e.defineMode("css",(function(t,n){var r=n.inline;n.propertyKeywords||(n=e.resolveMode("text/css"));var i,o,a=t.indentUnit,l=n.tokenHooks,s=n.documentTypes||{},c=n.mediaTypes||{},u=n.mediaFeatures||{},d=n.mediaValueKeywords||{},f=n.propertyKeywords||{},h=n.nonStandardPropertyKeywords||{},g=n.fontProperties||{},m=n.counterDescriptors||{},v=n.colorKeywords||{},y=n.valueKeywords||{},x=n.allowNested,b=!0===n.supportsAtComponent;function ret(e,t){return i=t,e}function tokenBase(e,t){var n=e.next();if(l[n]){var r=l[n](e,t);if(!1!==r)return r}return"@"==n?(e.eatWhile(/[\w\\\-]/),ret("def",e.current())):"="==n||("~"==n||"|"==n)&&e.eat("=")?ret(null,"compare"):'"'==n||"'"==n?(t.tokenize=tokenString(n),t.tokenize(e,t)):"#"==n?(e.eatWhile(/[\w\\\-]/),ret("atom","hash")):"!"==n?(e.match(/^\s*\w*/),ret("keyword","important")):/\d/.test(n)||"."==n&&e.eat(/\d/)?(e.eatWhile(/[\w.%]/),ret("number","unit")):"-"!==n?/[,+>*\/]/.test(n)?ret(null,"select-op"):"."==n&&e.match(/^-?[_a-z][_a-z0-9-]*/i)?ret("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(n)?ret(null,n):"u"==n&&e.match(/rl(-prefix)?\(/)||"d"==n&&e.match("omain(")||"r"==n&&e.match("egexp(")?(e.backUp(1),t.tokenize=tokenParenthesized,ret("property","word")):/[\w\\\-]/.test(n)?(e.eatWhile(/[\w\\\-]/),ret("property","word")):ret(null,null):/[\d.]/.test(e.peek())?(e.eatWhile(/[\w.%]/),ret("number","unit")):e.match(/^-[\w\\\-]+/)?(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?ret("variable-2","variable-definition"):ret("variable-2","variable")):e.match(/^\w+-/)?ret("meta","meta"):void 0}function tokenString(e){return function(t,n){for(var r,i=!1;null!=(r=t.next());){if(r==e&&!i){")"==e&&t.backUp(1);break}i=!i&&"\\"==r}return(r==e||!i&&")"!=e)&&(n.tokenize=null),ret("string","string")}}function tokenParenthesized(e,t){return e.next(),e.match(/\s*[\"\')]/,!1)?t.tokenize=null:t.tokenize=tokenString(")"),ret(null,"(")}function Context(e,t,n){this.type=e,this.indent=t,this.prev=n}function pushContext(e,t,n,r){return e.context=new Context(n,t.indentation()+(!1===r?0:a),e.context),n}function popContext(e){return e.context.prev&&(e.context=e.context.prev),e.context.type}function pass(e,t,n){return w[n.context.type](e,t,n)}function popAndPass(e,t,n,r){for(var i=r||1;i>0;i--)n.context=n.context.prev;return pass(e,t,n)}function wordAsValue(e){var t=e.current().toLowerCase();o=y.hasOwnProperty(t)?"atom":v.hasOwnProperty(t)?"keyword":"variable"}var w={top:function(e,t,n){if("{"==e)return pushContext(n,t,"block");if("}"==e&&n.context.prev)return popContext(n);if(b&&/@component/.test(e))return pushContext(n,t,"atComponentBlock");if(/^@(-moz-)?document$/.test(e))return pushContext(n,t,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/.test(e))return pushContext(n,t,"atBlock");if(/^@(font-face|counter-style)/.test(e))return n.stateArg=e,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/.test(e))return"keyframes";if(e&&"@"==e.charAt(0))return pushContext(n,t,"at");if("hash"==e)o="builtin";else if("word"==e)o="tag";else{if("variable-definition"==e)return"maybeprop";if("interpolation"==e)return pushContext(n,t,"interpolation");if(":"==e)return"pseudo";if(x&&"("==e)return pushContext(n,t,"parens")}return n.context.type},block:function(e,t,n){if("word"==e){var r=t.current().toLowerCase();return f.hasOwnProperty(r)?(o="property","maybeprop"):h.hasOwnProperty(r)?(o="string-2","maybeprop"):x?(o=t.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(o+=" error","maybeprop")}return"meta"==e?"block":x||"hash"!=e&&"qualifier"!=e?w.top(e,t,n):(o="error","block")},maybeprop:function(e,t,n){return":"==e?pushContext(n,t,"prop"):pass(e,t,n)},prop:function(e,t,n){if(";"==e)return popContext(n);if("{"==e&&x)return pushContext(n,t,"propBlock");if("}"==e||"{"==e)return popAndPass(e,t,n);if("("==e)return pushContext(n,t,"parens");if("hash"!=e||/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(t.current())){if("word"==e)wordAsValue(t);else if("interpolation"==e)return pushContext(n,t,"interpolation")}else o+=" error";return"prop"},propBlock:function(e,t,n){return"}"==e?popContext(n):"word"==e?(o="property","maybeprop"):n.context.type},parens:function(e,t,n){return"{"==e||"}"==e?popAndPass(e,t,n):")"==e?popContext(n):"("==e?pushContext(n,t,"parens"):"interpolation"==e?pushContext(n,t,"interpolation"):("word"==e&&wordAsValue(t),"parens")},pseudo:function(e,t,n){return"word"==e?(o="variable-3",n.context.type):pass(e,t,n)},documentTypes:function(e,t,n){return"word"==e&&s.hasOwnProperty(t.current())?(o="tag",n.context.type):w.atBlock(e,t,n)},atBlock:function(e,t,n){if("("==e)return pushContext(n,t,"atBlock_parens");if("}"==e||";"==e)return popAndPass(e,t,n);if("{"==e)return popContext(n)&&pushContext(n,t,x?"block":"top");if("interpolation"==e)return pushContext(n,t,"interpolation");if("word"==e){var r=t.current().toLowerCase();o="only"==r||"not"==r||"and"==r||"or"==r?"keyword":c.hasOwnProperty(r)?"attribute":u.hasOwnProperty(r)?"property":d.hasOwnProperty(r)?"keyword":f.hasOwnProperty(r)?"property":h.hasOwnProperty(r)?"string-2":y.hasOwnProperty(r)?"atom":v.hasOwnProperty(r)?"keyword":"error"}return n.context.type},atComponentBlock:function(e,t,n){return"}"==e?popAndPass(e,t,n):"{"==e?popContext(n)&&pushContext(n,t,x?"block":"top",!1):("word"==e&&(o="error"),n.context.type)},atBlock_parens:function(e,t,n){return")"==e?popContext(n):"{"==e||"}"==e?popAndPass(e,t,n,2):w.atBlock(e,t,n)},restricted_atBlock_before:function(e,t,n){return"{"==e?pushContext(n,t,"restricted_atBlock"):"word"==e&&"@counter-style"==n.stateArg?(o="variable","restricted_atBlock_before"):pass(e,t,n)},restricted_atBlock:function(e,t,n){return"}"==e?(n.stateArg=null,popContext(n)):"word"==e?(o="@font-face"==n.stateArg&&!g.hasOwnProperty(t.current().toLowerCase())||"@counter-style"==n.stateArg&&!m.hasOwnProperty(t.current().toLowerCase())?"error":"property","maybeprop"):"restricted_atBlock"},keyframes:function(e,t,n){return"word"==e?(o="variable","keyframes"):"{"==e?pushContext(n,t,"top"):pass(e,t,n)},at:function(e,t,n){return";"==e?popContext(n):"{"==e||"}"==e?popAndPass(e,t,n):("word"==e?o="tag":"hash"==e&&(o="builtin"),"at")},interpolation:function(e,t,n){return"}"==e?popContext(n):"{"==e||";"==e?popAndPass(e,t,n):("word"==e?o="variable":"variable"!=e&&"("!=e&&")"!=e&&(o="error"),"interpolation")}};return{startState:function(e){return{tokenize:null,state:r?"block":"top",stateArg:null,context:new Context(r?"block":"top",e||0,null)}},token:function(e,t){if(!t.tokenize&&e.eatSpace())return null;var n=(t.tokenize||tokenBase)(e,t);return n&&"object"==typeof n&&(i=n[1],n=n[0]),o=n,t.state=w[t.state](i,e,t),o},indent:function(e,t){var n=e.context,r=t&&t.charAt(0),i=n.indent;return"prop"!=n.type||"}"!=r&&")"!=r||(n=n.prev),n.prev&&("}"!=r||"block"!=n.type&&"top"!=n.type&&"interpolation"!=n.type&&"restricted_atBlock"!=n.type?(")"!=r||"parens"!=n.type&&"atBlock_parens"!=n.type)&&("{"!=r||"at"!=n.type&&"atBlock"!=n.type)||(i=Math.max(0,n.indent-a),n=n.prev):i=(n=n.prev).indent),i},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",fold:"brace"}}));var t=["domain","regexp","url","url-prefix"],n=keySet(t),r=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],i=keySet(r),o=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover"],a=keySet(o),l=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive"],s=keySet(l),c=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marker-offset","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","word-break","word-spacing","word-wrap","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],u=keySet(c),d=["scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-3d-light-color","scrollbar-track-color","shape-inside","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","zoom"],f=keySet(d),h=keySet(["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"]),g=keySet(["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"]),m=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],v=keySet(m),y=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","semi-condensed","semi-expanded","separate","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","spell-out","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","symbolic","symbols","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],x=keySet(y),b=t.concat(r).concat(o).concat(l).concat(c).concat(d).concat(m).concat(y);function tokenCComment(e,t){for(var n,r=!1;null!=(n=e.next());){if(r&&"/"==n){t.tokenize=null;break}r="*"==n}return["comment","comment"]}e.registerHelper("hintWords","css",b),e.defineMIME("text/css",{documentTypes:n,mediaTypes:i,mediaFeatures:a,mediaValueKeywords:s,propertyKeywords:u,nonStandardPropertyKeywords:f,fontProperties:h,counterDescriptors:g,colorKeywords:v,valueKeywords:x,tokenHooks:{"/":function(e,t){return!!e.eat("*")&&(t.tokenize=tokenCComment,tokenCComment(e,t))}},name:"css"}),e.defineMIME("text/x-scss",{mediaTypes:i,mediaFeatures:a,mediaValueKeywords:s,propertyKeywords:u,nonStandardPropertyKeywords:f,colorKeywords:v,valueKeywords:x,fontProperties:h,allowNested:!0,tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=tokenCComment,tokenCComment(e,t)):["operator","operator"]},":":function(e){return!!e.match(/\s*\{/)&&[null,"{"]},$:function(e){return e.match(/^[\w-]+/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(e){return!!e.eat("{")&&[null,"interpolation"]}},name:"css",helperType:"scss"}),e.defineMIME("text/x-less",{mediaTypes:i,mediaFeatures:a,mediaValueKeywords:s,propertyKeywords:u,nonStandardPropertyKeywords:f,colorKeywords:v,valueKeywords:x,fontProperties:h,allowNested:!0,tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=tokenCComment,tokenCComment(e,t)):["operator","operator"]},"@":function(e){return e.eat("{")?[null,"interpolation"]:!e.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/,!1)&&(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),e.defineMIME("text/x-gss",{documentTypes:n,mediaTypes:i,mediaFeatures:a,propertyKeywords:u,nonStandardPropertyKeywords:f,fontProperties:h,counterDescriptors:g,colorKeywords:v,valueKeywords:x,supportsAtComponent:!0,tokenHooks:{"/":function(e,t){return!!e.eat("*")&&(t.tokenize=tokenCComment,tokenCComment(e,t))}},name:"css",helperType:"gss"})}(n(28))},1260:function(e,t,n){!function(e){"use strict";var t={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]},n={};function getAttrValue(e,t){var r=e.match(function getAttrRegexp(e){var t=n[e];return t||(n[e]=new RegExp("\\s+"+e+"\\s*=\\s*('|\")?([^'\"]+)('|\")?\\s*"))}(t));return r?/^\s*(.*?)\s*$/.exec(r[2])[1]:""}function getTagRegexp(e,t){return new RegExp((t?"^":"")+"</s*"+e+"s*>","i")}function addTags(e,t){for(var n in e)for(var r=t[n]||(t[n]=[]),i=e[n],o=i.length-1;o>=0;o--)r.unshift(i[o])}e.defineMode("htmlmixed",(function(n,r){var i=e.getMode(n,{name:"xml",htmlMode:!0,multilineTagIndentFactor:r.multilineTagIndentFactor,multilineTagIndentPastTag:r.multilineTagIndentPastTag}),o={},a=r&&r.tags,l=r&&r.scriptTypes;if(addTags(t,o),a&&addTags(a,o),l)for(var s=l.length-1;s>=0;s--)o.script.unshift(["type",l[s].matches,l[s].mode]);function html(t,r){var a,l=i.token(t,r.htmlState),s=/\btag\b/.test(l);if(s&&!/[<>\s\/]/.test(t.current())&&(a=r.htmlState.tagName&&r.htmlState.tagName.toLowerCase())&&o.hasOwnProperty(a))r.inTag=a+" ";else if(r.inTag&&s&&/>$/.test(t.current())){var c=/^([\S]+) (.*)/.exec(r.inTag);r.inTag=null;var u=">"==t.current()&&function findMatchingMode(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(!r[0]||r[1].test(getAttrValue(t,r[0])))return r[2]}}(o[c[1]],c[2]),d=e.getMode(n,u),f=getTagRegexp(c[1],!0),h=getTagRegexp(c[1],!1);r.token=function(e,t){return e.match(f,!1)?(t.token=html,t.localState=t.localMode=null,null):function maybeBackup(e,t,n){var r=e.current(),i=r.search(t);return i>-1?e.backUp(r.length-i):r.match(/<\/?$/)&&(e.backUp(r.length),e.match(t,!1)||e.match(r)),n}(e,h,t.localMode.token(e,t.localState))},r.localMode=d,r.localState=e.startState(d,i.indent(r.htmlState,""))}else r.inTag&&(r.inTag+=t.current(),t.eol()&&(r.inTag+=" "));return l}return{startState:function(){return{token:html,inTag:null,localMode:null,localState:null,htmlState:e.startState(i)}},copyState:function(t){var n;return t.localState&&(n=e.copyState(t.localMode,t.localState)),{token:t.token,inTag:t.inTag,localMode:t.localMode,localState:n,htmlState:e.copyState(i,t.htmlState)}},token:function(e,t){return t.token(e,t)},indent:function(t,n){return!t.localMode||/^\s*<\//.test(n)?i.indent(t.htmlState,n):t.localMode.indent?t.localMode.indent(t.localState,n):e.Pass},innerMode:function(e){return{state:e.localState||e.htmlState,mode:e.localMode||i}}}}),"xml","javascript","css"),e.defineMIME("text/html","htmlmixed")}(n(28),n(642),n(650),n(1123))},1261:function(e,t,n){!function(e){"use strict";e.defineSimpleMode("handlebars-tags",{start:[{regex:/\{\{!--/,push:"dash_comment",token:"comment"},{regex:/\{\{!/,push:"comment",token:"comment"},{regex:/\{\{/,push:"handlebars",token:"tag"}],handlebars:[{regex:/\}\}/,pop:!0,token:"tag"},{regex:/"(?:[^\\"]|\\.)*"?/,token:"string"},{regex:/'(?:[^\\']|\\.)*'?/,token:"string"},{regex:/>|[#\/]([A-Za-z_]\w*)/,token:"keyword"},{regex:/(?:else|this)\b/,token:"keyword"},{regex:/\d+/i,token:"number"},{regex:/=|~|@|true|false/,token:"atom"},{regex:/(?:\.\.\/)*(?:[A-Za-z_][\w\.]*)+/,token:"variable-2"}],dash_comment:[{regex:/--\}\}/,pop:!0,token:"comment"},{regex:/./,token:"comment"}],comment:[{regex:/\}\}/,pop:!0,token:"comment"},{regex:/./,token:"comment"}]}),e.defineMode("handlebars",(function(t,n){var r=e.getMode(t,"handlebars-tags");return n&&n.base?e.multiplexingMode(e.getMode(t,n.base),{open:"{{",close:"}}",mode:r,parseDelimiters:!0}):r})),e.defineMIME("text/x-handlebars-template","handlebars")}(n(28),n(643),n(644))},1262:function(e,t,n){!function(e){"use strict";e.defineMode("sparql",(function(e){var t,n=e.indentUnit;function wordRegexp(e){return new RegExp("^(?:"+e.join("|")+")$","i")}var r=wordRegexp(["str","lang","langmatches","datatype","bound","sameterm","isiri","isuri","iri","uri","bnode","count","sum","min","max","avg","sample","group_concat","rand","abs","ceil","floor","round","concat","substr","strlen","replace","ucase","lcase","encode_for_uri","contains","strstarts","strends","strbefore","strafter","year","month","day","hours","minutes","seconds","timezone","tz","now","uuid","struuid","md5","sha1","sha256","sha384","sha512","coalesce","if","strlang","strdt","isnumeric","regex","exists","isblank","isliteral","a","bind"]),i=wordRegexp(["base","prefix","select","distinct","reduced","construct","describe","ask","from","named","where","order","limit","offset","filter","optional","graph","by","asc","desc","as","having","undef","values","group","minus","in","not","service","silent","using","insert","delete","union","true","false","with","data","copy","to","move","add","create","drop","clear","load"]),o=/[*+\-<>=&|\^\/!\?]/;function tokenBase(e,n){var a=e.next();if(t=null,"$"==a||"?"==a)return"?"==a&&e.match(/\s/,!1)?"operator":(e.match(/^[\w\d]*/),"variable-2");if("<"!=a||e.match(/^[\s\u00a0=]/,!1)){if('"'==a||"'"==a)return n.tokenize=function tokenLiteral(e){return function(t,n){for(var r,i=!1;null!=(r=t.next());){if(r==e&&!i){n.tokenize=tokenBase;break}i=!i&&"\\"==r}return"string"}}(a),n.tokenize(e,n);if(/[{}\(\),\.;\[\]]/.test(a))return t=a,"bracket";if("#"==a)return e.skipToEnd(),"comment";if(o.test(a))return e.eatWhile(o),"operator";if(":"==a)return e.eatWhile(/[\w\d\._\-]/),"atom";if("@"==a)return e.eatWhile(/[a-z\d\-]/i),"meta";if(e.eatWhile(/[_\w\d]/),e.eat(":"))return e.eatWhile(/[\w\d_\-]/),"atom";var l=e.current();return r.test(l)?"builtin":i.test(l)?"keyword":"variable"}return e.match(/^[^\s\u00a0>]*>?/),"atom"}function pushContext(e,t,n){e.context={prev:e.context,indent:e.indent,col:n,type:t}}function popContext(e){e.indent=e.context.indent,e.context=e.context.prev}return{startState:function(){return{tokenize:tokenBase,context:null,indent:0,col:0}},token:function(e,n){if(e.sol()&&(n.context&&null==n.context.align&&(n.context.align=!1),n.indent=e.indentation()),e.eatSpace())return null;var r=n.tokenize(e,n);if("comment"!=r&&n.context&&null==n.context.align&&"pattern"!=n.context.type&&(n.context.align=!0),"("==t)pushContext(n,")",e.column());else if("["==t)pushContext(n,"]",e.column());else if("{"==t)pushContext(n,"}",e.column());else if(/[\]\}\)]/.test(t)){for(;n.context&&"pattern"==n.context.type;)popContext(n);n.context&&t==n.context.type&&(popContext(n),"}"==t&&n.context&&"pattern"==n.context.type&&popContext(n))}else"."==t&&n.context&&"pattern"==n.context.type?popContext(n):/atom|string|variable/.test(r)&&n.context&&(/[\}\]]/.test(n.context.type)?pushContext(n,"pattern",e.column()):"pattern"!=n.context.type||n.context.align||(n.context.align=!0,n.context.col=e.column()));return r},indent:function(e,t){var r=t&&t.charAt(0),i=e.context;if(/[\]\}]/.test(r))for(;i&&"pattern"==i.type;)i=i.prev;var o=i&&r==i.type;return i?"pattern"==i.type?i.col:i.align?i.col+(o?0:1):i.indent+(o?0:n):0},lineComment:"#"}})),e.defineMIME("application/sparql-query","sparql")}(n(28))},1272:function(e,t,n){!function(e){"use strict";e.defineOption("foldGutter",!1,(function(t,n,r){r&&r!=e.Init&&(t.clearGutter(t.state.foldGutter.options.gutter),t.state.foldGutter=null,t.off("gutterClick",onGutterClick),t.off("change",onChange),t.off("viewportChange",onViewportChange),t.off("fold",onFold),t.off("unfold",onFold),t.off("swapDoc",onChange)),n&&(t.state.foldGutter=new State(function parseOptions(e){return!0===e&&(e={}),null==e.gutter&&(e.gutter="CodeMirror-foldgutter"),null==e.indicatorOpen&&(e.indicatorOpen="CodeMirror-foldgutter-open"),null==e.indicatorFolded&&(e.indicatorFolded="CodeMirror-foldgutter-folded"),e}(n)),updateInViewport(t),t.on("gutterClick",onGutterClick),t.on("change",onChange),t.on("viewportChange",onViewportChange),t.on("fold",onFold),t.on("unfold",onFold),t.on("swapDoc",onChange))}));var t=e.Pos;function State(e){this.options=e,this.from=this.to=0}function isFolded(e,n){for(var r=e.findMarks(t(n,0),t(n+1,0)),i=0;i<r.length;++i)if(r[i].__isFold&&r[i].find().from.line==n)return r[i]}function marker(e){if("string"==typeof e){var t=document.createElement("div");return t.className=e+" CodeMirror-guttermarker-subtle",t}return e.cloneNode(!0)}function updateFoldInfo(e,n,r){var i=e.state.foldGutter.options,o=n,a=e.foldOption(i,"minFoldSize"),l=e.foldOption(i,"rangeFinder");e.eachLine(n,r,(function(n){var r=null;if(isFolded(e,o))r=marker(i.indicatorFolded);else{var s=t(o,0),c=l&&l(e,s);c&&c.to.line-c.from.line>=a&&(r=marker(i.indicatorOpen))}e.setGutterMarker(n,i.gutter,r),++o}))}function updateInViewport(e){var t=e.getViewport(),n=e.state.foldGutter;n&&(e.operation((function(){updateFoldInfo(e,t.from,t.to)})),n.from=t.from,n.to=t.to)}function onGutterClick(e,n,r){var i=e.state.foldGutter;if(i){var o=i.options;if(r==o.gutter){var a=isFolded(e,n);a?a.clear():e.foldCode(t(n,0),o.rangeFinder)}}}function onChange(e){var t=e.state.foldGutter;if(t){var n=t.options;t.from=t.to=0,clearTimeout(t.changeUpdate),t.changeUpdate=setTimeout((function(){updateInViewport(e)}),n.foldOnChangeTimeSpan||600)}}function onViewportChange(e){var t=e.state.foldGutter;if(t){var n=t.options;clearTimeout(t.changeUpdate),t.changeUpdate=setTimeout((function(){var n=e.getViewport();t.from==t.to||n.from-t.to>20||t.from-n.to>20?updateInViewport(e):e.operation((function(){n.from<t.from&&(updateFoldInfo(e,n.from,t.from),t.from=n.from),n.to>t.to&&(updateFoldInfo(e,t.to,n.to),t.to=n.to)}))}),n.updateViewportTimeSpan||400)}}function onFold(e,t){var n=e.state.foldGutter;if(n){var r=t.line;r>=n.from&&r<n.to&&updateFoldInfo(e,r,r+1)}}}(n(28),n(336))},1375:function(e,t,n){!function(e){"use strict";e.runMode=function(t,n,r,i){var o=e.getMode(e.defaults,n),a=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<9);if(r.appendChild){var l=i&&i.tabSize||e.defaults.tabSize,s=r,c=0;s.innerHTML="",r=function(e,t){if("\n"==e)return s.appendChild(document.createTextNode(a?"\r":e)),void(c=0);for(var n="",r=0;;){var i=e.indexOf("\t",r);if(-1==i){n+=e.slice(r),c+=e.length-r;break}c+=i-r,n+=e.slice(r,i);var o=l-c%l;c+=o;for(var u=0;u<o;++u)n+=" ";r=i+1}if(t){var d=s.appendChild(document.createElement("span"));d.className="cm-"+t.replace(/ +/g," cm-"),d.appendChild(document.createTextNode(n))}else s.appendChild(document.createTextNode(n))}}for(var u=e.splitLines(t),d=i&&i.state||e.startState(o),f=0,h=u.length;f<h;++f){f&&r("\n");var g=new e.StringStream(u[f]);for(!g.string&&o.blankLine&&o.blankLine(d);!g.eol();){var m=o.token(g,d);r(g.current(),m,f,g.start,d),g.start=g.pos}}}}(n(28))},1376:function(e,t,n){!function(e){"use strict";function Context(e,t,n,r,i,o){this.indented=e,this.column=t,this.type=n,this.info=r,this.align=i,this.prev=o}function pushContext(e,t,n,r){var i=e.indented;return e.context&&"statement"!=e.context.type&&"statement"!=n&&(i=e.context.indented),e.context=new Context(i,t,n,r,null,e.context)}function popContext(e){var t=e.context.type;return")"!=t&&"]"!=t&&"}"!=t||(e.indented=e.context.indented),e.context=e.context.prev}function typeBefore(e,t,n){return"variable"==t.prevToken||"variable-3"==t.prevToken||!!/\S(?:[^- ]>|[*\]])\s*$|\*$/.test(e.string.slice(0,n))||!(!t.typeAtEndOfLine||e.column()!=e.indentation())||void 0}function isTopScope(e){for(;;){if(!e||"top"==e.type)return!0;if("}"==e.type&&"namespace"!=e.prev.info)return!1;e=e.prev}}function words(e){for(var t={},n=e.split(" "),r=0;r<n.length;++r)t[n[r]]=!0;return t}function contains(e,t){return"function"==typeof e?e(t):e.propertyIsEnumerable(t)}e.defineMode("clike",(function(t,n){var r,i,o=t.indentUnit,a=n.statementIndentUnit||o,l=n.dontAlignCalls,s=n.keywords||{},c=n.types||{},u=n.builtin||{},d=n.blockKeywords||{},f=n.defKeywords||{},h=n.atoms||{},g=n.hooks||{},m=n.multiLineStrings,v=!1!==n.indentStatements,y=!1!==n.indentSwitch,x=n.namespaceSeparator,b=n.isPunctuationChar||/[\[\]{}\(\),;\:\.]/,w=n.numberStart||/[\d\.]/,k=n.number||/^(?:0x[a-f\d]+|0b[01]+|(?:\d+\.?\d*|\.\d+)(?:e[-+]?\d+)?)(u|ll?|l|f)?/i,C=n.isOperatorChar||/[+\-*&%=<>!?|\/]/,S=n.endStatement||/^[;:,]$/;function tokenBase(e,t){var n=e.next();if(g[n]){var o=g[n](e,t);if(!1!==o)return o}if('"'==n||"'"==n)return t.tokenize=function tokenString(e){return function(t,n){for(var r,i=!1,o=!1;null!=(r=t.next());){if(r==e&&!i){o=!0;break}i=!i&&"\\"==r}return(o||!i&&!m)&&(n.tokenize=null),"string"}}(n),t.tokenize(e,t);if(b.test(n))return r=n,null;if(w.test(n)){if(e.backUp(1),e.match(k))return"number";e.next()}if("/"==n){if(e.eat("*"))return t.tokenize=tokenComment,tokenComment(e,t);if(e.eat("/"))return e.skipToEnd(),"comment"}if(C.test(n)){for(;!e.match(/^\/[\/*]/,!1)&&e.eat(C););return"operator"}if(e.eatWhile(/[\w\$_\xa1-\uffff]/),x)for(;e.match(x);)e.eatWhile(/[\w\$_\xa1-\uffff]/);var a=e.current();return contains(s,a)?(contains(d,a)&&(r="newstatement"),contains(f,a)&&(i=!0),"keyword"):contains(c,a)?"variable-3":contains(u,a)?(contains(d,a)&&(r="newstatement"),"builtin"):contains(h,a)?"atom":"variable"}function tokenComment(e,t){for(var n,r=!1;n=e.next();){if("/"==n&&r){t.tokenize=null;break}r="*"==n}return"comment"}function maybeEOL(e,t){n.typeFirstDefinitions&&e.eol()&&isTopScope(t.context)&&(t.typeAtEndOfLine=typeBefore(e,t,e.pos))}return{startState:function(e){return{tokenize:null,context:new Context((e||0)-o,0,"top",null,!1),indented:0,startOfLine:!0,prevToken:null}},token:function(e,t){var o=t.context;if(e.sol()&&(null==o.align&&(o.align=!1),t.indented=e.indentation(),t.startOfLine=!0),e.eatSpace())return maybeEOL(e,t),null;r=i=null;var a=(t.tokenize||tokenBase)(e,t);if("comment"==a||"meta"==a)return a;if(null==o.align&&(o.align=!0),S.test(r))for(;"statement"==t.context.type;)popContext(t);else if("{"==r)pushContext(t,e.column(),"}");else if("["==r)pushContext(t,e.column(),"]");else if("("==r)pushContext(t,e.column(),")");else if("}"==r){for(;"statement"==o.type;)o=popContext(t);for("}"==o.type&&(o=popContext(t));"statement"==o.type;)o=popContext(t)}else r==o.type?popContext(t):v&&(("}"==o.type||"top"==o.type)&&";"!=r||"statement"==o.type&&"newstatement"==r)&&pushContext(t,e.column(),"statement",e.current());if("variable"==a&&("def"==t.prevToken||n.typeFirstDefinitions&&typeBefore(e,t,e.start)&&isTopScope(t.context)&&e.match(/^\s*\(/,!1))&&(a="def"),g.token){var l=g.token(e,t,a);void 0!==l&&(a=l)}return"def"==a&&!1===n.styleDefs&&(a="variable"),t.startOfLine=!1,t.prevToken=i?"def":a||r,maybeEOL(e,t),a},indent:function(t,r){if(t.tokenize!=tokenBase&&null!=t.tokenize||t.typeAtEndOfLine)return e.Pass;var i=t.context,s=r&&r.charAt(0);if("statement"==i.type&&"}"==s&&(i=i.prev),n.dontIndentStatements)for(;"statement"==i.type&&n.dontIndentStatements.test(i.info);)i=i.prev;if(g.indent){var c=g.indent(t,i,r);if("number"==typeof c)return c}var u=s==i.type,d=i.prev&&"switch"==i.prev.info;if(n.allmanIndentation&&/[{(]/.test(s)){for(;"top"!=i.type&&"}"!=i.type;)i=i.prev;return i.indented}return"statement"==i.type?i.indented+("{"==s?0:a):!i.align||l&&")"==i.type?")"!=i.type||u?i.indented+(u?0:o)+(u||!d||/^(?:case|default)\b/.test(r)?0:o):i.indented+a:i.column+(u?0:1)},electricInput:y?/^\s*(?:case .*?:|default:|\{\}?|\})$/:/^\s*[{}]$/,blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",fold:"brace"}}));var t="auto if break case register continue return default do sizeof static else struct switch extern typedef union for goto while enum const volatile",n="int long char short double float unsigned signed void size_t ptrdiff_t";function cppHook(e,t){if(!t.startOfLine)return!1;for(var n,r=null;n=e.peek();){if("\\"==n&&e.match(/^.$/)){r=cppHook;break}if("/"==n&&e.match(/^\/[\/\*]/,!1))break;e.next()}return t.tokenize=r,"meta"}function pointerHook(e,t){return"variable-3"==t.prevToken&&"variable-3"}function cpp14Literal(e){return e.eatWhile(/[\w\.']/),"number"}function cpp11StringHook(e,t){if(e.backUp(1),e.match(/(R|u8R|uR|UR|LR)/)){var n=e.match(/"([^\s\\()]{0,16})\(/);return!!n&&(t.cpp11RawStringDelim=n[1],t.tokenize=tokenRawString,tokenRawString(e,t))}return e.match(/(u8|u|U|L)/)?!!e.match(/["']/,!1)&&"string":(e.next(),!1)}function tokenAtString(e,t){for(var n;null!=(n=e.next());)if('"'==n&&!e.eat('"')){t.tokenize=null;break}return"string"}function tokenRawString(e,t){var n=t.cpp11RawStringDelim.replace(/[^\w\s]/g,"\\$&");return e.match(new RegExp(".*?\\)"+n+'"'))?t.tokenize=null:e.skipToEnd(),"string"}function def(t,n){"string"==typeof t&&(t=[t]);var r=[];function add(e){if(e)for(var t in e)e.hasOwnProperty(t)&&r.push(t)}add(n.keywords),add(n.types),add(n.builtin),add(n.atoms),r.length&&(n.helperType=t[0],e.registerHelper("hintWords",t[0],r));for(var i=0;i<t.length;++i)e.defineMIME(t[i],n)}function tokenTripleString(e,t){for(var n=!1;!e.eol();){if(!n&&e.match('"""')){t.tokenize=null;break}n="\\"==e.next()&&!n}return"string"}def(["text/x-csrc","text/x-c","text/x-chdr"],{name:"clike",keywords:words(t),types:words(n+" bool _Complex _Bool float_t double_t intptr_t intmax_t int8_t int16_t int32_t int64_t uintptr_t uintmax_t uint8_t uint16_t uint32_t uint64_t"),blockKeywords:words("case do else for if switch while struct"),defKeywords:words("struct"),typeFirstDefinitions:!0,atoms:words("null true false"),hooks:{"#":cppHook,"*":pointerHook},modeProps:{fold:["brace","include"]}}),def(["text/x-c++src","text/x-c++hdr"],{name:"clike",keywords:words(t+" asm dynamic_cast namespace reinterpret_cast try explicit new static_cast typeid catch operator template typename class friend private this using const_cast inline public throw virtual delete mutable protected alignas alignof constexpr decltype nullptr noexcept thread_local final static_assert override"),types:words(n+" bool wchar_t"),blockKeywords:words("catch class do else finally for if struct switch try while"),defKeywords:words("class namespace struct enum union"),typeFirstDefinitions:!0,atoms:words("true false null"),dontIndentStatements:/^template$/,hooks:{"#":cppHook,"*":pointerHook,u:cpp11StringHook,U:cpp11StringHook,L:cpp11StringHook,R:cpp11StringHook,0:cpp14Literal,1:cpp14Literal,2:cpp14Literal,3:cpp14Literal,4:cpp14Literal,5:cpp14Literal,6:cpp14Literal,7:cpp14Literal,8:cpp14Literal,9:cpp14Literal,token:function(e,t,n){if("variable"==n&&"("==e.peek()&&(";"==t.prevToken||null==t.prevToken||"}"==t.prevToken)&&function cppLooksLikeConstructor(e){var t=/(\w+)::(\w+)$/.exec(e);return t&&t[1]==t[2]}(e.current()))return"def"}},namespaceSeparator:"::",modeProps:{fold:["brace","include"]}}),def("text/x-java",{name:"clike",keywords:words("abstract assert break case catch class const continue default do else enum extends final finally float for goto if implements import instanceof interface native new package private protected public return static strictfp super switch synchronized this throw throws transient try volatile while"),types:words("byte short int long float double boolean char void Boolean Byte Character Double Float Integer Long Number Object Short String StringBuffer StringBuilder Void"),blockKeywords:words("catch class do else finally for if switch try while"),defKeywords:words("class interface package enum"),typeFirstDefinitions:!0,atoms:words("true false null"),endStatement:/^[;:]$/,number:/^(?:0x[a-f\d_]+|0b[01_]+|(?:[\d_]+\.?\d*|\.\d+)(?:e[-+]?[\d_]+)?)(u|ll?|l|f)?/i,hooks:{"@":function(e){return e.eatWhile(/[\w\$_]/),"meta"}},modeProps:{fold:["brace","import"]}}),def("text/x-csharp",{name:"clike",keywords:words("abstract as async await base break case catch checked class const continue default delegate do else enum event explicit extern finally fixed for foreach goto if implicit in interface internal is lock namespace new operator out override params private protected public readonly ref return sealed sizeof stackalloc static struct switch this throw try typeof unchecked unsafe using virtual void volatile while add alias ascending descending dynamic from get global group into join let orderby partial remove select set value var yield"),types:words("Action Boolean Byte Char DateTime DateTimeOffset Decimal Double Func Guid Int16 Int32 Int64 Object SByte Single String Task TimeSpan UInt16 UInt32 UInt64 bool byte char decimal double short int long object sbyte float string ushort uint ulong"),blockKeywords:words("catch class do else finally for foreach if struct switch try while"),defKeywords:words("class interface namespace struct var"),typeFirstDefinitions:!0,atoms:words("true false null"),hooks:{"@":function(e,t){return e.eat('"')?(t.tokenize=tokenAtString,tokenAtString(e,t)):(e.eatWhile(/[\w\$_]/),"meta")}}}),def("text/x-scala",{name:"clike",keywords:words("abstract case catch class def do else extends final finally for forSome if implicit import lazy match new null object override package private protected return sealed super this throw trait try type val var while with yield _ : = => <- <: <% >: # @ assert assume require print println printf readLine readBoolean readByte readShort readChar readInt readLong readFloat readDouble :: #:: "),types:words("AnyVal App Application Array BufferedIterator BigDecimal BigInt Char Console Either Enumeration Equiv Error Exception Fractional Function IndexedSeq Int Integral Iterable Iterator List Map Numeric Nil NotNull Option Ordered Ordering PartialFunction PartialOrdering Product Proxy Range Responder Seq Serializable Set Specializable Stream StringBuilder StringContext Symbol Throwable Traversable TraversableOnce Tuple Unit Vector Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"),multiLineStrings:!0,blockKeywords:words("catch class do else finally for forSome if match switch try while"),defKeywords:words("class def object package trait type val var"),atoms:words("true false null"),indentStatements:!1,indentSwitch:!1,hooks:{"@":function(e){return e.eatWhile(/[\w\$_]/),"meta"},'"':function(e,t){return!!e.match('""')&&(t.tokenize=tokenTripleString,t.tokenize(e,t))},"'":function(e){return e.eatWhile(/[\w\$_\xa1-\uffff]/),"atom"},"=":function(e,t){var n=t.context;return!("}"!=n.type||!n.align||!e.eat(">"))&&(t.context=new Context(n.indented,n.column,n.type,n.info,null,n.prev),"operator")}},modeProps:{closeBrackets:{triples:'"'}}}),def("text/x-kotlin",{name:"clike",keywords:words("package as typealias class interface this super val var fun for is in This throw return break continue object if else while do try when !in !is as? file import where by get set abstract enum open inner override private public internal protected catch finally out final vararg reified dynamic companion constructor init sealed field property receiver param sparam lateinit data inline noinline tailrec external annotation crossinline const operator infix"),types:words("Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"),intendSwitch:!1,indentStatements:!1,multiLineStrings:!0,blockKeywords:words("catch class do else finally for if where try while enum"),defKeywords:words("class val var object package interface fun"),atoms:words("true false null this"),hooks:{'"':function(e,t){return t.tokenize=function tokenKotlinString(e){return function(t,n){for(var r,i=!1,o=!1;!t.eol();){if(!e&&!i&&t.match('"')){o=!0;break}if(e&&t.match('"""')){o=!0;break}r=t.next(),!i&&"$"==r&&t.match("{")&&t.skipTo("}"),i=!i&&"\\"==r&&!e}return!o&&e||(n.tokenize=null),"string"}}(e.match('""')),t.tokenize(e,t)}},modeProps:{closeBrackets:{triples:'"'}}}),def(["x-shader/x-vertex","x-shader/x-fragment"],{name:"clike",keywords:words("sampler1D sampler2D sampler3D samplerCube sampler1DShadow sampler2DShadow const attribute uniform varying break continue discard return for while do if else struct in out inout"),types:words("float int bool void vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 mat2 mat3 mat4"),blockKeywords:words("for while do if else struct"),builtin:words("radians degrees sin cos tan asin acos atan pow exp log exp2 sqrt inversesqrt abs sign floor ceil fract mod min max clamp mix step smoothstep length distance dot cross normalize ftransform faceforward reflect refract matrixCompMult lessThan lessThanEqual greaterThan greaterThanEqual equal notEqual any all not texture1D texture1DProj texture1DLod texture1DProjLod texture2D texture2DProj texture2DLod texture2DProjLod texture3D texture3DProj texture3DLod texture3DProjLod textureCube textureCubeLod shadow1D shadow2D shadow1DProj shadow2DProj shadow1DLod shadow2DLod shadow1DProjLod shadow2DProjLod dFdx dFdy fwidth noise1 noise2 noise3 noise4"),atoms:words("true false gl_FragColor gl_SecondaryColor gl_Normal gl_Vertex gl_MultiTexCoord0 gl_MultiTexCoord1 gl_MultiTexCoord2 gl_MultiTexCoord3 gl_MultiTexCoord4 gl_MultiTexCoord5 gl_MultiTexCoord6 gl_MultiTexCoord7 gl_FogCoord gl_PointCoord gl_Position gl_PointSize gl_ClipVertex gl_FrontColor gl_BackColor gl_FrontSecondaryColor gl_BackSecondaryColor gl_TexCoord gl_FogFragCoord gl_FragCoord gl_FrontFacing gl_FragData gl_FragDepth gl_ModelViewMatrix gl_ProjectionMatrix gl_ModelViewProjectionMatrix gl_TextureMatrix gl_NormalMatrix gl_ModelViewMatrixInverse gl_ProjectionMatrixInverse gl_ModelViewProjectionMatrixInverse gl_TexureMatrixTranspose gl_ModelViewMatrixInverseTranspose gl_ProjectionMatrixInverseTranspose gl_ModelViewProjectionMatrixInverseTranspose gl_TextureMatrixInverseTranspose gl_NormalScale gl_DepthRange gl_ClipPlane gl_Point gl_FrontMaterial gl_BackMaterial gl_LightSource gl_LightModel gl_FrontLightModelProduct gl_BackLightModelProduct gl_TextureColor gl_EyePlaneS gl_EyePlaneT gl_EyePlaneR gl_EyePlaneQ gl_FogParameters gl_MaxLights gl_MaxClipPlanes gl_MaxTextureUnits gl_MaxTextureCoords gl_MaxVertexAttribs gl_MaxVertexUniformComponents gl_MaxVaryingFloats gl_MaxVertexTextureImageUnits gl_MaxTextureImageUnits gl_MaxFragmentUniformComponents gl_MaxCombineTextureImageUnits gl_MaxDrawBuffers"),indentSwitch:!1,hooks:{"#":cppHook},modeProps:{fold:["brace","include"]}}),def("text/x-nesc",{name:"clike",keywords:words(t+"as atomic async call command component components configuration event generic implementation includes interface module new norace nx_struct nx_union post provides signal task uses abstract extends"),types:words(n),blockKeywords:words("case do else for if switch while struct"),atoms:words("null true false"),hooks:{"#":cppHook},modeProps:{fold:["brace","include"]}}),def("text/x-objectivec",{name:"clike",keywords:words(t+"inline restrict _Bool _Complex _Imaginary BOOL Class bycopy byref id IMP in inout nil oneway out Protocol SEL self super atomic nonatomic retain copy readwrite readonly"),types:words(n),atoms:words("YES NO NULL NILL ON OFF true false"),hooks:{"@":function(e){return e.eatWhile(/[\w\$]/),"keyword"},"#":cppHook,indent:function(e,t,n){if("statement"==t.type&&/^@\w/.test(n))return t.indented}},modeProps:{fold:"brace"}}),def("text/x-squirrel",{name:"clike",keywords:words("base break clone continue const default delete enum extends function in class foreach local resume return this throw typeof yield constructor instanceof static"),types:words(n),blockKeywords:words("case catch class else for foreach if switch try while"),defKeywords:words("function local class"),typeFirstDefinitions:!0,atoms:words("true false null"),hooks:{"#":cppHook},modeProps:{fold:["brace","include"]}});var r=null;def("text/x-ceylon",{name:"clike",keywords:words("abstracts alias assembly assert assign break case catch class continue dynamic else exists extends finally for function given if import in interface is let module new nonempty object of out outer package return satisfies super switch then this throw try value void while"),types:function(e){var t=e.charAt(0);return t===t.toUpperCase()&&t!==t.toLowerCase()},blockKeywords:words("case catch class dynamic else finally for function if interface module new object switch try while"),defKeywords:words("class dynamic function interface module object package value"),builtin:words("abstract actual aliased annotation by default deprecated doc final formal late license native optional sealed see serializable shared suppressWarnings tagged throws variable"),isPunctuationChar:/[\[\]{}\(\),;\:\.`]/,isOperatorChar:/[+\-*&%=<>!?|^~:\/]/,numberStart:/[\d#$]/,number:/^(?:#[\da-fA-F_]+|\$[01_]+|[\d_]+[kMGTPmunpf]?|[\d_]+\.[\d_]+(?:[eE][-+]?\d+|[kMGTPmunpf]|)|)/i,multiLineStrings:!0,typeFirstDefinitions:!0,atoms:words("true false null larger smaller equal empty finished"),indentSwitch:!1,styleDefs:!1,hooks:{"@":function(e){return e.eatWhile(/[\w\$_]/),"meta"},'"':function(e,t){return t.tokenize=function tokenCeylonString(e){return function(t,n){for(var i,o=!1,a=!1;!t.eol();){if(!o&&t.match('"')&&("single"==e||t.match('""'))){a=!0;break}if(!o&&t.match("``")){r=tokenCeylonString(e),a=!0;break}i=t.next(),o="single"==e&&!o&&"\\"==i}return a&&(n.tokenize=null),"string"}}(e.match('""')?"triple":"single"),t.tokenize(e,t)},"`":function(e,t){return!(!r||!e.match("`"))&&(t.tokenize=r,r=null,t.tokenize(e,t))},"'":function(e){return e.eatWhile(/[\w\$_\xa1-\uffff]/),"atom"},token:function(e,t,n){if(("variable"==n||"variable-3"==n)&&"."==t.prevToken)return"variable-2"}},modeProps:{fold:["brace","import"],closeBrackets:{triples:'"'}}})}(n(28))},1377:function(e,t,n){!function(e){"use strict";e.defineMode("shell",(function(){var e={};function define(t,n){for(var r=n.split(" "),i=0;i<r.length;i++)e[r[i]]=t}function tokenBase(t,n){if(t.eatSpace())return null;var r=t.sol(),i=t.next();if("\\"===i)return t.next(),null;if("'"===i||'"'===i||"`"===i)return n.tokens.unshift(tokenString(i)),tokenize(t,n);if("#"===i)return r&&t.eat("!")?(t.skipToEnd(),"meta"):(t.skipToEnd(),"comment");if("$"===i)return n.tokens.unshift(tokenDollar),tokenize(t,n);if("+"===i||"="===i)return"operator";if("-"===i)return t.eat("-"),t.eatWhile(/\w/),"attribute";if(/\d/.test(i)&&(t.eatWhile(/\d/),t.eol()||!/\w/.test(t.peek())))return"number";t.eatWhile(/[\w-]/);var o=t.current();return"="===t.peek()&&/\w+/.test(o)?"def":e.hasOwnProperty(o)?e[o]:null}function tokenString(e){return function(t,n){for(var r,i=!1,o=!1;null!=(r=t.next());){if(r===e&&!o){i=!0;break}if("$"===r&&!o&&"'"!==e){o=!0,t.backUp(1),n.tokens.unshift(tokenDollar);break}o=!o&&"\\"===r}return!i&&o||n.tokens.shift(),"`"===e||")"===e?"quote":"string"}}define("atom","true false"),define("keyword","if then do else elif while until for in esac fi fin fil done exit set unset export function"),define("builtin","ab awk bash beep cat cc cd chown chmod chroot clear cp curl cut diff echo find gawk gcc get git grep kill killall ln ls make mkdir openssl mv nc node npm ping ps restart rm rmdir sed service sh shopt shred source sort sleep ssh start stop su sudo tee telnet top touch vi vim wall wc wget who write yes zsh");var tokenDollar=function(e,t){t.tokens.length>1&&e.eat("$");var n=e.next(),r=/\w/;return"{"===n&&(r=/[^}]/),"("===n?(t.tokens[0]=tokenString(")"),tokenize(e,t)):(/\d/.test(n)||(e.eatWhile(r),e.eat("}")),t.tokens.shift(),"def")};function tokenize(e,t){return(t.tokens[0]||tokenBase)(e,t)}return{startState:function(){return{tokens:[]}},token:function(e,t){return tokenize(e,t)},lineComment:"#",fold:"brace"}})),e.defineMIME("text/x-sh","shell")}(n(28))},28:function(e,t,n){(function(t){e.exports=t.CodeMirror=n(1085)}).call(this,n(38))},336:function(e,t,n){!function(e){"use strict";function doFold(t,n,r,i){if(r&&r.call){var o=r;r=null}else o=getOption(t,r,"rangeFinder");"number"==typeof n&&(n=e.Pos(n,0));var a=getOption(t,r,"minFoldSize");function getRange(e){var r=o(t,n);if(!r||r.to.line-r.from.line<a)return null;for(var l=t.findMarksAt(r.from),s=0;s<l.length;++s)if(l[s].__isFold&&"fold"!==i){if(!e)return null;r.cleared=!0,l[s].clear()}return r}var l=getRange(!0);if(getOption(t,r,"scanUp"))for(;!l&&n.line>t.firstLine();)n=e.Pos(n.line-1,0),l=getRange(!1);if(l&&!l.cleared&&"unfold"!==i){var s=function makeWidget(e,t){var n=getOption(e,t,"widget");if("string"==typeof n){var r=document.createTextNode(n);(n=document.createElement("span")).appendChild(r),n.className="CodeMirror-foldmarker"}return n}(t,r);e.on(s,"mousedown",(function(t){c.clear(),e.e_preventDefault(t)}));var c=t.markText(l.from,l.to,{replacedWith:s,clearOnEnter:getOption(t,r,"clearOnEnter"),__isFold:!0});c.on("clear",(function(n,r){e.signal(t,"unfold",t,n,r)})),e.signal(t,"fold",t,l.from,l.to)}}e.newFoldFunction=function(e,t){return function(n,r){doFold(n,r,{rangeFinder:e,widget:t})}},e.defineExtension("foldCode",(function(e,t,n){doFold(this,e,t,n)})),e.defineExtension("isFolded",(function(e){for(var t=this.findMarksAt(e),n=0;n<t.length;++n)if(t[n].__isFold)return!0})),e.commands.toggleFold=function(e){e.foldCode(e.getCursor())},e.commands.fold=function(e){e.foldCode(e.getCursor(),null,"fold")},e.commands.unfold=function(e){e.foldCode(e.getCursor(),null,"unfold")},e.commands.foldAll=function(t){t.operation((function(){for(var n=t.firstLine(),r=t.lastLine();n<=r;n++)t.foldCode(e.Pos(n,0),null,"fold")}))},e.commands.unfoldAll=function(t){t.operation((function(){for(var n=t.firstLine(),r=t.lastLine();n<=r;n++)t.foldCode(e.Pos(n,0),null,"unfold")}))},e.registerHelper("fold","combine",(function(){var e=Array.prototype.slice.call(arguments,0);return function(t,n){for(var r=0;r<e.length;++r){var i=e[r](t,n);if(i)return i}}})),e.registerHelper("fold","auto",(function(e,t){for(var n=e.getHelpers(t,"fold"),r=0;r<n.length;r++){var i=n[r](e,t);if(i)return i}}));var t={rangeFinder:e.fold.auto,widget:"↔",minFoldSize:0,scanUp:!1,clearOnEnter:!0};function getOption(e,n,r){if(n&&void 0!==n[r])return n[r];var i=e.options.foldOptions;return i&&void 0!==i[r]?i[r]:t[r]}e.defineOption("foldOptions",null),e.defineExtension("foldOption",(function(e,t){return getOption(this,e,t)}))}(n(28))},642:function(e,t,n){!function(e){"use strict";var t={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},n={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,caseFold:!1};e.defineMode("xml",(function(r,i){var o,a,l=r.indentUnit,s={},c=i.htmlMode?t:n;for(var u in c)s[u]=c[u];for(var u in i)s[u]=i[u];function inText(e,t){function chain(n){return t.tokenize=n,n(e,t)}var n=e.next();return"<"==n?e.eat("!")?e.eat("[")?e.match("CDATA[")?chain(inBlock("atom","]]>")):null:e.match("--")?chain(inBlock("comment","--\x3e")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),chain(function doctype(e){return function(t,n){for(var r;null!=(r=t.next());){if("<"==r)return n.tokenize=doctype(e+1),n.tokenize(t,n);if(">"==r){if(1==e){n.tokenize=inText;break}return n.tokenize=doctype(e-1),n.tokenize(t,n)}}return"meta"}}(1))):null:e.eat("?")?(e.eatWhile(/[\w\._\-]/),t.tokenize=inBlock("meta","?>"),"meta"):(o=e.eat("/")?"closeTag":"openTag",t.tokenize=inTag,"tag bracket"):"&"==n?(e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"))?"atom":"error":(e.eatWhile(/[^&<]/),null)}function inTag(e,t){var n=e.next();if(">"==n||"/"==n&&e.eat(">"))return t.tokenize=inText,o=">"==n?"endTag":"selfcloseTag","tag bracket";if("="==n)return o="equals",null;if("<"==n){t.tokenize=inText,t.state=baseState,t.tagName=t.tagStart=null;var r=t.tokenize(e,t);return r?r+" tag error":"tag error"}return/[\'\"]/.test(n)?(t.tokenize=function inAttribute(e){var closure=function(t,n){for(;!t.eol();)if(t.next()==e){n.tokenize=inTag;break}return"string"};return closure.isInAttribute=!0,closure}(n),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function inBlock(e,t){return function(n,r){for(;!n.eol();){if(n.match(t)){r.tokenize=inText;break}n.next()}return e}}function Context(e,t,n){this.prev=e.context,this.tagName=t,this.indent=e.indented,this.startOfLine=n,(s.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}function popContext(e){e.context&&(e.context=e.context.prev)}function maybePopContext(e,t){for(var n;;){if(!e.context)return;if(n=e.context.tagName,!s.contextGrabbers.hasOwnProperty(n)||!s.contextGrabbers[n].hasOwnProperty(t))return;popContext(e)}}function baseState(e,t,n){return"openTag"==e?(n.tagStart=t.column(),tagNameState):"closeTag"==e?closeTagNameState:baseState}function tagNameState(e,t,n){return"word"==e?(n.tagName=t.current(),a="tag",attrState):(a="error",tagNameState)}function closeTagNameState(e,t,n){if("word"==e){var r=t.current();return n.context&&n.context.tagName!=r&&s.implicitlyClosed.hasOwnProperty(n.context.tagName)&&popContext(n),n.context&&n.context.tagName==r||!1===s.matchClosing?(a="tag",closeState):(a="tag error",closeStateErr)}return a="error",closeStateErr}function closeState(e,t,n){return"endTag"!=e?(a="error",closeState):(popContext(n),baseState)}function closeStateErr(e,t,n){return a="error",closeState(e,0,n)}function attrState(e,t,n){if("word"==e)return a="attribute",attrEqState;if("endTag"==e||"selfcloseTag"==e){var r=n.tagName,i=n.tagStart;return n.tagName=n.tagStart=null,"selfcloseTag"==e||s.autoSelfClosers.hasOwnProperty(r)?maybePopContext(n,r):(maybePopContext(n,r),n.context=new Context(n,r,i==n.indented)),baseState}return a="error",attrState}function attrEqState(e,t,n){return"equals"==e?attrValueState:(s.allowMissing||(a="error"),attrState(e,0,n))}function attrValueState(e,t,n){return"string"==e?attrContinuedState:"word"==e&&s.allowUnquoted?(a="string",attrState):(a="error",attrState(e,0,n))}function attrContinuedState(e,t,n){return"string"==e?attrContinuedState:attrState(e,0,n)}return inText.isInText=!0,{startState:function(e){var t={tokenize:inText,state:baseState,indented:e||0,tagName:null,tagStart:null,context:null};return null!=e&&(t.baseIndent=e),t},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;o=null;var n=t.tokenize(e,t);return(n||o)&&"comment"!=n&&(a=null,t.state=t.state(o||n,e,t),a&&(n="error"==a?n+" error":a)),n},indent:function(t,n,r){var i=t.context;if(t.tokenize.isInAttribute)return t.tagStart==t.indented?t.stringStartCol+1:t.indented+l;if(i&&i.noIndent)return e.Pass;if(t.tokenize!=inTag&&t.tokenize!=inText)return r?r.match(/^(\s*)/)[0].length:0;if(t.tagName)return!1!==s.multilineTagIndentPastTag?t.tagStart+t.tagName.length+2:t.tagStart+l*(s.multilineTagIndentFactor||1);if(s.alignCDATA&&/<!\[CDATA\[/.test(n))return 0;var o=n&&/^<(\/)?([\w_:\.-]*)/.exec(n);if(o&&o[1])for(;i;){if(i.tagName==o[2]){i=i.prev;break}if(!s.implicitlyClosed.hasOwnProperty(i.tagName))break;i=i.prev}else if(o)for(;i;){var a=s.contextGrabbers[i.tagName];if(!a||!a.hasOwnProperty(o[2]))break;i=i.prev}for(;i&&i.prev&&!i.startOfLine;)i=i.prev;return i?i.indent+l:t.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:s.htmlMode?"html":"xml",helperType:s.htmlMode?"html":"xml",skipAttribute:function(e){e.state==attrValueState&&(e.state=attrState)}}})),e.defineMIME("text/xml","xml"),e.defineMIME("application/xml","xml"),e.mimeModes.hasOwnProperty("text/html")||e.defineMIME("text/html",{name:"xml",htmlMode:!0})}(n(28))},643:function(e,t,n){!function(e){"use strict";function ensureState(e,t){if(!e.hasOwnProperty(t))throw new Error("Undefined state "+t+" in simple mode")}function toRegex(e,t){if(!e)return/(?:)/;var n="";return e instanceof RegExp?(e.ignoreCase&&(n="i"),e=e.source):e=String(e),new RegExp((!1===t?"":"^")+"(?:"+e+")",n)}function Rule(e,t){(e.next||e.push)&&ensureState(t,e.next||e.push),this.regex=toRegex(e.regex),this.token=function asToken(e){if(!e)return null;if("string"==typeof e)return e.replace(/\./g," ");for(var t=[],n=0;n<e.length;n++)t.push(e[n]&&e[n].replace(/\./g," "));return t}(e.token),this.data=e}function tokenFunction(e,t){return function(n,r){if(r.pending){var i=r.pending.shift();return 0==r.pending.length&&(r.pending=null),n.pos+=i.text.length,i.token}if(r.local){if(r.local.end&&n.match(r.local.end)){var o=r.local.endToken||null;return r.local=r.localState=null,o}var a;return o=r.local.mode.token(n,r.localState),r.local.endScan&&(a=r.local.endScan.exec(n.current()))&&(n.pos=n.start+a.index),o}for(var l=e[r.state],s=0;s<l.length;s++){var c=l[s],u=(!c.data.sol||n.sol())&&n.match(c.regex);if(u){if(c.data.next?r.state=c.data.next:c.data.push?((r.stack||(r.stack=[])).push(r.state),r.state=c.data.push):c.data.pop&&r.stack&&r.stack.length&&(r.state=r.stack.pop()),c.data.mode&&enterLocalMode(t,r,c.data.mode,c.token),c.data.indent&&r.indent.push(n.indentation()+t.indentUnit),c.data.dedent&&r.indent.pop(),u.length>2){r.pending=[];for(var d=2;d<u.length;d++)u[d]&&r.pending.push({text:u[d],token:c.token[d-1]});return n.backUp(u[0].length-(u[1]?u[1].length:0)),c.token[0]}return c.token&&c.token.join?c.token[0]:c.token}}return n.next(),null}}function cmp(e,t){if(e===t)return!0;if(!e||"object"!=typeof e||!t||"object"!=typeof t)return!1;var n=0;for(var r in e)if(e.hasOwnProperty(r)){if(!t.hasOwnProperty(r)||!cmp(e[r],t[r]))return!1;n++}for(var r in t)t.hasOwnProperty(r)&&n--;return 0==n}function enterLocalMode(t,n,r,i){var o;if(r.persistent)for(var a=n.persistentStates;a&&!o;a=a.next)(r.spec?cmp(r.spec,a.spec):r.mode==a.mode)&&(o=a);var l=o?o.mode:r.mode||e.getMode(t,r.spec),s=o?o.state:e.startState(l);r.persistent&&!o&&(n.persistentStates={mode:l,spec:r.spec,state:s,next:n.persistentStates}),n.localState=s,n.local={mode:l,end:r.end&&toRegex(r.end),endScan:r.end&&!1!==r.forceEnd&&toRegex(r.end,!1),endToken:i&&i.join?i[i.length-1]:i}}function indentFunction(t,n){return function(r,i,o){if(r.local&&r.local.mode.indent)return r.local.mode.indent(r.localState,i,o);if(null==r.indent||r.local||n.dontIndentStates&&function indexOf(e,t){for(var n=0;n<t.length;n++)if(t[n]===e)return!0}(r.state,n.dontIndentStates)>-1)return e.Pass;var a=r.indent.length-1,l=t[r.state];e:for(;;){for(var s=0;s<l.length;s++){var c=l[s];if(c.data.dedent&&!1!==c.data.dedentIfLineStart){var u=c.regex.exec(i);if(u&&u[0]){a--,(c.next||c.push)&&(l=t[c.next||c.push]),i=i.slice(u[0].length);continue e}}}break}return a<0?0:r.indent[a]}}e.defineSimpleMode=function(t,n){e.defineMode(t,(function(t){return e.simpleMode(t,n)}))},e.simpleMode=function(t,n){ensureState(n,"start");var r={},i=n.meta||{},o=!1;for(var a in n)if(a!=i&&n.hasOwnProperty(a))for(var l=r[a]=[],s=n[a],c=0;c<s.length;c++){var u=s[c];l.push(new Rule(u,n)),(u.indent||u.dedent)&&(o=!0)}var d={startState:function(){return{state:"start",pending:null,local:null,localState:null,indent:o?[]:null}},copyState:function(t){var n={state:t.state,pending:t.pending,local:t.local,localState:null,indent:t.indent&&t.indent.slice(0)};t.localState&&(n.localState=e.copyState(t.local.mode,t.localState)),t.stack&&(n.stack=t.stack.slice(0));for(var r=t.persistentStates;r;r=r.next)n.persistentStates={mode:r.mode,spec:r.spec,state:r.state==t.localState?n.localState:e.copyState(r.mode,r.state),next:n.persistentStates};return n},token:tokenFunction(r,t),innerMode:function(e){return e.local&&{mode:e.local.mode,state:e.localState}},indent:indentFunction(r,i)};if(i)for(var f in i)i.hasOwnProperty(f)&&(d[f]=i[f]);return d}}(n(28))},644:function(e,t,n){!function(e){"use strict";e.multiplexingMode=function(t){var n=Array.prototype.slice.call(arguments,1);function indexOf(e,t,n,r){if("string"==typeof t){var i=e.indexOf(t,n);return r&&i>-1?i+t.length:i}var o=t.exec(n?e.slice(n):e);return o?o.index+n+(r?o[0].length:0):-1}return{startState:function(){return{outer:e.startState(t),innerActive:null,inner:null}},copyState:function(n){return{outer:e.copyState(t,n.outer),innerActive:n.innerActive,inner:n.innerActive&&e.copyState(n.innerActive.mode,n.inner)}},token:function(r,i){if(i.innerActive){var o=i.innerActive;if(s=r.string,!o.close&&r.sol())return i.innerActive=i.inner=null,this.token(r,i);if((u=o.close?indexOf(s,o.close,r.pos,o.parseDelimiters):-1)==r.pos&&!o.parseDelimiters)return r.match(o.close),i.innerActive=i.inner=null,o.delimStyle&&o.delimStyle+" "+o.delimStyle+"-close";u>-1&&(r.string=s.slice(0,u));var a=o.mode.token(r,i.inner);return u>-1&&(r.string=s),u==r.pos&&o.parseDelimiters&&(i.innerActive=i.inner=null),o.innerStyle&&(a=a?a+" "+o.innerStyle:o.innerStyle),a}for(var l=1/0,s=r.string,c=0;c<n.length;++c){var u,d=n[c];if((u=indexOf(s,d.open,r.pos))==r.pos)return d.parseDelimiters||r.match(d.open),i.innerActive=d,i.inner=e.startState(d.mode,t.indent?t.indent(i.outer,""):0),d.delimStyle&&d.delimStyle+" "+d.delimStyle+"-open";-1!=u&&u<l&&(l=u)}l!=1/0&&(r.string=s.slice(0,l));var f=t.token(r,i.outer);return l!=1/0&&(r.string=s),f},indent:function(n,r){var i=n.innerActive?n.innerActive.mode:t;return i.indent?i.indent(n.innerActive?n.inner:n.outer,r):e.Pass},blankLine:function(r){var i=r.innerActive?r.innerActive.mode:t;if(i.blankLine&&i.blankLine(r.innerActive?r.inner:r.outer),r.innerActive)"\n"===r.innerActive.close&&(r.innerActive=r.inner=null);else for(var o=0;o<n.length;++o){var a=n[o];"\n"===a.open&&(r.innerActive=a,r.inner=e.startState(a.mode,i.indent?i.indent(r.outer,""):0))}},electricChars:t.electricChars,innerMode:function(e){return e.inner?{state:e.inner,mode:e.innerActive.mode}:{state:e.outer,mode:t}}}}}(n(28))},646:function(e,t,n){!function(e){"use strict";e.registerHelper("fold","brace",(function(t,n){var r,i=n.line,o=t.getLine(i);function findOpening(a){for(var l=n.ch,s=0;;){var c=l<=0?-1:o.lastIndexOf(a,l-1);if(-1!=c){if(1==s&&c<n.ch)break;if(r=t.getTokenTypeAt(e.Pos(i,c+1)),!/^(comment|string)/.test(r))return c+1;l=c-1}else{if(1==s)break;s=1,l=o.length}}}var a="{",l="}",s=findOpening("{");if(null==s&&(a="[",l="]",s=findOpening("[")),null!=s){var c,u,d=1,f=t.lastLine();e:for(var h=i;h<=f;++h)for(var g=t.getLine(h),m=h==i?s:0;;){var v=g.indexOf(a,m),y=g.indexOf(l,m);if(v<0&&(v=g.length),y<0&&(y=g.length),(m=Math.min(v,y))==g.length)break;if(t.getTokenTypeAt(e.Pos(h,m+1))==r)if(m==v)++d;else if(!--d){c=h,u=m;break e}++m}if(null!=c&&(i!=c||u!=s))return{from:e.Pos(i,s),to:e.Pos(c,u)}}})),e.registerHelper("fold","import",(function(t,n){function hasImport(n){if(n<t.firstLine()||n>t.lastLine())return null;var r=t.getTokenAt(e.Pos(n,1));if(/\S/.test(r.string)||(r=t.getTokenAt(e.Pos(n,r.end+1))),"keyword"!=r.type||"import"!=r.string)return null;for(var i=n,o=Math.min(t.lastLine(),n+10);i<=o;++i){var a=t.getLine(i).indexOf(";");if(-1!=a)return{startCh:r.end,end:e.Pos(i,a)}}}var r,i=n.line,o=hasImport(i);if(!o||hasImport(i-1)||(r=hasImport(i-2))&&r.end.line==i-1)return null;for(var a=o.end;;){var l=hasImport(a.line+1);if(null==l)break;a=l.end}return{from:t.clipPos(e.Pos(i,o.startCh+1)),to:a}})),e.registerHelper("fold","include",(function(t,n){function hasInclude(n){if(n<t.firstLine()||n>t.lastLine())return null;var r=t.getTokenAt(e.Pos(n,1));return/\S/.test(r.string)||(r=t.getTokenAt(e.Pos(n,r.end+1))),"meta"==r.type&&"#include"==r.string.slice(0,8)?r.start+8:void 0}var r=n.line,i=hasInclude(r);if(null==i||null!=hasInclude(r-1))return null;for(var o=r;null!=hasInclude(o+1);)++o;return{from:e.Pos(r,i+1),to:t.clipPos(e.Pos(o))}}))}(n(28))},647:function(e,t,n){!function(e){"use strict";var t=e.Pos,n="A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",r=new RegExp("<(/?)(["+n+"]["+n+"-:.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*)","g");function Iter(e,t,n,r){this.line=t,this.ch=n,this.cm=e,this.text=e.getLine(t),this.min=r?Math.max(r.from,e.firstLine()):e.firstLine(),this.max=r?Math.min(r.to-1,e.lastLine()):e.lastLine()}function tagAt(e,n){var r=e.cm.getTokenTypeAt(t(e.line,n));return r&&/\btag\b/.test(r)}function nextLine(e){if(!(e.line>=e.max))return e.ch=0,e.text=e.cm.getLine(++e.line),!0}function prevLine(e){if(!(e.line<=e.min))return e.text=e.cm.getLine(--e.line),e.ch=e.text.length,!0}function toTagEnd(e){for(;;){var t=e.text.indexOf(">",e.ch);if(-1==t){if(nextLine(e))continue;return}if(tagAt(e,t+1)){var n=e.text.lastIndexOf("/",t),r=n>-1&&!/\S/.test(e.text.slice(n+1,t));return e.ch=t+1,r?"selfClose":"regular"}e.ch=t+1}}function toTagStart(e){for(;;){var t=e.ch?e.text.lastIndexOf("<",e.ch-1):-1;if(-1==t){if(prevLine(e))continue;return}if(tagAt(e,t+1)){r.lastIndex=t,e.ch=t;var n=r.exec(e.text);if(n&&n.index==t)return n}else e.ch=t}}function toNextTag(e){for(;;){r.lastIndex=e.ch;var t=r.exec(e.text);if(!t){if(nextLine(e))continue;return}if(tagAt(e,t.index+1))return e.ch=t.index+t[0].length,t;e.ch=t.index+1}}function toPrevTag(e){for(;;){var t=e.ch?e.text.lastIndexOf(">",e.ch-1):-1;if(-1==t){if(prevLine(e))continue;return}if(tagAt(e,t+1)){var n=e.text.lastIndexOf("/",t),r=n>-1&&!/\S/.test(e.text.slice(n+1,t));return e.ch=t+1,r?"selfClose":"regular"}e.ch=t}}function findMatchingClose(e,n){for(var r=[];;){var i,o=toNextTag(e),a=e.line,l=e.ch-(o?o[0].length:0);if(!o||!(i=toTagEnd(e)))return;if("selfClose"!=i)if(o[1]){for(var s=r.length-1;s>=0;--s)if(r[s]==o[2]){r.length=s;break}if(s<0&&(!n||n==o[2]))return{tag:o[2],from:t(a,l),to:t(e.line,e.ch)}}else r.push(o[2])}}function findMatchingOpen(e,n){for(var r=[];;){var i=toPrevTag(e);if(!i)return;if("selfClose"!=i){var o=e.line,a=e.ch,l=toTagStart(e);if(!l)return;if(l[1])r.push(l[2]);else{for(var s=r.length-1;s>=0;--s)if(r[s]==l[2]){r.length=s;break}if(s<0&&(!n||n==l[2]))return{tag:l[2],from:t(e.line,e.ch),to:t(o,a)}}}else toTagStart(e)}}e.registerHelper("fold","xml",(function(e,n){for(var r=new Iter(e,n.line,0);;){var i,o=toNextTag(r);if(!o||r.line!=n.line||!(i=toTagEnd(r)))return;if(!o[1]&&"selfClose"!=i){var a=t(r.line,r.ch),l=findMatchingClose(r,o[2]);return l&&{from:a,to:l.from}}}})),e.findMatchingTag=function(e,n,r){var i=new Iter(e,n.line,n.ch,r);if(-1!=i.text.indexOf(">")||-1!=i.text.indexOf("<")){var o=toTagEnd(i),a=o&&t(i.line,i.ch),l=o&&toTagStart(i);if(o&&l&&!(function cmp(e,t){return e.line-t.line||e.ch-t.ch}(i,n)>0)){var s={from:t(i.line,i.ch),to:a,tag:l[2]};return"selfClose"==o?{open:s,close:null,at:"open"}:l[1]?{open:findMatchingOpen(i,l[2]),close:s,at:"close"}:{open:s,close:findMatchingClose(i=new Iter(e,a.line,a.ch,r),l[2]),at:"open"}}}},e.findEnclosingTag=function(e,t,n){for(var r=new Iter(e,t.line,t.ch,n);;){var i=findMatchingOpen(r);if(!i)break;var o=findMatchingClose(new Iter(e,t.line,t.ch,n),i.tag);if(o)return{open:i,close:o}}},e.scanForClosingTag=function(e,t,n,r){return findMatchingClose(new Iter(e,t.line,t.ch,r?{from:0,to:r}:null),n)}}(n(28))},648:function(e,t,n){!function(e){var t=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),n=e.Pos,r={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"};function findMatchingBracket(e,t,i,o){var a=e.getLineHandle(t.line),l=t.ch-1,s=l>=0&&r[a.text.charAt(l)]||r[a.text.charAt(++l)];if(!s)return null;var c=">"==s.charAt(1)?1:-1;if(i&&c>0!=(l==t.ch))return null;var u=e.getTokenTypeAt(n(t.line,l+1)),d=scanForBracket(e,n(t.line,l+(c>0?1:0)),c,u||null,o);return null==d?null:{from:n(t.line,l),to:d&&d.pos,match:d&&d.ch==s.charAt(0),forward:c>0}}function scanForBracket(e,t,i,o,a){for(var l=a&&a.maxScanLineLength||1e4,s=a&&a.maxScanLines||1e3,c=[],u=a&&a.bracketRegex?a.bracketRegex:/[(){}[\]]/,d=i>0?Math.min(t.line+s,e.lastLine()+1):Math.max(e.firstLine()-1,t.line-s),f=t.line;f!=d;f+=i){var h=e.getLine(f);if(h){var g=i>0?0:h.length-1,m=i>0?h.length:-1;if(!(h.length>l))for(f==t.line&&(g=t.ch-(i<0?1:0));g!=m;g+=i){var v=h.charAt(g);if(u.test(v)&&(void 0===o||e.getTokenTypeAt(n(f,g+1))==o))if(">"==r[v].charAt(1)==i>0)c.push(v);else{if(!c.length)return{pos:n(f,g),ch:v};c.pop()}}}}return f-i!=(i>0?e.lastLine():e.firstLine())&&null}function matchBrackets(e,r,i){for(var o=e.state.matchBrackets.maxHighlightLineLength||1e3,a=[],l=e.listSelections(),s=0;s<l.length;s++){var c=l[s].empty()&&findMatchingBracket(e,l[s].head,!1,i);if(c&&e.getLine(c.from.line).length<=o){var u=c.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";a.push(e.markText(c.from,n(c.from.line,c.from.ch+1),{className:u})),c.to&&e.getLine(c.to.line).length<=o&&a.push(e.markText(c.to,n(c.to.line,c.to.ch+1),{className:u}))}}if(a.length){t&&e.state.focused&&e.focus();var clear=function(){e.operation((function(){for(var e=0;e<a.length;e++)a[e].clear()}))};if(!r)return clear;setTimeout(clear,800)}}var i=null;function doMatchBrackets(e){e.operation((function(){i&&(i(),i=null),i=matchBrackets(e,!1,e.state.matchBrackets)}))}e.defineOption("matchBrackets",!1,(function(t,n,r){r&&r!=e.Init&&(t.off("cursorActivity",doMatchBrackets),i&&(i(),i=null)),n&&(t.state.matchBrackets="object"==typeof n?n:{},t.on("cursorActivity",doMatchBrackets))})),e.defineExtension("matchBrackets",(function(){matchBrackets(this,!0)})),e.defineExtension("findMatchingBracket",(function(e,t,n){return findMatchingBracket(this,e,t,n)})),e.defineExtension("scanForBracket",(function(e,t,n,r){return scanForBracket(this,e,t,n,r)}))}(n(28))},650:function(e,t,n){!function(e){"use strict";function expressionAllowed(e,t,n){return/^(?:operator|sof|keyword c|case|new|[\[{}\(,;:]|=>)$/.test(t.lastType)||"quasi"==t.lastType&&/\{\s*$/.test(e.string.slice(0,e.pos-(n||0)))}e.defineMode("javascript",(function(t,n){var r,i,o=t.indentUnit,a=n.statementIndent,l=n.jsonld,s=n.json||l,c=n.typescript,u=n.wordCharacters||/[\w$\xa1-\uffff]/,d=function(){function kw(e){return{type:e,style:"keyword"}}var e=kw("keyword a"),t=kw("keyword b"),n=kw("keyword c"),r=kw("operator"),i={type:"atom",style:"atom"},o={if:kw("if"),while:e,with:e,else:t,do:t,try:t,finally:t,return:n,break:n,continue:n,new:kw("new"),delete:n,throw:n,debugger:n,var:kw("var"),const:kw("var"),let:kw("var"),function:kw("function"),catch:kw("catch"),for:kw("for"),switch:kw("switch"),case:kw("case"),default:kw("default"),in:r,typeof:r,instanceof:r,true:i,false:i,null:i,undefined:i,NaN:i,Infinity:i,this:kw("this"),class:kw("class"),super:kw("atom"),yield:n,export:kw("export"),import:kw("import"),extends:n,await:n,async:kw("async")};if(c){var a={type:"variable",style:"variable-3"},l={interface:kw("class"),implements:n,namespace:n,module:kw("module"),enum:kw("module"),type:kw("type"),public:kw("modifier"),private:kw("modifier"),protected:kw("modifier"),abstract:kw("modifier"),as:r,string:a,number:a,boolean:a,any:a};for(var s in l)o[s]=l[s]}return o}(),f=/[+\-*&%=<>!?|~^]/,h=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function ret(e,t,n){return r=e,i=n,t}function tokenBase(e,t){var n=e.next();if('"'==n||"'"==n)return t.tokenize=function tokenString(e){return function(t,n){var r,i=!1;if(l&&"@"==t.peek()&&t.match(h))return n.tokenize=tokenBase,ret("jsonld-keyword","meta");for(;null!=(r=t.next())&&(r!=e||i);)i=!i&&"\\"==r;return i||(n.tokenize=tokenBase),ret("string","string")}}(n),t.tokenize(e,t);if("."==n&&e.match(/^\d+(?:[eE][+\-]?\d+)?/))return ret("number","number");if("."==n&&e.match(".."))return ret("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(n))return ret(n);if("="==n&&e.eat(">"))return ret("=>","operator");if("0"==n&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),ret("number","number");if("0"==n&&e.eat(/o/i))return e.eatWhile(/[0-7]/i),ret("number","number");if("0"==n&&e.eat(/b/i))return e.eatWhile(/[01]/i),ret("number","number");if(/\d/.test(n))return e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),ret("number","number");if("/"==n)return e.eat("*")?(t.tokenize=tokenComment,tokenComment(e,t)):e.eat("/")?(e.skipToEnd(),ret("comment","comment")):expressionAllowed(e,t,1)?(function readRegexp(e){for(var t,n=!1,r=!1;null!=(t=e.next());){if(!n){if("/"==t&&!r)return;"["==t?r=!0:r&&"]"==t&&(r=!1)}n=!n&&"\\"==t}}(e),e.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/),ret("regexp","string-2")):(e.eatWhile(f),ret("operator","operator",e.current()));if("`"==n)return t.tokenize=tokenQuasi,tokenQuasi(e,t);if("#"==n)return e.skipToEnd(),ret("error","error");if(f.test(n))return e.eatWhile(f),ret("operator","operator",e.current());if(u.test(n)){e.eatWhile(u);var r=e.current(),i=d.propertyIsEnumerable(r)&&d[r];return i&&"."!=t.lastType?ret(i.type,i.style,r):ret("variable","variable",r)}}function tokenComment(e,t){for(var n,r=!1;n=e.next();){if("/"==n&&r){t.tokenize=tokenBase;break}r="*"==n}return ret("comment","comment")}function tokenQuasi(e,t){for(var n,r=!1;null!=(n=e.next());){if(!r&&("`"==n||"$"==n&&e.eat("{"))){t.tokenize=tokenBase;break}r=!r&&"\\"==n}return ret("quasi","string-2",e.current())}function findFatArrow(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var n=e.string.indexOf("=>",e.start);if(!(n<0)){for(var r=0,i=!1,o=n-1;o>=0;--o){var a=e.string.charAt(o),l="([{}])".indexOf(a);if(l>=0&&l<3){if(!r){++o;break}if(0==--r){"("==a&&(i=!0);break}}else if(l>=3&&l<6)++r;else if(u.test(a))i=!0;else{if(/["'\/]/.test(a))return;if(i&&!r){++o;break}}}i&&!r&&(t.fatArrowAt=o)}}var g={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0};function JSLexical(e,t,n,r,i,o){this.indented=e,this.column=t,this.type=n,this.prev=i,this.info=o,null!=r&&(this.align=r)}function inScope(e,t){for(var n=e.localVars;n;n=n.next)if(n.name==t)return!0;for(var r=e.context;r;r=r.prev)for(n=r.vars;n;n=n.next)if(n.name==t)return!0}var m={state:null,column:null,marked:null,cc:null};function pass(){for(var e=arguments.length-1;e>=0;e--)m.cc.push(arguments[e])}function cont(){return pass.apply(null,arguments),!0}function register(e){function inList(t){for(var n=t;n;n=n.next)if(n.name==e)return!0;return!1}var t=m.state;if(m.marked="def",t.context){if(inList(t.localVars))return;t.localVars={name:e,next:t.localVars}}else{if(inList(t.globalVars))return;n.globalVars&&(t.globalVars={name:e,next:t.globalVars})}}var v={name:"this",next:{name:"arguments"}};function pushcontext(){m.state.context={prev:m.state.context,vars:m.state.localVars},m.state.localVars=v}function popcontext(){m.state.localVars=m.state.context.vars,m.state.context=m.state.context.prev}function pushlex(e,t){var result=function(){var n=m.state,r=n.indented;if("stat"==n.lexical.type)r=n.lexical.indented;else for(var i=n.lexical;i&&")"==i.type&&i.align;i=i.prev)r=i.indented;n.lexical=new JSLexical(r,m.stream.column(),e,null,n.lexical,t)};return result.lex=!0,result}function poplex(){var e=m.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function expect(e){return function exp(t){return t==e?cont():";"==e?pass():cont(exp)}}function statement(e,t){return"var"==e?cont(pushlex("vardef",t.length),vardef,expect(";"),poplex):"keyword a"==e?cont(pushlex("form"),parenExpr,statement,poplex):"keyword b"==e?cont(pushlex("form"),statement,poplex):"{"==e?cont(pushlex("}"),block,poplex):";"==e?cont():"if"==e?("else"==m.state.lexical.info&&m.state.cc[m.state.cc.length-1]==poplex&&m.state.cc.pop()(),cont(pushlex("form"),parenExpr,statement,poplex,maybeelse)):"function"==e?cont(functiondef):"for"==e?cont(pushlex("form"),forspec,statement,poplex):"variable"==e?cont(pushlex("stat"),maybelabel):"switch"==e?cont(pushlex("form"),parenExpr,pushlex("}","switch"),expect("{"),block,poplex,poplex):"case"==e?cont(expression,expect(":")):"default"==e?cont(expect(":")):"catch"==e?cont(pushlex("form"),pushcontext,expect("("),funarg,expect(")"),statement,poplex,popcontext):"class"==e?cont(pushlex("form"),className,poplex):"export"==e?cont(pushlex("stat"),afterExport,poplex):"import"==e?cont(pushlex("stat"),afterImport,poplex):"module"==e?cont(pushlex("form"),pattern,pushlex("}"),expect("{"),block,poplex,poplex):"type"==e?cont(typeexpr,expect("operator"),typeexpr,expect(";")):"async"==e?cont(statement):pass(pushlex("stat"),expression,expect(";"),poplex)}function expression(e){return expressionInner(e,!1)}function expressionNoComma(e){return expressionInner(e,!0)}function parenExpr(e){return"("!=e?pass():cont(pushlex(")"),expression,expect(")"),poplex)}function expressionInner(e,t){if(m.state.fatArrowAt==m.stream.start){var n=t?arrowBodyNoComma:arrowBody;if("("==e)return cont(pushcontext,pushlex(")"),commasep(pattern,")"),poplex,expect("=>"),n,popcontext);if("variable"==e)return pass(pushcontext,pattern,expect("=>"),n,popcontext)}var r=t?maybeoperatorNoComma:maybeoperatorComma;return g.hasOwnProperty(e)?cont(r):"function"==e?cont(functiondef,r):"keyword c"==e||"async"==e?cont(t?maybeexpressionNoComma:maybeexpression):"("==e?cont(pushlex(")"),maybeexpression,expect(")"),poplex,r):"operator"==e||"spread"==e?cont(t?expressionNoComma:expression):"["==e?cont(pushlex("]"),arrayLiteral,poplex,r):"{"==e?contCommasep(objprop,"}",null,r):"quasi"==e?pass(quasi,r):"new"==e?cont(function maybeTarget(e){return function(t){return"."==t?cont(e?targetNoComma:target):pass(e?expressionNoComma:expression)}}(t)):cont()}function maybeexpression(e){return e.match(/[;\}\)\],]/)?pass():pass(expression)}function maybeexpressionNoComma(e){return e.match(/[;\}\)\],]/)?pass():pass(expressionNoComma)}function maybeoperatorComma(e,t){return","==e?cont(expression):maybeoperatorNoComma(e,t,!1)}function maybeoperatorNoComma(e,t,n){var r=0==n?maybeoperatorComma:maybeoperatorNoComma,i=0==n?expression:expressionNoComma;return"=>"==e?cont(pushcontext,n?arrowBodyNoComma:arrowBody,popcontext):"operator"==e?/\+\+|--/.test(t)?cont(r):"?"==t?cont(expression,expect(":"),i):cont(i):"quasi"==e?pass(quasi,r):";"!=e?"("==e?contCommasep(expressionNoComma,")","call",r):"."==e?cont(property,r):"["==e?cont(pushlex("]"),maybeexpression,expect("]"),poplex,r):void 0:void 0}function quasi(e,t){return"quasi"!=e?pass():"${"!=t.slice(t.length-2)?cont(quasi):cont(expression,continueQuasi)}function continueQuasi(e){if("}"==e)return m.marked="string-2",m.state.tokenize=tokenQuasi,cont(quasi)}function arrowBody(e){return findFatArrow(m.stream,m.state),pass("{"==e?statement:expression)}function arrowBodyNoComma(e){return findFatArrow(m.stream,m.state),pass("{"==e?statement:expressionNoComma)}function target(e,t){if("target"==t)return m.marked="keyword",cont(maybeoperatorComma)}function targetNoComma(e,t){if("target"==t)return m.marked="keyword",cont(maybeoperatorNoComma)}function maybelabel(e){return":"==e?cont(poplex,statement):pass(maybeoperatorComma,expect(";"),poplex)}function property(e){if("variable"==e)return m.marked="property",cont()}function objprop(e,t){return"async"==e?(m.marked="property",cont(objprop)):"variable"==e||"keyword"==m.style?(m.marked="property",cont("get"==t||"set"==t?getterSetter:afterprop)):"number"==e||"string"==e?(m.marked=l?"property":m.style+" property",cont(afterprop)):"jsonld-keyword"==e?cont(afterprop):"modifier"==e?cont(objprop):"["==e?cont(expression,expect("]"),afterprop):"spread"==e?cont(expression):":"==e?pass(afterprop):void 0}function getterSetter(e){return"variable"!=e?pass(afterprop):(m.marked="property",cont(functiondef))}function afterprop(e){return":"==e?cont(expressionNoComma):"("==e?pass(functiondef):void 0}function commasep(e,t){function proceed(n,r){if(","==n){var i=m.state.lexical;return"call"==i.info&&(i.pos=(i.pos||0)+1),cont((function(n,r){return n==t||r==t?pass():pass(e)}),proceed)}return n==t||r==t?cont():cont(expect(t))}return function(n,r){return n==t||r==t?cont():pass(e,proceed)}}function contCommasep(e,t,n){for(var r=3;r<arguments.length;r++)m.cc.push(arguments[r]);return cont(pushlex(t,n),commasep(e,t),poplex)}function block(e){return"}"==e?cont():pass(statement,block)}function maybetype(e,t){if(c){if(":"==e)return cont(typeexpr);if("?"==t)return cont(maybetype)}}function maybedefault(e,t){if("="==t)return cont(expressionNoComma)}function typeexpr(e){return"variable"==e?(m.marked="variable-3",cont(afterType)):"{"==e?cont(commasep(typeprop,"}")):"("==e?cont(commasep(typearg,")"),maybeReturnType):void 0}function maybeReturnType(e){if("=>"==e)return cont(typeexpr)}function typeprop(e){return"variable"==e||"keyword"==m.style?(m.marked="property",cont(typeprop)):":"==e?cont(typeexpr):void 0}function typearg(e){return"variable"==e?cont(typearg):":"==e?cont(typeexpr):void 0}function afterType(e,t){return"<"==t?cont(commasep(typeexpr,">"),afterType):"["==e?cont(expect("]"),afterType):void 0}function vardef(){return pass(pattern,maybetype,maybeAssign,vardefCont)}function pattern(e,t){return"modifier"==e?cont(pattern):"variable"==e?(register(t),cont()):"spread"==e?cont(pattern):"["==e?contCommasep(pattern,"]"):"{"==e?contCommasep(proppattern,"}"):void 0}function proppattern(e,t){return"variable"!=e||m.stream.match(/^\s*:/,!1)?("variable"==e&&(m.marked="property"),"spread"==e?cont(pattern):"}"==e?pass():cont(expect(":"),pattern,maybeAssign)):(register(t),cont(maybeAssign))}function maybeAssign(e,t){if("="==t)return cont(expressionNoComma)}function vardefCont(e){if(","==e)return cont(vardef)}function maybeelse(e,t){if("keyword b"==e&&"else"==t)return cont(pushlex("form","else"),statement,poplex)}function forspec(e){if("("==e)return cont(pushlex(")"),forspec1,expect(")"),poplex)}function forspec1(e){return"var"==e?cont(vardef,expect(";"),forspec2):";"==e?cont(forspec2):"variable"==e?cont(formaybeinof):pass(expression,expect(";"),forspec2)}function formaybeinof(e,t){return"in"==t||"of"==t?(m.marked="keyword",cont(expression)):cont(maybeoperatorComma,forspec2)}function forspec2(e,t){return";"==e?cont(forspec3):"in"==t||"of"==t?(m.marked="keyword",cont(expression)):pass(expression,expect(";"),forspec3)}function forspec3(e){")"!=e&&cont(expression)}function functiondef(e,t){return"*"==t?(m.marked="keyword",cont(functiondef)):"variable"==e?(register(t),cont(functiondef)):"("==e?cont(pushcontext,pushlex(")"),commasep(funarg,")"),poplex,maybetype,statement,popcontext):void 0}function funarg(e){return"spread"==e?cont(funarg):pass(pattern,maybetype,maybedefault)}function className(e,t){if("variable"==e)return register(t),cont(classNameAfter)}function classNameAfter(e,t){return"extends"==t?cont(c?typeexpr:expression,classNameAfter):"{"==e?cont(pushlex("}"),classBody,poplex):void 0}function classBody(e,t){return"variable"==e||"keyword"==m.style?("static"==t||"get"==t||"set"==t||c&&("public"==t||"private"==t||"protected"==t))&&m.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(m.marked="keyword",cont(classBody)):(m.marked="property",cont(c?classfield:functiondef,classBody)):"*"==t?(m.marked="keyword",cont(classBody)):";"==e?cont(classBody):"}"==e?cont():void 0}function classfield(e){return":"==e?cont(typeexpr):pass(functiondef)}function afterExport(e,t){return"*"==t?(m.marked="keyword",cont(maybeFrom,expect(";"))):"default"==t?(m.marked="keyword",cont(expression,expect(";"))):pass(statement)}function afterImport(e){return"string"==e?cont():pass(importSpec,maybeFrom)}function importSpec(e,t){return"{"==e?contCommasep(importSpec,"}"):("variable"==e&&register(t),"*"==t&&(m.marked="keyword"),cont(maybeAs))}function maybeAs(e,t){if("as"==t)return m.marked="keyword",cont(importSpec)}function maybeFrom(e,t){if("from"==t)return m.marked="keyword",cont(expression)}function arrayLiteral(e){return"]"==e?cont():pass(commasep(expressionNoComma,"]"))}return poplex.lex=!0,{startState:function(e){var t={tokenize:tokenBase,lastType:"sof",cc:[],lexical:new JSLexical((e||0)-o,0,"block",!1),localVars:n.localVars,context:n.localVars&&{vars:n.localVars},indented:e||0};return n.globalVars&&"object"==typeof n.globalVars&&(t.globalVars=n.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),findFatArrow(e,t)),t.tokenize!=tokenComment&&e.eatSpace())return null;var n=t.tokenize(e,t);return"comment"==r?n:(t.lastType="operator"!=r||"++"!=i&&"--"!=i?r:"incdec",function parseJS(e,t,n,r,i){var o=e.cc;for(m.state=e,m.stream=i,m.marked=null,m.cc=o,m.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;)if((o.length?o.pop():s?expression:statement)(n,r)){for(;o.length&&o[o.length-1].lex;)o.pop()();return m.marked?m.marked:"variable"==n&&inScope(e,r)?"variable-2":t}}(t,n,r,i,e))},indent:function(t,r){if(t.tokenize==tokenComment)return e.Pass;if(t.tokenize!=tokenBase)return 0;var i,l=r&&r.charAt(0),s=t.lexical;if(!/^\s*else\b/.test(r))for(var c=t.cc.length-1;c>=0;--c){var u=t.cc[c];if(u==poplex)s=s.prev;else if(u!=maybeelse)break}for(;("stat"==s.type||"form"==s.type)&&("}"==l||(i=t.cc[t.cc.length-1])&&(i==maybeoperatorComma||i==maybeoperatorNoComma)&&!/^[,\.=+\-*:?[\(]/.test(r));)s=s.prev;a&&")"==s.type&&"stat"==s.prev.type&&(s=s.prev);var d=s.type,h=l==d;return"vardef"==d?s.indented+("operator"==t.lastType||","==t.lastType?s.info+1:0):"form"==d&&"{"==l?s.indented:"form"==d?s.indented+o:"stat"==d?s.indented+(function isContinuedStatement(e,t){return"operator"==e.lastType||","==e.lastType||f.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}(t,r)?a||o:0):"switch"!=s.info||h||0==n.doubleIndentSwitch?s.align?s.column+(h?0:1):s.indented+(h?0:o):s.indented+(/^(?:case|default)\b/.test(r)?o:2*o)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:s?null:"/*",blockCommentEnd:s?null:"*/",lineComment:s?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:s?"json":"javascript",jsonldMode:l,jsonMode:s,expressionAllowed,skipExpression:function(e){var t=e.cc[e.cc.length-1];t!=expression&&t!=expressionNoComma||e.cc.pop()}}})),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})}(n(28))},661:function(e,t,n){!function(e){"use strict";e.defineMode("turtle",(function(e){var t,n=e.indentUnit;function wordRegexp(e){return new RegExp("^(?:"+e.join("|")+")$","i")}wordRegexp([]);var r=wordRegexp(["@prefix","@base","a"]),i=/[*+\-<>=&|]/;function tokenBase(e,n){var o=e.next();if(t=null,"<"!=o||e.match(/^[\s\u00a0=]/,!1)){if('"'==o||"'"==o)return n.tokenize=function tokenLiteral(e){return function(t,n){for(var r,i=!1;null!=(r=t.next());){if(r==e&&!i){n.tokenize=tokenBase;break}i=!i&&"\\"==r}return"string"}}(o),n.tokenize(e,n);if(/[{}\(\),\.;\[\]]/.test(o))return t=o,null;if("#"==o)return e.skipToEnd(),"comment";if(i.test(o))return e.eatWhile(i),null;if(":"==o)return"operator";if(e.eatWhile(/[_\w\d]/),":"==e.peek())return"variable-3";var a=e.current();return r.test(a)?"meta":o>="A"&&o<="Z"?"comment":"keyword"}return e.match(/^[^\s\u00a0>]*>?/),"atom"}function pushContext(e,t,n){e.context={prev:e.context,indent:e.indent,col:n,type:t}}function popContext(e){e.indent=e.context.indent,e.context=e.context.prev}return{startState:function(){return{tokenize:tokenBase,context:null,indent:0,col:0}},token:function(e,n){if(e.sol()&&(n.context&&null==n.context.align&&(n.context.align=!1),n.indent=e.indentation()),e.eatSpace())return null;var r=n.tokenize(e,n);if("comment"!=r&&n.context&&null==n.context.align&&"pattern"!=n.context.type&&(n.context.align=!0),"("==t)pushContext(n,")",e.column());else if("["==t)pushContext(n,"]",e.column());else if("{"==t)pushContext(n,"}",e.column());else if(/[\]\}\)]/.test(t)){for(;n.context&&"pattern"==n.context.type;)popContext(n);n.context&&t==n.context.type&&popContext(n)}else"."==t&&n.context&&"pattern"==n.context.type?popContext(n):/atom|string|variable/.test(r)&&n.context&&(/[\}\]]/.test(n.context.type)?pushContext(n,"pattern",e.column()):"pattern"!=n.context.type||n.context.align||(n.context.align=!0,n.context.col=e.column()));return r},indent:function(e,t){var r=t&&t.charAt(0),i=e.context;if(/[\]\}]/.test(r))for(;i&&"pattern"==i.type;)i=i.prev;var o=i&&r==i.type;return i?"pattern"==i.type?i.col:i.align?i.col+(o?0:1):i.indent+(o?0:n):0},lineComment:"#"}})),e.defineMIME("text/turtle","turtle")}(n(28))},662:function(e,t,n){!function(e){"use strict";e.registerHelper("fold","indent",(function(t,n){var r=t.getOption("tabSize"),i=t.getLine(n.line);if(/\S/.test(i)){for(var getIndent=function(t){return e.countColumn(t,null,r)},o=getIndent(i),a=null,l=n.line+1,s=t.lastLine();l<=s;++l){var c=t.getLine(l);if(getIndent(c)>o)a=l;else if(/\S/.test(c))break}return a?{from:e.Pos(n.line,i.length),to:e.Pos(a,t.getLine(a).length)}:void 0}}))}(n(28))},663:function(e,t,n){!function(e){"use strict";function clear(e){e.state.tagHit&&e.state.tagHit.clear(),e.state.tagOther&&e.state.tagOther.clear(),e.state.tagHit=e.state.tagOther=null}function doMatchTags(t){t.state.failedTagMatch=!1,t.operation((function(){if(clear(t),!t.somethingSelected()){var n=t.getCursor(),r=t.getViewport();r.from=Math.min(r.from,n.line),r.to=Math.max(n.line+1,r.to);var i=e.findMatchingTag(t,n,r);if(i){if(t.state.matchBothTags){var o="open"==i.at?i.open:i.close;o&&(t.state.tagHit=t.markText(o.from,o.to,{className:"CodeMirror-matchingtag"}))}var a="close"==i.at?i.open:i.close;a?t.state.tagOther=t.markText(a.from,a.to,{className:"CodeMirror-matchingtag"}):t.state.failedTagMatch=!0}}}))}function maybeUpdateMatch(e){e.state.failedTagMatch&&doMatchTags(e)}e.defineOption("matchTags",!1,(function(t,n,r){r&&r!=e.Init&&(t.off("cursorActivity",doMatchTags),t.off("viewportChange",maybeUpdateMatch),clear(t)),n&&(t.state.matchBothTags="object"==typeof n&&n.bothTags,t.on("cursorActivity",doMatchTags),t.on("viewportChange",maybeUpdateMatch),doMatchTags(t))})),e.commands.toMatchingTag=function(t){var n=e.findMatchingTag(t,t.getCursor());if(n){var r="close"==n.at?n.open:n.close;r&&t.extendSelection(r.to,r.from)}}}(n(28),n(647))}}]);
//# sourceMappingURL=npm.codemirror-00caea6b4426c73bd2eb.js.map