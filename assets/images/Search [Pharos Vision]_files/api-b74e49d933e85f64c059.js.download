(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{1062:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(11),i=r(1),o=r(33),a=r(273),s=function(e){function ComponentLoader(t){var r=e.call(this,t)||this;return r.state={component:o.Nothing()},r}return n.__extends(ComponentLoader,e),ComponentLoader.prototype.componentDidMount=function(){var e=this;a.loadComponent(this.props.componentTagName).then((function(t){return e.setState({component:o.Just(t)})}))},ComponentLoader.prototype.render=function(){var e=this;return this.state.component.map((function(t){return i.createElement(t,e.props.componentProps,e.props.children)})).getOrElse(null)},ComponentLoader}(i.Component);t.component=s,t.factory=i.createFactory(t.component),t.default=t.component},1063:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(19),i=function(){function ExtensionPoint(){this.loaded=!1,this.loader=function(){return n.later(0,void 0)}}return ExtensionPoint.prototype.isLoading=function(){return!this.loaded},ExtensionPoint.prototype.get=function(){if(!this.loaded)throw new Error("Extension must be loaded before calling ExtensionPoint.get()");if(this.error)throw this.error;return this.value},ExtensionPoint.prototype.load=function(){var e=this;if(this.value)return n.never();if(this.loadingExtension)return this.loadingExtension;var t=this.loader;return this.loadingExtension=t().flatMap((function(r){return e.loader===t?(e.loaded=!0,e.value=r,n.constant(r)):e.load()})).mapErrors((function(t){return e.loaded=!0,e.error=t,console.error(t),t})),this.loadingExtension},ExtensionPoint.prototype.loadAndUpdate=function(e,t){var updateWhenLoaded=function(){return e.forceUpdate()};t.map(this.load()).observe({value:updateWhenLoaded,error:updateWhenLoaded})},ExtensionPoint.prototype.chainLoader=function(e){var t=this.value,r=this.loader;this.loader=function(){return t?e(t):r().flatMap(e)},this.loaded=!1,this.value=void 0,this.error=void 0,this.loadingExtension=void 0},ExtensionPoint}();t.ExtensionPoint=i},1065:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(11),i=r(1),o=r(0),a=r(144),s=r(34),u=r(303),l=r(586);t.ContextTypes=n.__assign(n.__assign({},u.SemanticContextTypes),l.TemplateContextTypes);var c={markupTemplateScope:o.object},p=function(e){function PlatformComponent(t,r){var n=e.call(this,t,r)||this;return n.cancel=new s.Cancellation,n}return n.__extends(PlatformComponent,e),Object.defineProperty(PlatformComponent.prototype,"appliedTemplateScope",{get:function(){var e=this.props.markupTemplateScope;return e||(this.context.templateScope||a.TemplateScope.default)},enumerable:!0,configurable:!0}),PlatformComponent.prototype.componentWillUnmount=function(){this.cancel.cancelAll()},PlatformComponent.prototype.getChildContext=function(){return{templateScope:this.props.markupTemplateScope||this.context.templateScope}},PlatformComponent.propTypes=c,PlatformComponent.childContextTypes=l.TemplateContextTypes,PlatformComponent.contextTypes=t.ContextTypes,PlatformComponent}(i.Component);t.PlatformComponent=p},1066:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},1067:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(587).EventMaker;t.ComponentRefresh=n("Component.Refresh"),t.ComponentLoading="Component.Loading",t.ComponentLoaded=n("Component.Loaded"),t.ComponentTemplateUpdate=n("Component.TemplateUpdate")},1068:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(11),o=r(16),a=r(217),s=r(19),u=r(43),l=r(23);t._subscribers={},t.listen=function listen(e){return s.stream((function(r){var i=a.v4();t._subscribers[i]={eventFilter:e,emitter:r};var o=n.getCurrentValue(e);return o&&r.emit(o),function(){delete t._subscribers[i]}}))},t.trigger=function trigger(e){o.forEach(t._subscribers,(function(t){if(t){var r=t.eventFilter,n=t.emitter;r.eventType&&r.eventType!==e.eventType||r.source&&r.source!==e.source||r.target&&!o.includes(e.targets||[],r.target)||n.emit(e)}})),n.updateCurrentValue(e)},t.registerEventSource=function registerEventSource(e){n.addEventSource(e)},t.unregisterEventSource=function unregisterEventSource(e){n.deleteEventSource(e)},function(e){var t=u.Map();function eventSourceKey(e,t){return new c(e,t)}e.getCurrentValue=function getCurrentValue(e){var r=eventSourceKey(e.source,e.eventType),n=t.get(r);if(n)return n.currentValue},e.updateCurrentValue=function updateCurrentValue(e){var r=eventSourceKey(e.source,e.eventType),n=t.get(r);n&&(t=t.set(r,i.__assign(i.__assign({},n),{currentValue:e})))},e.addEventSource=function addEventSource(e){var r=eventSourceKey(e.source,e.eventType);t.has(r)||(t=t.set(r,e))},e.deleteEventSource=function deleteEventSource(e){var r=eventSourceKey(e.source,e.eventType);t=t.remove(r)}}(n||(n={}));var c=function(){function EventSourceKey(e,t){this._source=e,this._eventType=t}return Object.defineProperty(EventSourceKey.prototype,"source",{get:function(){return this._source},enumerable:!0,configurable:!0}),Object.defineProperty(EventSourceKey.prototype,"eventType",{get:function(){return this._eventType},enumerable:!0,configurable:!0}),EventSourceKey.prototype.equals=function(e){return this.source===e.source&&this.eventType===e.eventType},EventSourceKey.prototype.hashCode=function(){var e=0;return e=31*(e=31*e+l.Rdf.hashString(this.source))+l.Rdf.hashString(this.eventType),l.Rdf.smi(e)},EventSourceKey}()},1079:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(11),i=r(1),o=r(72),a=function(e){function NavigationConfirmationDialog(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(NavigationConfirmationDialog,e),NavigationConfirmationDialog.prototype.render=function(){var e=this.props,t=e.onHide,r=e.message,n=e.onConfirm;return i.createElement(o.Modal,{onHide:t,show:!0},i.createElement(o.Modal.Header,null,i.createElement(o.Modal.Title,null,"Do you want to leave the page?")),i.createElement(o.Modal.Body,null,i.createElement("p",null,r)),i.createElement(o.Modal.Footer,null,i.createElement(o.ButtonGroup,null,i.createElement(o.Button,{bsStyle:"primary",onClick:function(e){return n(!1)}},"Stay"),i.createElement(o.Button,{bsStyle:"danger",onClick:function(e){return n(!0)}},"Leave"))))},NavigationConfirmationDialog}(i.Component);t.NavigationConfirmationDialog=a},1121:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(11),i=r(19),o=r(33),a=r(36),s=r(23),u=r(162),l=r(140),c=r(118),p=r(121),f=r(637),d=s.vocabularies.rdf,m=s.vocabularies.rdfs,y=s.vocabularies.VocabPlatform,g=s.vocabularies.ldp,v=s.vocabularies.xsd,h=function(e){function SetService(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(SetService,e),SetService.prototype.createSet=function(e,t){void 0===t&&(t=o.Nothing());var r=s.Rdf.iri(""),n=s.Rdf.graph([s.Rdf.triple(r,m.label,s.Rdf.literal(e)),s.Rdf.triple(r,d.type,g.Container),s.Rdf.triple(r,d.type,y.Set)]);return this.addResource(n,t)},SetService.prototype.addToExistingSet=function(e,t){return addSetItem(new c.LdpService(e.value,this.context),t)},SetService.prototype.createSetAndAddItems=function(e,t){var r=this;return this.createSet(e).flatMap((function(e){var n=new c.LdpService(e.value,r.context);return i.zip(t.map((function(e,t){return addSetItem(n,e,t)})).toJS())})).toProperty()},SetService.prototype.reorderItems=function(e,t){var r=new c.LdpService(e.value,this.context);return i.zip(t.map((function(e,t){var n=e.holder,i=e.item;return createItemHolderGraph(n,i,t).flatMap((function(e){return r.update(n,e)}))})).toArray()).map((function(){})).toProperty()},SetService}(c.LdpService);function addSetItem(e,t,r){return createItemHolderGraph(s.Rdf.iri(""),t,r).flatMap((function(t){return e.addResource(t)})).map((function(e){return{holder:e,item:t}})).toProperty()}function createItemHolderGraph(e,t,r){return l.getLabel(t).map((function(n){var i=[s.Rdf.triple(e,y.setItem,t),s.Rdf.triple(e,d.type,y.SetItem)];return i.push(s.Rdf.triple(e,m.label,s.Rdf.literal(n))),"number"==typeof r&&i.push(s.Rdf.triple(e,y.setItemIndex,s.Rdf.literal(r.toString(),v.integer))),s.Rdf.graph(i)}))}function getUserSetRootContainerIri(e){return new Promise((function(t,r){a.get("/rest/sets/getUserSetRootContainerIri").query({username:e}).type("application/json").accept("text/plain").end((function(e,n){e&&r(e);var i=n.text;if("string"!=typeof i)throw new Error("Invalid user set root container IRI: "+i);t(s.Rdf.iri(i))}))}))}function getUserDefaultSetIri(e){return new Promise((function(t,r){a.get("/rest/sets/getUserDefaultSetIri").query({username:e}).type("application/json").accept("text/plain").end((function(e,n){e&&r(e);var i=n.text;if("string"!=typeof i)throw new Error("Invalid user default set IRI: "+i);t(s.Rdf.iri(i))}))}))}t.SetService=h,t.addToDefaultSet=function addToDefaultSet(e,t){return i.combine([getSetServiceForUser(),i.fromPromise(getUserDefaultSetIri())]).flatMap((function(r){var n=r[0],i=r[1];return n.addToExistingSet(i,e).map((function(){return u.trigger({eventType:f.SetManagementEvents.ItemAdded,source:t}),e}))})).toProperty()},t.getUserSetRootContainerIri=getUserSetRootContainerIri,t.getUserDefaultSetIri=getUserDefaultSetIri;var S=function(e){function ContainerOfUserSetContainers(t){return e.call(this,y.UserSetContainer.value,t)||this}return n.__extends(ContainerOfUserSetContainers,e),ContainerOfUserSetContainers.prototype.getOrCreateSetContainer=function(e){var t=this,r=new h(e.value,this.context);return this.get(e).map((function(e){return r})).flatMapErrors((function(){return i.combine([i.fromPromise(p.Util.getUser()),i.fromPromise(getUserDefaultSetIri())]).flatMap((function(n){var a=n[0],s=n[1];return t.createSetContainerForUser(a,e).flatMap((function(){return r.createSet("Uncategorized",o.Just(s.value)).flatMapErrors((function(){return i.constant({})}))}))}))})).map((function(){return r})).toProperty()},ContainerOfUserSetContainers.prototype.createSetContainerForUser=function(e,t){var r=s.Rdf.iri(""),n="Set container of user '"+e.principal+"'";return this.addResource(s.Rdf.graph([s.Rdf.triple(r,m.label,s.Rdf.literal(n)),s.Rdf.triple(r,d.type,g.Container),s.Rdf.triple(r,d.type,y.SetContainer)]),o.Just(t.value)).map((function(){}))},ContainerOfUserSetContainers}(c.LdpService),C=void 0;function getSetServiceForUser(e){if(C)return C;var t=new S(e);return C=i.fromPromise(getUserSetRootContainerIri()).flatMap((function(e){return t.getOrCreateSetContainer(e)})).toProperty()}t.getSetServiceForUser=getSetServiceForUser},1122:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(11),i=r(1),o=r(16),a=r(72),s=r(23),u=r(63),l=function(e){function NavigateToIRI(t,r){var n=e.call(this,t,r)||this;return n.onValueChange=function(e){return n.setState({value:o.trim(e.target.value)})},n.isExploreDisabled=function(){return o.isEmpty(n.state.value)},n.onClick=function(e){e.preventDefault(),u.navigateToResource(s.Rdf.iri(n.state.value)).onValue((function(e){})).onError((function(e){return n.setState({error:!0})}))},n.state={value:""},n}return n.__extends(NavigateToIRI,e),NavigateToIRI.prototype.render=function(){return i.createElement(a.Form,{horizontal:!0,onSubmit:this.onClick},i.createElement(a.FormGroup,{validationState:this.state.error?"error":null},i.createElement(a.InputGroup,null,i.createElement(a.FormControl,{type:"text",placeholder:this.props.placeholder,value:this.state.value,onChange:this.onValueChange}),i.createElement(a.InputGroup.Button,null,i.createElement(a.Button,{bsStyle:"success",disabled:this.isExploreDisabled(),onClick:this.onClick},this.props.buttonCaption))),this.state.error?i.createElement(a.HelpBlock,null,"Can't navigate to the resource? The value is not a valid IRI."):null))},NavigateToIRI.defaultProps={placeholder:"Enter the full IRI to navigate to the resource page, e.g http://example.org/bob#me",buttonCaption:"Navigate"},NavigateToIRI}(i.Component);t.NavigateToIRI=l,t.default=l},118:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(11),i=r(19),o=r(33),a=r(36),s=r(23),u=r(142),l=r(16),c=s.vocabularies.VocabPlatform,p=function(){function LdpService(e,t){var r=this;if(this.getContainerIRI=function(){return s.Rdf.iri(r.BASE_CONTAINER)},this.addResource=function(e,t){return void 0===t&&(t=o.Nothing()),s.turtle.serialize.serializeGraph(e).flatMap((function(e){return r.createResourceRequest(r.getContainerIRI(),{data:e,format:"text/turtle"},t)})).map((function(e){return s.Rdf.iri(e)})).toProperty()},this.createResourceRequest=function(e,t,n){void 0===n&&(n=o.Nothing());var s=a.post(r.getServiceUrl()).query({uri:e.value}).send(t.data).type(t.format);return s=n.map((function(e){return s.set("Slug",e)})).getOrElse(s),i.fromNodeCallback((function(e){return s.end((function(t,r){return e(t,r?r.header.location:null)}))})).toProperty()},!t||t.isDefault?this.context={repository:"assets"}:this.context=t,"string"!=typeof e)throw new Error("Container IRI cannot be null or undefined");this.BASE_CONTAINER=e}return LdpService.prototype.getServiceUrl=function(e,t){void 0===e&&(e=""),void 0===t&&(t={});var r="/container"+e,n=u.buildQuery(l.assign({repository:this.context.repository},t));return n?r+"?"+n:r},LdpService.setVisibility=function(e,t,r){var i=s.Rdf.graph(n.__spreadArrays([s.Rdf.triple(s.Rdf.iri(""),c.visibilityItem,e),s.Rdf.triple(e,c.visibility,t)],l.map(r,(function(t){return s.Rdf.triple(e,c.visibleToGroups,t)}))));return new LdpService(c.VisibilityContainer.value).addResource(i,o.Nothing())},LdpService.prototype.getContainer=function(){return this.fetchResource(s.Rdf.iri(this.BASE_CONTAINER))},LdpService.prototype.get=function(e){return this.fetchResource(e)},LdpService.prototype.update=function(e,t){var r=this;return s.turtle.serialize.serializeGraph(t).flatMap((function(t){return r.sendUpdateResourceRequest(e,{data:t,format:"text/turtle"})})).toProperty()},LdpService.prototype.options=function(e){var t=a.options(this.getServiceUrl()).query({uri:e.value});return i.fromNodeCallback((function(e){return t.end((function(t,r){return e(null!=t?t.status:null,r.ok?r.text:null)}))})).toProperty()},LdpService.prototype.deleteResource=function(e){var t=a.del(this.getServiceUrl()).query({uri:e.value});return i.fromNodeCallback((function(e){return t.end((function(t,r){return e(t,r?r.text:null)}))})).toProperty()},LdpService.prototype.renameResource=function(e,t){var r=a.put(this.getServiceUrl("/rename")).query({uri:e.value,newName:t});return i.stream((function(e){return r.end((function(t,r){t?e.error(t):e.emit(void 0),e.end()})),function(){return r.abort()}})).toProperty()},LdpService.prototype.copyResource=function(e,t,r){void 0===r&&(r=o.Nothing());var n=a.get(this.getServiceUrl("/copyResource"));return n=t.map((function(t){return n.query({source:e.value,target:t.value})})).getOrElse(n.query({source:e.value})),n=r.map((function(e){return n.set("Slug",e)})).getOrElse(n),i.fromNodeCallback((function(e){return n.end((function(t,r){return e(t,r?r.header.location:null)}))})).toProperty()},LdpService.prototype.sendUpdateResourceRequest=function(e,t){var r=a.put(this.getServiceUrl()).query({uri:e.value}).send(t.data).type(t.format);return i.fromNodeCallback((function(e){return r.end((function(t,r){e(t,r?s.Rdf.iri(r.header.location):null)}))})).toProperty()},LdpService.prototype.fetchResource=function(e){return this.getResourceTriples(e.value,"text/turtle")},LdpService.prototype.getResourceTriples=function(e,t){return this.getResourceRequest(e,t).flatMap((function(e){return s.turtle.deserialize.turtleToGraph(e)})).toProperty()},LdpService.prototype.getResourceRequest=function(e,t){var r=a.get(this.getServiceUrl()).query({uri:e}).accept(t);return i.fromNodeCallback(r.end.bind(r)).toProperty().map((function(e){return e.text}))},LdpService.prototype.getExportURL=function(e){return this.getServiceUrl("/exportResource",{iris:e})},LdpService.prototype.getImportURL=function(){return this.getServiceUrl("/importResource")},LdpService.prototype.importGetTextFromURL=function(e){var t=a.get(e);return i.fromNodeCallback((function(e){return t.end((function(t,r){e(t,r&&r.ok?r.text:null)}))})).toProperty()},LdpService.prototype.importFromText=function(e,t,r){var n=a.post(this.getImportURL()).send(new File([e],"import.ttl"));return r&&(n=n.query({force:r})),t&&(n=n.query({containerIRI:t})),i.fromNodeCallback((function(e){return n.end((function(t,r){e(t,r)}))})).toProperty()},LdpService.prototype.importFromDelayedId=function(e,t){var r=a.post(this.getImportURL()).query({force:!0,delayedId:e,containerIRI:t});return i.fromNodeCallback((function(e){return r.end((function(t,r){e(t,r)}))})).toProperty()},LdpService}();t.LdpService=p,t.ldpc=function ldpc(e){return new p(e)},t.slugFromName=function slugFromName(e){return e.toLowerCase().trim().replace(/[^a-zA-Z0-9~_-]+/g,"-")}},120:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(857);t.ModuleRegistry=n;var i=r(528);t.ReactErrorCatcher=i;var o=r(1062);t.ComponentsLoader=o;var a=r(273);t.ComponentClassMetadata=a.ComponentClassMetadata;var s=r(1063);t.ExtensionPoint=s.ExtensionPoint},121:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(11),i=r(36),o=r(16),a=r(19),s=r(43),u=r(34);!function(e){e.templateSave="pages:edit:save";e.queryEditorSelectEndpoint="ui:component:view:mp:sparql:query:editor:select:repository",e.pageToolbarExplore="ui:page:view:toolbar:explore",e.sparqlSelect="sparql:query:select",e.qaasInfo="qaas:info",e.toLdp=function toLdp(e,t,r,n){return"api:ldp:"+e+":<"+t.value+">:"+r+":"+n}}(t.Permissions||(t.Permissions={}));var l=function(e){function NotEnoughPermissionsError(t){var r=this,n=this.constructor.prototype;return(r=e.call(this,t)||this).__proto__=n,r}return n.__extends(NotEnoughPermissionsError,e),NotEnoughPermissionsError}(Error);t.NotEnoughPermissionsError=l;var c=function(){function SecurityUtil(){var e=this;this.pool=new u.BatchedPool({fetch:function(t){return e.fetchPermitted(t.toArray())}})}return SecurityUtil.prototype.getUser=function(e){if(!e){return o.isUndefined(window.cache_user)?new Promise((function(e,t){i.get("/rest/security/user").type("application/json").accept("application/json").end((function(r,n){if(r)t(r);else{var i=JSON.parse(n.text);window.cache_user=i,e(i)}}))})):Promise.resolve(window.cache_user)}this.getUser().then(e)},SecurityUtil.prototype.isPermitted=function(e){return this.pool.query(e)},SecurityUtil.prototype.fetchPermitted=function(e){var t=i.post("/rest/security/permissions").send(e).type("application/json").accept("application/json");return a.fromNodeCallback((function(e){return t.end((function(t,r){return e(t,r.body)}))})).toProperty().map((function(e){return s.Map(e)}))},SecurityUtil.prototype.isAnonymous=function(e){o.isUndefined(window.cache_isAnonymousUser)?this.getUser((function(t){window.cache_isAnonymousUser=t.isAnonymous,e(t.isAnonymous)})):e(window.cache_isAnonymousUser)},SecurityUtil.prototype.getSessionInfo=function(e){return i.get("/rest/security/getSessionInfo").type("application/json").accept("application/json").end((function(t,r){e(JSON.parse(r.text))}))},SecurityUtil.prototype.touchSession=function(e){return i.post("/rest/security/touchSession").end((function(t,r){e(r.status)}))},SecurityUtil.prototype.getAllAccounts=function(){var e=i.get("/rest/security/getAllAccounts").type("application/json").accept("application/json");return a.fromNodeCallback((function(t){return e.end((function(e,r){t(null!=e?e.message:null,r.ok?JSON.parse(r.text):null)}))})).toProperty()},SecurityUtil.prototype.getDocumentationForAllPermissions=function(){var e=i.get("/rest/security/getAllPermissionsDoc").type("application/json").accept("application/json");return u.requestAsProperty(e).map((function(e){return e.body}))},SecurityUtil.prototype.createAccount=function(e){var t=i.post("/rest/security/createAccount").send(e).type("application/json");return a.fromNodeCallback((function(e){return t.end((function(t,r){e(null!=t?t.response.text:null,!!r.ok||null)}))})).toProperty()},SecurityUtil.prototype.updateAccount=function(e){var t=i.put("/rest/security/updateAccount").send(e).type("application/json");return a.fromNodeCallback((function(e){return t.end((function(t,r){e(null!=t?t.response.text:null,!!r.ok||null)}))})).toProperty()},SecurityUtil.prototype.deleteAccount=function(e){var t=i.del("/rest/security/deleteAccount/"+e.principal);return a.fromNodeCallback((function(e){return t.end((function(t,r){e(null!=t?t.response.text:null,!!r.ok||null)}))})).toProperty()},SecurityUtil.prototype.getRoleDefinitions=function(){var e=i.get("/rest/security/getAllRoleDefinitions").type("application/json").accept("application/json");return a.fromNodeCallback((function(t){return e.end((function(e,r){t(null!=e?e:null,r.ok?JSON.parse(r.text):null)}))})).toProperty()},SecurityUtil.prototype.isPermissionValid=function(e){var t=i.put("/rest/security/isPermissionValid").send(e).type("application/json").accept("application/json");return u.requestAsProperty(t).map((function(e){return e.body}))},SecurityUtil.prototype.updateRoleDefinitions=function(e){var t=i.put("/rest/security/updateRoleDefinitions").send(e).type("application/json");return u.requestAsProperty(t).map((function(e){return e.ok}))},SecurityUtil}();t.SecurityUtil=c,t.Util=new c},1210:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),r(11).__exportStar(r(1121),t)},1211:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(224),i=r(19),o=r(142),a=r(118),s=r(23),u=r(34);t.FILE_UPLOAD_SERVICE_URL="/file",t.FILE_LDP_CONTAINER_ID="http://www.researchspace.org/resource/system/fileContainer",t.FILE_URL="",t.ADMIN_URL="/direct",t.TEMPORARY_STORAGE_URL="/temporary",t.MOVE_URL="/move";var l=s.vocabularies.VocabPlatform;t.RESOURCE_QUERY="\n  CONSTRUCT {\n    ?__resourceIri__ a <"+l.File.value+">.\n    ?__resourceIri__ <"+l.fileName.value+"> ?__fileName__.\n    ?__resourceIri__ <"+l.mediaType.value+"> ?__mediaType__.\n    ?__resourceIri__ <"+l.fileContext.value+"> ?__contextUri__.\n  } WHERE {}\n";var c,p=function(){function FileManager(e){var r=e.repository;this.repository=r,this.ldp=new a.LdpService(t.FILE_LDP_CONTAINER_ID,{repository:r})}return FileManager.prototype.uploadFileAsResource=function(e){if(!e.storage)return i.constantError(new Error("Storage is undefined!"));var r=n.post(t.FILE_UPLOAD_SERVICE_URL+t.FILE_URL).attach("file",e.file).field("fileSize",""+e.file.size).field("storage",e.storage).field("repository",this.repository).field("createResourceQuery",e.resourceQuery||t.RESOURCE_QUERY).field("generateIriQuery",e.generateIriQuery||"").field("contextUri",e.contextUri||"").field("fileNameHack",e.fileNameHack?"true":"").on("progress",(function(t){e.onProgress&&e.onProgress(t.percent)}));return u.requestAsProperty(r).map((function(e){return s.Rdf.iri(e.header.location)}))},FileManager.prototype.uploadFileDirectlyToStorage=function(e){if(!e.storage)return i.constantError(new Error("Storage is undefined!"));if(!e.folder)return i.constantError(new Error("Path is undefined!"));var r=n.post(t.FILE_UPLOAD_SERVICE_URL+t.ADMIN_URL).attach("file",e.file).field("fileSize",""+e.file.size).field("storage",e.storage).field("folder",e.folder).field("fileName",e.fileName||"").on("progress",(function(t){e.onProgress&&e.onProgress(t.percent)}));return u.requestAsProperty(r).map((function(e){return e.ok?e.text:null}))},FileManager.prototype.uploadFileTemporary=function(e){if(!e.storage)return i.constantError(new Error("Storage is undefined!"));var r=n.post(t.FILE_UPLOAD_SERVICE_URL+t.TEMPORARY_STORAGE_URL).attach("file",e.file).field("fileSize",""+e.file.size).field("storage",e.storage).on("progress",(function(t){e.onProgress&&e.onProgress(t.percent)}));return u.requestAsProperty(r).map((function(t){return c.encodeAsIri(t.text,e.file.type)}))},FileManager.prototype.createResourceFromTemporaryFile=function(e){var r=n.post(t.FILE_UPLOAD_SERVICE_URL+t.MOVE_URL).field("fileName",e.fileName).field("storage",e.storage).field("temporaryStorage",e.temporaryStorage).field("repository",this.repository).field("createResourceQuery",e.resourceQuery||t.RESOURCE_QUERY).field("mediaType",e.mediaType).field("generateIriQuery",e.generateIriQuery||"").field("contextUri",e.contextUri||"").on("progress",(function(t){e.onProgress&&e.onProgress(t.percent)}));return u.requestAsProperty(r).map((function(e){return s.Rdf.iri(e.header.location)}))},FileManager.prototype.deleteFileResource=function(e,r){var i=this;return this.getFileResource(e).flatMap((function(e){var o=n.del(t.FILE_UPLOAD_SERVICE_URL+t.FILE_URL).field("fileName",e.fileName).field("storage",r).field("repository",i.repository).field("resourceIri",e.iri.value);return u.requestAsProperty(o)})).toProperty()},FileManager.prototype.removeTemporaryResource=function(e,r){var i=c.decodeFromIri(e).fileName,o=n.del(t.FILE_UPLOAD_SERVICE_URL+t.TEMPORARY_STORAGE_URL).field("fileName",i).field("storage",r);return u.requestAsProperty(o)},FileManager.prototype.getFileResourceGraph=function(e){return this.ldp.get(e)},FileManager.prototype.getFileResource=function(e,t){if(c.isEncodedIri(e)){var r=c.decodeFromIri(e),n=r.fileName,o=r.mediaType;return i.constant({iri:e,fileName:n,mediaType:o})}var a=(t=t||{}).namePredicateIri||l.fileName.value,s=t.mediaTypePredicateIri||l.mediaType.value;return this.getFileResourceGraph(e).flatMap((function(t){var r=t.triples,n={iri:e,fileName:r.find((function(e){return e.p.value===a})).o.value,mediaType:r.find((function(e){return e.p.value===s})).o.value};return n.fileName&&n.mediaType?i.constant(n):i.constantError(new Error("Either 'fileName' or 'mediaType' properties not found in the file resource graph"))})).toProperty()},FileManager.getFileUrl=function(e,r){return new o(t.FILE_UPLOAD_SERVICE_URL).addQuery({fileName:e,storage:r}).toString()},FileManager.isTemporaryResource=function(e){return c.isEncodedIri(e)},FileManager}();t.FileManager=p,function(e){function isEncodedIri(e){return e.value.startsWith("mp-temporary-file:")}e.isEncodedIri=isEncodedIri,e.encodeAsIri=function encodeAsIri(e,t){var r=encodeURIComponent(t),n=encodeURIComponent(e);return s.Rdf.iri("mp-temporary-file:"+r+"/"+n)},e.decodeFromIri=function decodeFromIri(e){if(!isEncodedIri(e))throw new Error("IRI is not an encoded temporary file: "+e);var t=e.value.substring("mp-temporary-file:".length).split("/"),r=t[0],n=t[1];if(!r||!n)throw new Error("Failed to decode temporary file IRI: "+e);return{mediaType:decodeURIComponent(r),fileName:decodeURIComponent(n)}}}(c||(c={}))},1212:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(11),i=r(33),o=r(16),a=r(23),s=r(118),u=a.vocabularies.VocabPlatform,l=a.vocabularies.rdf,c=a.vocabularies.rdfs,p=a.vocabularies.sp,f=function(e){function QueryServiceClass(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(QueryServiceClass,e),QueryServiceClass.prototype.addItem=function(e){var t=this.createGraph(e),r=e.label;return this.addResource(t,i.Just(r))},QueryServiceClass.prototype.updateItem=function(e,t){var r=this.createGraph(t);return this.update(e,r)},QueryServiceClass.prototype.createGraph=function(e){var t=e.label,r=e.value,n=e.type,i=e.queryType,o="update"===n?p.Update:p.Query,s=[a.Rdf.triple(a.Rdf.iri(""),l.type,o),a.Rdf.triple(a.Rdf.iri(""),l.type,this.getType(n,i)),a.Rdf.triple(a.Rdf.iri(""),c.label,a.Rdf.literal(t)),a.Rdf.triple(a.Rdf.iri(""),p.text,void 0!==r?a.Rdf.literal(r):a.Rdf.literal(""))];return e.structure&&s.push(a.Rdf.triple(a.Rdf.iri(""),a.vocabularies.VocabPlatform.searchState,a.Rdf.literal(e.structure))),a.Rdf.graph(s)},QueryServiceClass.prototype.getType=function(e,t){if("update"===e)return p.Update;switch(t){case"ASK":return p.Ask;case"SELECT":return p.Select;case"DESCRIBE":return p.Describe;case"CONSTRUCT":return p.Construct;default:return p.Select}},QueryServiceClass.prototype.getQuery=function(e){var t=this;return this.get(e).map((function(r){return t.parseGraphToQuery(e,r)}))},QueryServiceClass.prototype.parseGraphToQuery=function(e,t){var r=[p.Ask,p.Select,p.Describe,p.Construct,p.Update].map((function(e){return e.value})),n=t.triples.find((function(t){return t.s.equals(e)&&t.p.equals(c.label)})).o.value,i=t.triples.find((function(t){return t.s.equals(e)&&t.p.equals(p.text)})).o.value,s=t.triples.find((function(t){return t.s.equals(e)&&t.p.equals(a.vocabularies.VocabPlatform.searchState)})),u=t.triples.find((function(t){return t.s.equals(e)&&t.p.equals(l.type)&&o.includes(r,t.o.value)})).o.value,f=this.extractTypeFromIri(u).toUpperCase();return{label:n,value:i,type:"UPDATE"===f?"update":"query",queryType:f,structure:s?s.o.value:void 0}},QueryServiceClass.prototype.extractTypeFromIri=function(e){return/[^#]*$/.exec(e)[0]},QueryServiceClass}(s.LdpService);t.QueryServiceClass=f,t.QueryService=function(e){return new f(u.QueryContainer.value,e)}},122:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(11),o=r(19),a=r(36),s=r(43),u=r(33),l=r(16),c=r(61),p="/rest/repositories";function validateDefault(){return fromRequest(a.get(p+"/validatedefault").accept("application/json"),(function(e,t){return!e&&t.body.valid}))}function getRepositoryStatus(){return fromRequest(a.get(p).type("application/json").accept("application/json"),(function(e,t){return t.body})).map((function(e){return s.Map(e)}))}t.SparqlRepositoryType="researchspace:SPARQLRepository",t.NeptuneRepositoryType="researchspace:NeptuneSPARQLRepository",t.Rdf4jRepositoryType="openrdf:SailRepository",t.EphedraRepositoryType="researchspace:FederationSailRepository",t.getRepositoryConfig=function getRepositoryConfig(e){return fromRequest(a.get(p+"/config/"+e).accept("text/turtle"),(function(e,t){return t.text}))},t.deleteRepositoryConfig=function deleteRepositoryConfig(e){return fromRequest(a.delete(p+"/config/"+e),(function(e,t){return t.text}))},t.getRepositoryInfo=function getRepositoryInfo(e){return fromRequest(a.get(p+"/info/"+e).accept("application/json"),(function(e,t){return t.body}))},t.validateDefault=validateDefault,t.getRepositoryConfigTemplate=function getRepositoryConfigTemplate(e){return fromRequest(a.get(p+"/templates/"+e).accept("text/turtle"),(function(e,t){return t.text}))},t.updateOrAddRepositoryConfig=function updateOrAddRepositoryConfig(e,t,r){return void 0===r&&(r=!1),fromRequest(a.post(p+"/config/"+e).send(t).query({validate:r}).type("text/turtle"),(function(e,t){return t.text}))},t.getRepositoryConfigTemplates=function getRepositoryConfigTemplates(){return fromRequest(a.get(p+"/templates").type("application/json").accept("application/json"),(function(e,t){return t.body}))},t.getRepositoryStatus=getRepositoryStatus,t.guessResourceRepository=function guessResourceRepository(e){return n.flatMap((function(t){return o.combine(t.map((function(t){return function executeGuessQuery(e,t){return c.SparqlClient.ask(c.SparqlClient.setBindings(f,{__value__:t}),{context:{repository:e}})}(t,e).map((function(e){return[t,e]}))})))})).map((function(e){return u.fromNullable(l.find(e,(function(e){e[0];return e[1]}))).map((function(e){var t=e[0];e[1];return t}))})).toProperty()};var f=c.SparqlUtil.Sparql(d||(d=i.__makeTemplateObject(["ASK { ?__value__ a ?type }"],["ASK { ?__value__ a ?type }"])));function fromRequest(e,t){return o.fromNodeCallback((function(r){return e.end((function(e,n){r(e?function composeErrorMessage(e){return e.message+". "+e.response.text}(e):null,t(e,n))}))})).toProperty()}var d,m=function m(){var e=this;this.init=function(){return n=getRepositoryStatus().map((function(e){return e.keySeq().toArray()})),validateDefault().onValue((function(t){return e.isValid=t}))},this.isValidDefault=function(){return e.isValid}};t.DefaultRepositoryInfo=new m},1223:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(1459),i=r(19),o=r(332);!function registerTtlParser(){n.registerRDFParser("text/turtle",(function(e,t){var r=[];o.Parser().parse(e,(function(e,n,i){if(e)t(e,r);else if(n){var a=function createJsonLdQuad(e){return{subject:getTerm(e.subject),predicate:getTerm(e.predicate),object:getTerm(e.object),graph:{termType:"DefaultGraph",value:""}};function getTerm(e){return o.Util.isLiteral(e)?function getLiteralTerm(e){return{termType:"Literal",value:o.Util.getLiteralValue(e),language:o.Util.getLiteralLanguage(e),datatype:{termType:"NamedNode",value:o.Util.getLiteralType(e)}}}(e):o.Util.isBlank(e)?{termType:"BlankNode",value:e}:{termType:"NamedNode",value:e}}}(n);r.push(a)}else t&&t(void 0,r)}))}))}(),function registerGraphParser(){n.registerRDFParser("mph/graph",(function(e,t){function getTerm(e){return e.isLiteral()?{termType:"Literal",value:e.value,language:e.language,datatype:{termType:"NamedNode",value:e.datatype.value}}:e.isBnode()?{termType:"BlankNode",value:e.value}:e.isIri()?{termType:"NamedNode",value:e.value}:void 0}return e.triples.forEach((function(e){return{subject:getTerm(e.s),predicate:getTerm(e.p),object:getTerm(e.o),graph:{termType:"DefaultGraph",value:""}}}))}))}();var a=n.documentLoaders.node();t.makeDocumentLoader=function makeDocumentLoader(e){return function(t,r){return e.overrideContexts&&t in e.overrideContexts?r(null,{contextUrl:null,document:e.overrideContexts[t],documentUrl:t}):e.fetchRemoteContexts?a(t,r):void r(new Error("Fetching remote JSON-LD contexts is not allowed"),null)}},t.compact=function compact(e,t,r){return i.fromNodeCallback((function(i){return n.compact(e,t,r,i)})).toProperty()},t.frame=function frame(e,t,r){return i.fromNodeCallback((function(i){return n.frame(e,t,r,i)})).toProperty()},t.fromRdf=function fromRdf(e,t){return i.fromNodeCallback((function(r){return n.fromRDF(e,t,r)})).toProperty()}},1227:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=new(r(593).BaseResourceService)("/rest/data/rdf/utils/thumbnails/default");t.getThumbnail=function getThumbnail(e,t){return n.getResource(e,t?t.context:void 0)},t.getThumbnails=function getThumbnails(e,t){return n.getResources(e,t?t.context:void 0)}},1237:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(11),i=r(16),o=r(33),a=r(19),s=r(34),u=r(36),l=r(23),c=r(118),p=r(140),f=l.vocabularies.sp,d=l.vocabularies.field,m=l.vocabularies.rdfs,y=l.vocabularies.VocabPlatform,g=r(1208);function getFieldDefinitionProp(e){return new c.LdpService(l.vocabularies.VocabPlatform.FieldDefinitionContainer.value).get(e).map((function(t){return function deserialize(e,t){var r={description:[m.comment],xsdDatatype:[d.xsd_datatype],minOccurs:[d.min_occurs],maxOccurs:[d.max_occurs],order:[d.order],selectPattern:[d.select_pattern,f.text],deletePattern:[d.delete_pattern,f.text],askPattern:[d.ask_pattern,f.text],valueSetPattern:[d.valueset_pattern,f.text],autosuggestionPattern:[d.autosuggestion_pattern,f.text],testSubject:[d.testsubject],insertPattern:[d.insert_pattern,f.text]},a=l.Rdf.pg(e,t),s=i.mapValues(r,(function(e){return l.Rdf.getValueFromPropertyPath(e,a).map((function(e){return e.value})).getOrElse(void 0)})),u=l.Rdf.getValuesFromPropertyPath([m.label],a).map((function(e){return e})),c=l.Rdf.getValuesFromPropertyPath([d.domain],a).map((function(e){return e.value})),p=l.Rdf.getValuesFromPropertyPath([d.range],a).map((function(e){return e.value})),g=l.Rdf.getValuesFromPropertyPath([d.default_value],a).map((function(e){return e.value})),v=l.Rdf.getValuesFromPropertyPath([d.category],a),h=l.Rdf.getValueFromPropertyPath([d.tree_patterns],a).chain((function(e){if(!e.isLiteral()||!e.datatype.equals(y.SyntheticJsonDatatype))return o.Nothing();try{return o.Just(JSON.parse(e.value))}catch(e){return o.Nothing()}})).getOrElse(void 0);return n.__assign(n.__assign({id:e.value,label:u},s),{categories:v,domain:c,range:p,defaultValues:g,treePatterns:h})}(e,t)}))}t.getFieldDefinitionProp=getFieldDefinitionProp,t.getFieldDefinition=function getFieldDefinition(e){return getFieldDefinitionProp(e).map(g.normalizeFieldDefinition)};t.getGeneratedFieldDefinitions=function getGeneratedFieldDefinitions(e){if(0===e.length)return a.constant([]);var t=u.post("/rest/fields/definitions").send({fields:e.map((function(e){return e.value}))}).type("application/json").accept("application/json");return s.requestAsProperty(t).map((function(e){return JSON.parse(e.text)})).flatMap((function(e){return p.getLabels(e.filter((function(e){return void 0===e.label||null===e.label})).map((function(e){return l.Rdf.iri(e.iri)})),{context:{}}).map((function(t){return e.map((function(e){return n.__assign(n.__assign({},e),{label:t.get(l.Rdf.iri(e.iri))})}))}))})).toProperty()}},1264:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(36),i=r(19),o=r(1213),a=r(23);t.GRAPH_STORE_SERVICEURL="/rdf-graph-store";var s=function(){function GraphStoreService(){}return GraphStoreService.prototype.createGraph=function(e){var t=this,r=e.targetGraph,n=e.graphData,i=e.repository;return a.turtle.serialize.serializeGraph(n).flatMap((function(e){return t.createGraphRequest({targetGraph:r,turtleString:e,repository:i})})).map((function(e){return a.Rdf.iri(e)})).toProperty()},GraphStoreService.prototype.createGraphRequest=function(e){var r=e.targetGraph,o=e.turtleString,a=e.repository,s=n.post(t.GRAPH_STORE_SERVICEURL).query({graph:r.value,repository:a}).send(o).type("text/turtle");return i.fromNodeCallback((function(e){return s.end((function(t,r){return e(t,r?r.header.location:null)}))})).toProperty()},GraphStoreService.prototype.updateGraph=function(e){var t=this,r=e.targetGraph,n=e.graphData,i=e.repository;return a.turtle.serialize.serializeGraph(n).flatMap((function(e){return t.createGraphRequest({targetGraph:r,turtleString:e,repository:i})})).map((function(e){return a.Rdf.iri(e)})).toProperty()},GraphStoreService.prototype.updateGraphRequest=function(e){var r=e.targetGraph,o=e.turtleString,a=e.repository,s=n.put(t.GRAPH_STORE_SERVICEURL).query({uri:r.value,repository:a}).send(o).type("text/turtle");return i.fromNodeCallback((function(e){return s.end((function(t,r){return e(t,r?r.header.location:null)}))})).toProperty()},GraphStoreService.prototype.createGraphFromFile=function(e){var r=e.targetGraph,o=e.keepSourceGraphs,a=e.file,s=e.contentType,u=e.onProgress,l=e.repository,c=n.post(t.GRAPH_STORE_SERVICEURL).query({graph:r.value,keepSourceGraphs:o,repository:l}).type(s).send(a).on("progress",(function(e){return u(e.percent)}));return i.fromNodeCallback((function(e){return c.end((function(t,r){e(t,!!r.ok||null)}))})).toProperty()},GraphStoreService.prototype.updateGraphFromFile=function(e){var r=e.targetGraph,o=e.file,a=e.contentType,s=e.onProgress,u=e.repository,l=n.put(t.GRAPH_STORE_SERVICEURL).query({graph:r.value,repository:u}).type(a).send(o).on("progress",(function(e){return s(e.percent)}));return i.fromNodeCallback((function(e){return l.end((function(t,r){e(t,!!r.ok||null)}))})).toProperty()},GraphStoreService.prototype.getGraph=function(e){var r=this,o=e.targetGraph,s=e.repository,u=n.get(t.GRAPH_STORE_SERVICEURL).query({graph:o.value,repository:s}).accept("text/turtle");return i.fromNodeCallback((function(e){return u.end((function(t,n){e(r.errorToString(t),n.ok?a.turtle.deserialize.turtleToGraph(n.text):null)}))})).toProperty()},GraphStoreService.prototype.deleteGraph=function(e){var r=this,o=e.targetGraph,a=e.repository,s=n.del(t.GRAPH_STORE_SERVICEURL).query({graph:o.value,repository:a});return i.fromNodeCallback((function(e){return s.end((function(t,n){e(r.errorToString(t),!!n.ok||null)}))})).toProperty()},GraphStoreService.prototype.downloadGraph=function(e){var r=this,o=e.targetGraph,a=e.acceptHeader,s=e.fileName,u=e.repository,l=n.get(t.GRAPH_STORE_SERVICEURL).query({graph:o.value,repository:u}).accept(a);return i.fromNodeCallback((function(e){return l.end((function(t,n){e(r.errorToString(t),!!n.ok&&r.download(n.text,a,s))}))})).toProperty()},GraphStoreService.prototype.download=function(e,t,r){var n=new Blob([e],{type:t});return o.saveAs(n,r),!0},GraphStoreService.prototype.errorToString=function(e){return null!==e?413===e.status?"File too large. Please contact your administrator.":e.response.text:null},GraphStoreService}();t.RDFGraphStoreService=new s},1265:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(36),i=r(19),o=r(23);t.FILEUPLOAD_SERVICEURL="/file-upload";var a=function(){function FileUpload(){}return FileUpload.prototype.uploadFile=function(e){var r=n.post(t.FILEUPLOAD_SERVICEURL).field("createResourceQuery",e.createResourceQuery).field("generateIdQuery",e.generateIdQuery).field("storage",e.storage).field("metadataExtractor",e.metadataExtractor||"").field("contextUri",e.contextUri).attach("image",e.file).on("progress",(function(t){return e.onProgress(t.percent)}));return i.fromNodeCallback((function(e){return r.end((function(t,r){e(null!=t?t.message:null,r.ok?o.Rdf.iri(r.header.location):null)}))})).toProperty()},FileUpload.prototype.getMimeType=function(e){switch(e.name.split(".").pop().toLowerCase().trim()){case"jpg":return"image/jpeg";default:return"application/octet-stream"}},FileUpload}();t.FileUploadService=new a},1267:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(36),i=r(19);function sendRequest(e){var t=n.post(e);return i.fromNodeCallback((function(e){return t.end((function(t,r){return e(t,r.text)}))})).toProperty()}t.invalidateAllCaches=function invalidateAllCaches(){return sendRequest("/rest/cache/all/invalidate")},t.invalidateCacheForResource=function invalidateCacheForResource(e){return sendRequest("/rest/cache/all/invalidate/"+encodeURIComponent(e.value))}},1290:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(11),i=r(33),o=r(23),a=r(118),s=r(16),u=o.vocabularies.VocabPlatform,l=o.vocabularies.xsd,c=o.vocabularies.rdf,p=o.vocabularies.rdfs,f=o.vocabularies.spl,d=o.vocabularies.spin,m=o.vocabularies.dct,y=m.subject,g=function(e){function QueryTemplateServiceClass(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(QueryTemplateServiceClass,e),QueryTemplateServiceClass.prototype.addItem=function(e,t,r){var n=this.createGraph(e,t,r);return this.addResource(n,i.Just(e.identifier))},QueryTemplateServiceClass.prototype.updateItem=function(e,t,r,n){var i=this.createGraph(t,r,n);return this.update(e,i)},QueryTemplateServiceClass.prototype.createGraph=function(e,t,r){void 0===r&&(r="http://www.researchspace.org/query/");var i=e.identifier,a=e.label,s=e.description,u=e.args,m=o.Rdf.iri(""),g=u.map((function(e,t){var n=o.Rdf.iri(r+i+"/arg/"+t),a=[o.Rdf.triple(m,d.constraintProp,n),o.Rdf.triple(n,c.type,f.Argument),o.Rdf.triple(n,p.label,o.Rdf.literal(e.label)),o.Rdf.triple(n,f.predicateProp,o.Rdf.iri(r+i+"/predicate/"+e.variable)),o.Rdf.triple(n,f.valueTypeProp,o.Rdf.iri(e.valueType))];e.defaultValue&&a.push(o.Rdf.triple(n,f.defaultValue,e.defaultValue));var s=void 0!==e.optional&&e.optional;return a.push(o.Rdf.triple(n,f.optionalProp,o.Rdf.literal(s,l.boolean))),void 0!==e.comment&&a.push(o.Rdf.triple(n,p.comment,o.Rdf.literal(e.comment))),a})),v=[].concat.apply([],g),h=e.categories.map((function(e){return o.Rdf.triple(m,y,e)}));return o.Rdf.graph(n.__spreadArrays([o.Rdf.triple(m,c.type,d.Template),o.Rdf.triple(m,c.type,e.templateType),o.Rdf.triple(m,p.label,o.Rdf.literal(a)),o.Rdf.triple(m,p.comment,o.Rdf.literal(s)),o.Rdf.triple(m,d.bodyProp,o.Rdf.iri(t))],v,h))},QueryTemplateServiceClass.prototype.getQueryTemplate=function(e){var t=this;return this.get(e).map((function(r){return t.parseGraphToQueryTemplate(e,r)}))},QueryTemplateServiceClass.prototype.parseGraphToQueryTemplate=function(e,t){var r=this,n=[d.AskTemplate,d.SelectTemplate,d.ConstructTemplate,d.UpdateTemplate].map((function(e){return e.value})),i=t.triples.find((function(e){return e.p.equals(c.type)&&s.includes(n,e.o.value)})).o,o=t.triples.filter((function(t){return t.s.equals(e)&&t.p.equals(d.constraintProp)})).toArray().map((function(e){return e.o})).map((function(e){var n=t.triples.find((function(t){return t.s.equals(e)&&t.p.equals(p.label)})).o.value,i=t.triples.find((function(t){return t.s.equals(e)&&t.p.equals(f.predicateProp)})).o.value,o=t.triples.find((function(t){return t.s.equals(e)&&t.p.equals(p.comment)})).o.value,a=t.triples.find((function(t){return t.s.equals(e)&&t.p.equals(f.optionalProp)})),s=t.triples.find((function(t){return t.s.equals(e)&&t.p.equals(f.valueTypeProp)})).o.value,u=t.triples.find((function(t){return t.s.equals(e)&&t.p.equals(f.defaultValue)}));return{label:n,variable:r.extractValueFromIri(i),comment:o,valueType:s,defaultValue:u?u.o:void 0,optional:!!a&&"true"===a.o.value}}));return{template:{templateType:i,identifier:this.extractValueFromIri(e.value),label:t.triples.find((function(t){return t.s.equals(e)&&t.p.equals(p.label)})).o.value,description:t.triples.find((function(t){return t.s.equals(e)&&t.p.equals(p.comment)})).o.value,categories:t.triples.filter((function(t){return t.s.equals(e)&&t.p.equals(y)&&t.o.isIri()})).map((function(e){return e.o})).toArray(),args:o},queryIri:t.triples.find((function(t){return t.s.equals(e)&&t.p.equals(d.bodyProp)})).o.value}},QueryTemplateServiceClass.prototype.extractValueFromIri=function(e){return/[^/]*$/.exec(e)[0]},QueryTemplateServiceClass}(a.LdpService);t.QueryTemplateServiceClass=g,t.QueryTemplateService=function(e){return new g(u.QueryTemplateContainer.value,e)}},1294:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(19),o=r(217),a=r(33),s=r(10),u=r(23),l=r(216),c=r(118),p=r(61),f=r(140),d=r(121),m=r(222);!function(e){e.empty={step:void 0,assignee:void 0},e.isEqual=function isEqual(e,t){return(e.step&&e.step.equals(t.step)||!e.step&&!t.step)&&(e.assignee&&e.assignee.equals(t.assignee)||!e.assignee&&!t.assignee)}}(n=t.WorkflowState||(t.WorkflowState={}));var y=function(){function WorkflowService(){this.ldpService=new c.LdpService(l.VocabPlatform.WorkflowContainer.value,{repository:"default"})}return WorkflowService.prototype.queryWorkflowInstantiation=function(e){return this.ldpService.get(u.Rdf.iri(e))},WorkflowService.prototype.queryWorkflowSteps=function(e){var t=e.definition,r=e.currentStep,n=new c.LdpService(l.VocabPlatform.WorkflowContainer.value,{repository:"assets"}),i=u.Rdf.iri(t);return n.get(i).flatMap((function(e){var t;return r?(t=u.Rdf.getValuesFromPropertyPath([l.workflow.nextStep],u.Rdf.pg(r,e))).push(r):t=u.Rdf.getValuesFromPropertyPath([l.workflow.hasStep],u.Rdf.pg(i,e)),f.getLabels(t,{context:{repository:"assets"}}).map((function(r){return t.map((function(t){var n=r.get(t);return{iri:t,assigneeQuery:u.Rdf.getValueFromPropertyPath([l.workflow.assigneeQuery,l.sp.text],u.Rdf.pg(t,e)).map((function(e){return e.value})).getOrElse(void 0),label:n}}))}))})).toProperty()},WorkflowService.prototype.queryWorkflowAssignees=function(e){var t=e.query,r=e.newStep,n=e.workflowInstantiations.map((function(e){var t;return(t={}).__workflowInstantiation__=e,t}));return p.SparqlClient.prepareQuery(t,n).map((function(e){var t;return p.SparqlClient.setBindings(e,((t={}).__newStep__=r,t))})).flatMap((function(e){return p.SparqlClient.select(e)})).flatMap((function(e){var t=e.results.bindings.map((function(e){return e.assignee}));return f.getLabels(t)})).map((function(e){var t=[];return e.forEach((function(e,r){return t.push({iri:r,label:e})})),t})).toProperty()},WorkflowService.prototype.generateSubjectByTemplate=function(e){return(e||"{{UUID}}").replace(/{{([^{}]+)}}/g,(function(e,t){return"UUID"===t?o.v4():""}))},WorkflowService.prototype.createWorkflowInstantiation=function(e){var t=this;return new c.LdpService(l.VocabPlatform.WorkflowContainer.value,{repository:"assets"}).get(e.definition).flatMap((function(r){try{var n=u.Rdf.getValuesFromPropertyPath([l.workflow.hasStep],u.Rdf.pg(e.definition,r)).find((function(t){return t.value===e.firstStep.value}));if(!n)throw new Error("Unknown step "+e.firstStep+", no equals with definition's steps");var c=t.generateSubjectByTemplate(e.newWorkflowIriTemplate),p=u.Rdf.iri(""),f=u.Rdf.iri(l.workflow.hasState.value+"-"+o.v4()),d=u.Rdf.iri(l.workflow.metadata.value+"-"+o.v4()),m=u.Rdf.literal(s().toISOString(),l.xsd.dateTime),y=[u.Rdf.triple(p,l.rdf.type,l.workflow.WorkflowInstantiation),u.Rdf.triple(p,l.workflow.subject,e.subject),u.Rdf.triple(p,l.workflow.hasState,f),u.Rdf.triple(p,l.workflow.currentState,f),u.Rdf.triple(f,l.rdf.type,l.workflow.WorkflowState),u.Rdf.triple(f,l.workflow.step,n),u.Rdf.triple(f,l.workflow.startTime,m)];return e.assignee.value&&y.push(u.Rdf.triple(f,l.workflow.assignee,e.assignee)),t.createMetadata(e.metadataQuery,d).flatMap((function(e){0!==e.length&&(y.push(u.Rdf.triple(p,l.workflow.metadata,d)),e.forEach((function(e){y.push(u.Rdf.triple(e.s,e.p,e.o))})));var r=u.Rdf.graph(y);return t.ldpService.addResource(r,a.Just(c))}))}catch(e){return i.constantError(e)}})).toProperty()},WorkflowService.prototype.createMetadata=function(e,t){if(!e)return i.constant([]);var r=m.parseQuerySync(e);return r=p.SparqlClient.setBindings(r,{metadataIri:t}),p.SparqlClient.construct(r)},WorkflowService.prototype.updateWorkflowInstantiation=function(e){var t=this,r=e.workflowIri,n=e.originalGraph,a=e.workflowState;return i.fromPromise(d.Util.getUser()).flatMap((function(e){var i=u.Rdf.iri(r.value+"/"+o.v4()),c=u.Rdf.literal(s().toISOString(),l.xsd.dateTime),p=[];u.Rdf.getValueFromPropertyPath([l.workflow.currentState],u.Rdf.pg(r,n)).map((function(t){return p.push(u.Rdf.triple(t,l.workflow.endTime,c),u.Rdf.triple(t,l.workflow.advancedBy,u.Rdf.iri(e.userURI)))})),p.push(u.Rdf.triple(r,l.workflow.hasState,i),u.Rdf.triple(r,l.workflow.currentState,i),u.Rdf.triple(i,l.rdf.type,l.workflow.WorkflowState),u.Rdf.triple(i,l.workflow.step,a.step),u.Rdf.triple(i,l.workflow.startTime,c)),a.assignee&&p.push(u.Rdf.triple(i,l.workflow.assignee,a.assignee)),n.triples.forEach((function(e){e.p.equals(l.workflow.currentState)||p.push(e)}));var f=u.Rdf.graph(p);return t.ldpService.update(r,f)})).toProperty()},WorkflowService.prototype.deserializeWorkflowState=function(e,t){return u.Rdf.getValueFromPropertyPath([l.workflow.currentState],u.Rdf.pg(e,t)).map((function(e){var r=u.Rdf.pg(e,t);return{step:u.Rdf.getValueFromPropertyPath([l.workflow.step],r).getOrElse(void 0),assignee:u.Rdf.getValueFromPropertyPath([l.workflow.assignee],r).getOrElse(void 0)}})).getOrElse(n.empty)},WorkflowService.prototype.isWorkflowExist=function(e){var t=m.parseQuerySync("ASK {\n            ?workflow a ?type .\n            ?workflow ?predicate ?subject .\n        }");return t=p.SparqlClient.setBindings(t,{subject:e,type:l.workflow.WorkflowInstantiation,predicate:l.workflow.subject}),p.SparqlClient.ask(t)},WorkflowService}();t.WorkflowService=y},140:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(11),i=r(329),o=r(593),a=new(function(e){function class_1(){return e.call(this,"/rest/data/rdf/utils/getLabelsForRdfValue")||this}return n.__extends(class_1,e),class_1.prototype.createRequest=function(t,r){var n=e.prototype.createRequest.call(this,t,r),o=i.getPreferredUserLanguage();return n.query({preferredLanguage:o}),n},class_1}(o.BaseResourceService));t.getLabel=function getLabel(e,t){return a.getResource(e,t?t.context:void 0)},t.getLabels=function getLabels(e,t){return a.getResources(e,t?t.context:void 0)}},141:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(19),i=r(61),o=r(640),a=r(121),s=function(){function ConfigHolderClass(){this.isLoading=!0}return ConfigHolderClass.prototype.getEnvironmentConfig=function(){if(this.isLoading)throw Error("Config has not been initialized yet");return this.environmentConfig},ConfigHolderClass.prototype.getUIConfig=function(){if(this.isLoading)throw Error("Config has not been initialized yet");return this.uiConfig},ConfigHolderClass.prototype.getGlobalConfig=function(){if(this.isLoading)throw Error("Config has not been initialized yet");return this.globalConfig},ConfigHolderClass.prototype.fetchConfig=function(){return n.combine({environment:o.getConfigsInGroup("environment"),ui:o.getConfigsInGroup("ui"),global:o.getConfigsInGroup("global")}).toProperty()},ConfigHolderClass.prototype.initializeConfig=function(e){this.setEnvironmentConfig(e.environment),this.setUIConfig(e.ui),this.setGlobalConfig(e.global),this.isLoading=!1},ConfigHolderClass.prototype.setEnvironmentConfig=function(e){if(!e.resourceUrlMapping)throw new a.NotEnoughPermissionsError('Configuration property "resourceUrlMapping" is undefined. Most likely permissions for reading the configuration properties are not set correctly.');this.environmentConfig=e},ConfigHolderClass.prototype.setUIConfig=function(e){var t=e.preferredLanguages,r=e.preferredLabels,n=e.preferredThumbnails,i=e.templateIncludeQuery,o=e.enableUiComponentBasedSecurity,a=r?r.value:[],s=n?n.value:[];this.uiConfig={preferredLanguages:t?t.value:[],labelPropertyPattern:makePropertyPattern(a),labelPropertyPath:makePropertyPath(a),thumbnailPropertyPattern:makePropertyPattern(s),thumbnailPropertyPath:makePropertyPath(s),templateIncludeQuery:i?i.value:void 0,enableUiComponentBasedSecurity:!!o&&Boolean(o.value)}},ConfigHolderClass.prototype.setGlobalConfig=function(e){this.globalConfig=e},ConfigHolderClass}();function makePropertyPattern(e){return keepOnlyPropertyPaths(e).join("|")}function makePropertyPath(e){for(var t=[],r=0,n=keepOnlyPropertyPaths(e);r<n.length;r++){var o=n[r];try{var a=i.SparqlUtil.parsePropertyPath(o);t.push(a)}catch(e){console.warn("Invalid label property path",e)}}if(0===t.length)throw new Error("Failed to construct property path for labels (path is empty)");return{type:"path",pathType:"|",items:t}}function keepOnlyPropertyPaths(e){return e.filter((function(e){return!(e.startsWith("{")||e.endsWith("}"))}))}t.ConfigHolderClass=s,t.ConfigHolder=new s},144:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(11),i=r(36),o=r(522);t.parseTemplate=o.parseTemplate;t.getHeader=function getHeader(e){i.get("/rest/template/header").accept("text/html").end((function(t,r){e(r.text)}))},t.getFooter=function getFooter(e){i.get("/rest/template/footer").accept("text/html").end((function(t,r){e(r.text)}))},t.getNoPermissionsPage=function getNoPermissionsPage(e){i.get("/rest/template/noPermissionsPage").accept("text/html").end((function(t,r){e(r.text)}))};var a=r(525);t.ContextCapturer=a.ContextCapturer,t.CapturedContext=a.CapturedContext;var s=r(523);t.TemplateParser=s,n.__exportStar(r(980),t)},1441:function(e,t,r){var n,i=r(19),o=r(36),a=r(63);!function(e){function makeShortURL(t){return e.getShortKey(t).map((function(e){return location.origin+"/l/"+e}))}e.getShortKey=function getShortKey(e){var t=o.get("/rest/url-minify/getShort").query({url:e}).accept("text/plain");return i.fromNodeCallback((function(e){return t.end((function(t,r){return e(t,r.text)}))})).toProperty()},e.getShortURLForResource=function getShortURLForResource(e,t){return a.constructUrlForResource(e,{},t).map((function(e){return e.absoluteTo(location.origin).valueOf()})).flatMap(makeShortURL).toProperty()},e.makeShortURL=makeShortURL}(n||(n={})),e.exports=n},1470:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(36),i=r(34);!function(e){e.getJson=function getJson(e){var t=n.get(e).type("application/json").accept("application/json");return i.requestAsProperty(t).map((function(e){return JSON.parse(e.text)}))}}(t.GenericRestService||(t.GenericRestService={}))},162:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(11),i=r(1066);t.EventsApi=i.EventsApi,t.Event=i.Event,t.EventType=i.EventType;var o=r(1067);t.BuiltInEvents=o,n.__exportStar(r(1068),t),n.__exportStar(r(587),t)},181:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(16),i=r(43),o=[],a=[];function serialize(e){if(n.isUndefined(e)||n.isNull(e)||n.isNumber(e)||n.isString(e))return e;if(n.isArray(e))return n.map(e,serialize);if(e instanceof i.Iterable||!n.isPlainObject(e)){var t=n.find(a,(function(t){return t.predicate(e)}));return t?function addTypeDiscriminator(e,t){return function(r){var n={};return n["#type"]=t,n["#value"]=serialize(e.apply(r,[r])),n}}(t.serializer,t.name)(e):e}return n.transform(e,(function(e,t,r){return e[r]=serialize(t),e}),{})}t.deserializer=function deserializer(e,t,r){return o.push({name:e.prototype.constructor.name,deserializer:r.value}),r},t.serializer=function serializer(e,t,r){return a.push({name:e.constructor.name,predicate:function(t){return t instanceof e.constructor},serializer:r.value}),r},t.serializerFor=function serializerFor(e){a.push(e)},t.deserializerFor=function deserializerFor(e){return o.push(e)},t.serialize=serialize,t.deserialize=function deserialize(e){if(n.isUndefined(e)||n.isNull(e)||n.isNumber(e)||n.isString(e))return e;if(n.isArray(e))return n.map(e,deserialize);var t=n.find(o,(function(t){return e["#type"]===t.name}));return t?t.deserializer(deserialize(e["#value"])):n.isPlainObject(e)?n.transform(e,(function(e,t,r){return e[r]=deserialize(t),e}),{}):e}},182:function(e,t){function isInsertDeleteOperation(e){if("object"!=typeof e)return!1;var t=e.updateType;return t&&("insert"===t||"delete"===t||"deletewhere"===t||"insertdelete"===t)}function isManagementOperation(e){if("object"!=typeof e)return!1;var t=e.type;return t&&("load"===t||"copy"===t||"move"===t||"add"===t)}Object.defineProperty(t,"__esModule",{value:!0}),t.isQuery=function isQuery(e){return"object"==typeof e&&"query"===e.type},t.isSelectQuery=function isSelectQuery(e){return"SELECT"===e.queryType},t.isConstructQuery=function isConstructQuery(e){return"CONSTRUCT"===e.queryType},t.isAskQuery=function isAskQuery(e){return"ASK"===e.queryType},t.isDescribeQuery=function isDescribeQuery(e){return"DESCRIBE"===e.queryType},t.isStarProjection=function isStarProjection(e){return Array.isArray(e)&&1===e.length&&"*"===e[0]},t.isPattern=function isPattern(e){if("object"==typeof e)switch(e.type){case"bgp":case"optional":case"union":case"group":case"minus":case"graph":case"service":case"filter":case"values":return!0}return!1},t.isGroupPattern=function isGroupPattern(e){return"group"===e.type},t.isBlockPattern=function isBlockPattern(e){switch(e.type){case"optional":case"union":case"group":case"minus":case"graph":case"service":return!0;default:return!1}},t.isExpression=function isExpression(e){if("string"==typeof e)return!0;if(Array.isArray(e))return!0;if("object"==typeof e)switch(e.type){case"operation":case"functionCall":case"aggregate":case"bgp":case"group":return!0}return!1},t.isQuads=function isQuads(e){return("bgp"===e.type||"graph"===e.type)&&"triples"in e},t.isTerm=function isTerm(e){return"string"==typeof e},t.isVariable=function isVariable(e){return"string"==typeof e&&e.length>0&&("?"===e[0]||"$"===e[0])},t.isLiteral=function isLiteral(e){return"string"==typeof e&&e.length>0&&'"'===e[0]},t.isBlank=function isBlank(e){return"string"==typeof e&&e.length>1&&"_"===e[0]},t.isIri=function isIri(e){if("string"!=typeof e||0===e.length)return!1;var t=e[0];return"?"!==t&&"$"!==t&&'"'!==t&&"_"!==t},t.isUpdateOperation=function isUpdateOperation(e){return isInsertDeleteOperation(e)||isManagementOperation(e)},t.isInsertDeleteOperation=isInsertDeleteOperation,t.isManagementOperation=isManagementOperation},216:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),r(11).__exportStar(r(218),t)},218:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(941);t.rdfs=n.default;var i=r(511);t.rdf=i.default;var o=r(338);t.xsd=o.default;var a=r(942);t.dc=a.default;var s=r(943);t.dct=s.default;var u=r(944);t.sp=u.default;var l=r(945);t.spl=l.default;var c=r(946);t.spin=c.default;var p=r(947);t.ldp=p.default;var f=r(948);t.oa=f.default;var d=r(949);t.field=d.default;var m=r(950);t.prov=m.default;var y=r(951);t.persist=y.default;var g=r(952);t.VocabPlatform=g.default;var v=r(953);t.workflow=v.default},220:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(11),o=r(1),a=r(16),s=r(33),u=r(19),l=r(23),c=r(140),p=r(34),f=r(56),d=r(122),m=r(61),y=r(116),g=r(225),v=r(304),h=function(e){function ResourceLinkComponent(t,r){var n=e.call(this,t,r)||this;return n.cancellation=new p.Cancellation,n.getIri=function(){var e=n.props,t=e.iri,r=e.uri;return t||r},n.renderLink=function(e){var t=n.getIri(),r=a.clone(n.props);return r.title=e,o.createElement(g.ResourceLink,a.assign({resource:l.Rdf.iri(t),params:v.extractParams(n.props),className:n.props.className,style:n.props.style,title:n.props.title,repository:n.state.repository.getOrElse(void 0),fragment:n.props.fragment},r),n.getChildren(n.props.children,n.state.label,t))},n.getChildren=function(e,t,r){return(a.isEmpty(e)||e===r)&&t.isJust?e=t.get():a.isEmpty(e)&&(e=""),e},n.fetchLabel=function(e,t,r){return!1===n.props.getlabel||!a.isEmpty(t)&&t!==e.value?u.constant(e.value):n.cancellation.map(c.getLabel(e,{context:{repository:r}}))},n.getRepository=function(){return n.props.guessRepository?ResourceLinkComponent.repositories.map((function(e){return e.filter((function(e){return e})).map((function(e,t){return n.executeGuessQuery(t)}))})).flatMap((function(e){return u.combine(e.toKeyedSeq().toObject())})).map((function(e){return a.findKey(e)})).toProperty():u.constant(n.context.semanticContext?n.context.semanticContext.repository:void 0)},n.executeGuessQuery=function(e){return m.SparqlClient.ask(m.SparqlClient.setBindings(ResourceLinkComponent.GUESS_QUERY,{subject:l.Rdf.iri(n.getIri())}),{context:{repository:e}})},n.checkDeprecated(t),n.state={label:s.Nothing(),repository:s.Nothing()},n}return i.__extends(ResourceLinkComponent,e),ResourceLinkComponent.prototype.checkDeprecated=function(e){e.uri&&console.warn('The "uri" property of "ResourceLinkComponent" is deprecated,','please use the "iri" property instead')},ResourceLinkComponent.prototype.componentDidMount=function(){var e=this,t=this.getIri();t&&this.getRepository().onValue((function(r){e.fetchLabel(l.Rdf.iri(t),e.props.children,r).onValue((function(t){return e.setState({label:s.Just(t),repository:s.Just(r)})}))}))},ResourceLinkComponent.prototype.componentWillReceiveProps=function(e){this.props.uri!==e.uri&&this.checkDeprecated(e)},ResourceLinkComponent.prototype.componentWillUnmount=function(){this.cancellation.cancelAll()},ResourceLinkComponent.prototype.render=function(){return this.getIri()?this.state.label.map(this.renderLink).getOrElse(null):o.createElement(y.ErrorNotification,{errorMessage:'The component doesn\'t have the "iri" property'})},ResourceLinkComponent.repositories=d.getRepositoryStatus(),ResourceLinkComponent.GUESS_QUERY=m.SparqlUtil.Sparql(n||(n=i.__makeTemplateObject(["ASK { ?subject a ?type }"],["ASK { ?subject a ?type }"]))),ResourceLinkComponent}(f.Component);t.ResourceLinkComponent=h,t.default=h},221:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(33),i=r(19),o=r(36),a=r(16),s=r(43),u=r(23),l=r(34);t.GET_REGISTERED_PREFIXES="/rest/data/rdf/namespace/getRegisteredPrefixes";var c=new l.BatchedPool({fetch:function(e){return getPrefixedIris(e.toArray())}});function getPrefixedIris(e){return resolveIri("/rest/data/rdf/namespace/getPrefixedUris",a.map(e,(function(e){return e.value}))).map((function(e){return s.Map(e).mapEntries((function(e){return[u.Rdf.iri(e[0]),n.fromNullable(e[1])]})).toMap()}))}function getFullIris(e){return resolveIri("/rest/data/rdf/namespace/getFullUris",e).map((function(e){return s.Map(e).map((function(e){return n.fromNullable(e).map(u.Rdf.iri)})).toMap()}))}function resolveIri(e,t){var r=o.post(e).send(t).type("application/json").accept("application/json");return i.fromNodeCallback((function(e){return r.end((function(t,r){return e(t,r?r.body:null)}))})).toProperty()}t.getPrefixedUri=function getPrefixedUri(e){return c.query(e)},t.getPrefixedIris=getPrefixedIris,t.getFullIri=function getFullIri(e){return getFullIris([e]).map((function(t){return t.get(e)}))},t.getFullIris=getFullIris,t.getRegisteredPrefixes=function getRegisteredPrefixes(){var e=o.get(t.GET_REGISTERED_PREFIXES).type("application/json").accept("application/json");return i.fromNodeCallback((function(t){return e.end((function(e,r){return t(e,r.body)}))})).toProperty()},t.getNamespaceRecords=function getNamespaceRecords(){var e=o.get("/rest/data/rdf/namespace/getRecords").type("application/json").accept("application/json");return l.requestAsProperty(e).map((function(e){return e.body}))},t.setPrefix=function setPrefix(e,t,r){var n=o.put("/rest/data/rdf/namespace/setPrefix/"+e).query({targetAppId:r}).type("text/plain").send(t);return l.requestAsProperty(n).map((function(e){}))},t.deletePrefix=function deletePrefix(e,t){var r=o.del("/rest/data/rdf/namespace/deletePrefix/"+e).query({targetAppId:t});return l.requestAsProperty(r).map((function(e){}))},t.isSystemNamespacePrefix=function isSystemNamespacePrefix(e){return 0===e.length||e[0]===e[0].toUpperCase()}},222:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(19),i=r(16),o=r(932),a=r(23),s=r(519),u=r(182),l=new o.Parser;t.init=function init(e){t.RegisteredPrefixes=e,l=new o.Parser(e)};var c=new o.Generator;function parseQuery(e){return l.parse(encodeLegacyVars(replaceQueryParams(e)))}function parseQuerySync(e){return parseQuery(e)}function serializeQuery(e){return function decodeLegacyVars(e){return e.replace(/\?____/g,"?:")}(c.stringify(e))}function replaceQueryParams(e){if(void 0===s.getCurrentResource())return e;var t=s.getCurrentResource().value.startsWith("Template:")?"<"+s.getCurrentResource().value.substr("Template:".length)+">":s.getCurrentResource().toString();return e.replace(/\?\?/g,t).replace(/\$_this/g,t)}function encodeLegacyVars(e){return e.replace(/\?:/g,"?____")}t.guessFileEnding=function guessFileEnding(e){switch(e){case"application/rdf+xml":return"rdf";case"text/turtle":return"ttl";case"application/x-trig":return"trig";case"application/trix":return"trix";case"application/ld+json":return"jsonld";case"text/n3":return"n3";case"text/x-nquads":return"nq";case"application/n-triples":return"nt";default:return"application/rdf+xml"}},t.getFileEnding=function getFileEnding(e){return e.name.split(".").pop().toLowerCase().trim()},t.getMimeType=function getMimeType(e){switch(e){case"owl":case"rdf":return"application/rdf+xml";case"ttl":return"text/turtle";case"trig":return"application/x-trig";case"trix":return"application/trix";case"jsonld":return"application/ld+json";case"n3":return"text/n3";case"nq":return"text/x-nquads";case"nt":case"ntriples":return"text/plain";default:return"application/rdf+xml"}},t.addOrChangeLimit=function addOrChangeLimit(e,t){return e.limit=t,e},t.parseQueryAsync=function parseQueryAsync(e){try{return n.constant(parseQuery(e))}catch(e){return console.error("Error while parsing the query: "+e),n.constantError(e)}},t.parseQuery=parseQuery,t.parseQuerySync=parseQuerySync,t.serializeQuery=serializeQuery,t.validateSelectQuery=function validateSelectQuery(e){return u.isQuery(e)&&"SELECT"===e.queryType?n.constant(e):n.constantError(new Error("Invalid SELECT query: "+serializeQuery(e)))},t.Sparql=function Sparql(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return parseQuerySync(e.raw[0])},t.randomVariableName=function randomVariableName(){return"_"+Math.random().toString(36).substring(7)};var p=/([+\-&|!(){}\[\]^"~*?:\\])/g;t.makeLuceneQuery=function makeLuceneQuery(e,t,r){void 0===t&&(t=!0),void 0===r&&(r=!0);var n=e.split(" ").map((function(e){return e.trim()})).filter((function(e){return e.length>0})).map((function(e){return t&&(e=e.replace(p,"\\$1")),r&&(e+="*"),e})).join(" ");return a.Rdf.literal(n)},t.parsePatterns=function parsePatterns(e,t){var r="SELECT * WHERE { "+e+" }";return(t?new o.Parser(t):l).parse(encodeLegacyVars(replaceQueryParams(r))).where},t.parsePropertyPath=function parsePropertyPath(e){var t=l.parse("SELECT * WHERE { ?s "+e+" ?o }");if("query"===t.type&&1===t.where.length){var r=t.where[0];if("bgp"===r.type&&1===r.triples.length){var n=r.triples[0].predicate;if(!u.isTerm(n)||u.isIri(n))return n}}throw new Error("Invalid Sparql property path: '"+e+"'")},t.isSelectResultEmpty=function isSelectResultEmpty(e){var t=e.results.bindings;return i.isEmpty(t)||1===t.length&&i.isEmpty(t[0])},t.resolveIris=function resolveIris(e){return 0===e.length?[]:parseQuery("SELECT * WHERE {} VALUES (?iri) { "+e.map((function(e){return"("+e+")"})).join(" ")+" }").values.map((function(e){return a.Rdf.iri(e["?iri"])}))};var f=/^[a-zA-Z][-_a-zA-Z0-9]*$/;t.compactIriUsingPrefix=function compactIriUsingPrefix(e){var r=e.value;for(var n in t.RegisteredPrefixes)if(t.RegisteredPrefixes.hasOwnProperty(n)){var i=t.RegisteredPrefixes[n];if(r.startsWith(i)){var o=r.substring(i.length,r.length);if(f.test(o))return n+":"+o}}return"<"+r+">"}},223:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(11),i=r(395),o=r(938),a=r(939);n.__exportStar(r(181),t);var s=r(395);t.recordSerializer=s.recordSerializer,i.registerSerializersAndDeserializers(),o.registerSerializersAndDeserializers(),a.registerSerializersAndDeserializers()},225:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(11),o=r(1),a=r(35),s=r(16),u=r(7),l=r(16),c=r(34),p=r(56),f=r(328),d=r(305);!function(e){e[e.edit=0]="edit"}(n=t.ResourceLinkAction||(t.ResourceLinkAction={}));var m=function(e){function ResourceLink(t,r){var o=e.call(this,t,r)||this;return o.cancellation=new c.Cancellation,o.onClick=function(e){if(isSimpleClick(e)&&"_self"===o.props.target){e.preventDefault(),e.stopPropagation();var t=i.__assign({action:n[o.props.action]},o.props.params);d.navigateToResource(o.props.resource,t,o.getRepository(),o.props.fragment).onValue((function(){}))}},o.getRepository=function(){return o.props.repository?o.props.repository:o.context.semanticContext?o.context.semanticContext.repository:void 0},o.isLinkActive=function(){var e=o.props,t=e.resource,r=e.params,i=s.assign({},r);l.isUndefined(o.props.action)||(i.action=n[o.props.action]);var a=s.assign({},d.getCurrentUrl().search(!0));return delete a.uri,d.getCurrentResource().equals(t)&&l.isEqual(a,i)},o.state={url:d.construcUrlForResourceSync(o.props.resource,o.props.params,o.getRepository(),o.props.fragment)},o}return i.__extends(ResourceLink,e),ResourceLink.prototype.componentDidMount=function(){var e=this;this.cancellation.map(d.constructUrlForResource(this.props.resource,this.props.params,this.getRepository(),this.props.fragment)).observe({value:function(t){return e.setState({url:t})},error:function(e){return console.error(e)}})},ResourceLink.prototype.componentWillUnmount=function(){this.cancellation.cancelAll()},ResourceLink.prototype.render=function(){var e,t=this.props,r=t.title,n=t.className,i=t.activeClassName,s=t.style,l=t.resource,c=t.draggable,p=t.target,d={href:this.state.url.toString(),title:r,className:u(n,(e={},e[i]=this.isLinkActive(),e)),style:s,onClick:this.onClick,target:p};return!1===c?a.a(d,this.props.children):o.createElement(f.Draggable,{iri:l.value},a.a(d,this.props.children))},ResourceLink.defaultProps={target:"_self"},ResourceLink}(p.Component);function isSimpleClick(e){return 0===e.button&&!(e.ctrlKey||e.metaKey)}t.ResourceLink=m,t.isSimpleClick=isSimpleClick},23:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(29);t.Rdf=n;var i=r(218);t.vocabularies=i;var o=r(263);t.turtle=o;var a=r(966);t.ObjectGraph=a;var s=r(967);t.XsdDataTypeValidation=s},263:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(332),i=r(19),o=r(16),a=r(29),s=r(218),u=n.Util;!function(e){function tripleToN3(e){var t={subject:nodeToN3(e.s),predicate:nodeToN3(e.p),object:nodeToN3(e.o)};return o.isUndefined(e.g)||e.g.equals(a.DEFAULT_GRAPH)||(t.graph=nodeToN3(e.g)),t}function nodeToN3(e){return e.cata((function(e){return e.value}),(function(e){return literalToN3(e)}),(function(e){return e.value}))}function literalToN3(e){return e.language?'"'+e.value+'"@'+e.language:'"'+e.value+'"^^'+e.datatype.value}e.Format={Turtle:"turtle",NTriples:"N-Triples",Trig:"application/trig",NQuads:"N-Quads"},e.serializeGraph=function serializeGraph(t,r){void 0===r&&(r=e.Format.Turtle);var o=n.Writer({format:r});return t.triples.forEach((function(e){return o.addTriple(tripleToN3(e))})),i.fromNodeCallback(o.end.bind(o)).toProperty()},e.tripleToN3=tripleToN3,e.nodeToN3=nodeToN3,e.literalToN3=literalToN3}(t.serialize||(t.serialize={})),function(e){function turtleToTriples(e){return i.stream((function(t){initN3Parser(t,e)})).scan((function(e,t){return e.push(t),e}),[]).last()}function n3TripleToRdf(e){return a.triple(n3ValueToRdf(e.subject),n3ValueToRdf(e.predicate),n3ValueToRdf(e.object))}function n3ValueToRdf(e){if(u.isIRI(e)||""===e)return a.iri(e);if(u.isLiteral(e))return n3LiteralToRdf(e);if(u.isBlank(e))return a.bnode(e);throw new Error("Invalid rdf value: "+e)}function n3LiteralToRdf(e){switch(u.getLiteralType(e)){case s.rdf.langString.value:return a.langLiteral(u.getLiteralValue(e),u.getLiteralLanguage(e));default:return a.literal(u.getLiteralValue(e),a.iri(u.getLiteralType(e)))}}function initN3Parser(e,t){var r=n.Parser();return r.parse(t,(function(t,r,n){t&&e.error(t),null!=r?e.emit(n3TripleToRdf(r)):e.end()})),r}e.turtleToGraph=function turtleToGraph(e){return turtleToTriples(e).map(a.graph)},e.turtleToTriples=turtleToTriples,e.n3TripleToRdf=n3TripleToRdf,e.n3ValueToRdf=n3ValueToRdf,e.n3LiteralToRdf=n3LiteralToRdf,e.initN3Parser=initN3Parser}(t.deserialize||(t.deserialize={}))},271:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(43),i=r(16),o=r(182),a=function(){function QueryVisitor(){}return Object.defineProperty(QueryVisitor.prototype,"currentMember",{get:function(){return this.nodeMember},enumerable:!0,configurable:!0}),QueryVisitor.prototype.visitMember=function(e,t,r){this.nodeMember=t;var n=t,i=r.call(this,e[n]);return void 0!==i&&(e[n]=i),i},QueryVisitor.prototype.sparqlQuery=function(e){return"query"===e.type?this.query(e):"update"===e.type?this.update(e):void 0},QueryVisitor.prototype.query=function(e){if("SELECT"===e.queryType){var t=this.select(e);if(void 0===t)return;if(o.isQuery(t))return t;this.throwUnexpected(t,{expected:"Query",transformed:"SelectQuery"})}else{if("CONSTRUCT"===e.queryType)return this.construct(e);if("ASK"===e.queryType)return this.ask(e);if("DESCRIBE"===e.queryType)return this.describe(e)}},QueryVisitor.prototype.update=function(e){this.walkArray("updates",e.updates,this.updateOperation)},QueryVisitor.prototype.updateOperation=function(e){return o.isInsertDeleteOperation(e)?this.insertDelete(e):o.isManagementOperation(e)?this.managementOperation(e):void console.warn("Unknown UpdateOperation object "+JSON.stringify(e))},QueryVisitor.prototype.insertDelete=function(e){this.walkArray("insert",e.insert,this.quads),this.walkArray("delete",e.delete,this.quads),this.walkArray("where",e.where,this.pattern)},QueryVisitor.prototype.managementOperation=function(e){},QueryVisitor.prototype.valuesRows=function(e){var t=this,r=this.walkValuesVariables(e);e.forEach((function(e){for(var n in e)if(e.hasOwnProperty(n)){var i=n,a=r.get(n);void 0!==a&&(e[a]=e[n],delete e[n],i=a);var s=e[i],u=t.term(s);void 0!==u&&(e[i]=t.coerce(u,(function(e){return o.isTerm(e)&&e}),{expected:"Term",transformed:"VALUES row value"}))}}))},QueryVisitor.prototype.walkValuesVariables=function(e){var t=this;return n.List(e).reduce((function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e=e.add(r));return e}),n.Set()).reduce((function(e,r){var n=t.variableTerm(r);return void 0===n?e:o.isVariable(n)?e.set(r,n):void t.throwUnexpected(n,{expected:"?variable",transformed:"variable Term"})}),n.Map())},QueryVisitor.prototype.select=function(e){var t=this;if(this.walkBaseQuery(e),this.walkProjectionVariables(e.variables),e.from){var walkOnlyIri=function(e){return t.coerce(t.iri(e),(function(e){return o.isIri(e)&&e}),{expected:"<iri>",transformed:"IRI Term"})};this.walkArray("from.default",e.from.default,walkOnlyIri),this.walkArray("from.named",e.from.named,walkOnlyIri)}this.walkArray("group",e.group,this.grouping),this.walkArray("having",e.having,this.expression),this.walkArray("order",e.order,this.ordering)},QueryVisitor.prototype.grouping=function(e){this.visitMember(e,"expression",this.expression)},QueryVisitor.prototype.ordering=function(e){this.visitMember(e,"expression",this.expression)},QueryVisitor.prototype.construct=function(e){this.walkBaseQuery(e),this.walkArray("template",e.template,this.triple)},QueryVisitor.prototype.ask=function(e){this.walkBaseQuery(e)},QueryVisitor.prototype.describe=function(e){this.walkBaseQuery(e),this.walkProjectionVariables(e.variables)},QueryVisitor.prototype.pattern=function(e){if("bgp"===e.type)return this.coerce(this.bgp(e),(function(e){return o.isPattern(e)&&e}),{expected:"Pattern",transformed:"BgpPattern"});if(o.isBlockPattern(e))return this.block(e);if("filter"===e.type)return this.filter(e);if("bind"===e.type)return this.bind(e);if("values"===e.type)return this.valuesPattern(e);if(o.isQuery(e)){var t=e.queryType;if("SELECT"!==t)throw new Error("Invalid query Pattern: unexpected "+t+" query");return this.coerce(this.select(e),(function(e){return o.isPattern(e)&&e}),{expected:"Pattern",transformed:"SelectQuery"})}console.warn("Unknown pattern '"+JSON.stringify(e)+"'")},QueryVisitor.prototype.quads=function(e){return"bgp"===e.type?this.coerce(this.bgp(e),(function(e){return o.isQuads(e)&&e}),{expected:"Quads",transformed:"SelectQuery"}):"graph"===e.type?this.graphQuads(e):void console.warn("Unknown quads '"+JSON.stringify(e)+"'")},QueryVisitor.prototype.bgp=function(e){this.walkArray("triples",e.triples,this.triple)},QueryVisitor.prototype.graphQuads=function(e){var t=this;this.visitMember(e,"name",(function(e){var r=t.term(e);return t.coerce(r,(function(e){return o.isTerm(e)&&e}),{expected:"Term",transformed:"GraphQuads"})})),this.walkArray("triples",e.triples,this.triple)},QueryVisitor.prototype.block=function(e){return"graph"===e.type?this.graph(e):"service"===e.type?this.service(e):void this.walkArray("patterns",e.patterns,this.pattern)},QueryVisitor.prototype.graph=function(e){var t=this;this.visitMember(e,"name",(function(e){var r=t.term(e);return t.coerce(r,(function(e){return o.isTerm(e)&&e}),{expected:"Term",transformed:"GraphPattern"})})),this.walkArray("patterns",e.patterns,this.pattern)},QueryVisitor.prototype.service=function(e){var t=this;this.visitMember(e,"name",(function(e){var r=t.term(e);return t.coerce(r,(function(e){return o.isTerm(e)&&e}),{expected:"Term",transformed:"ServicePattern"})})),this.walkArray("patterns",e.patterns,this.pattern)},QueryVisitor.prototype.filter=function(e){this.visitMember(e,"expression",this.expression)},QueryVisitor.prototype.bind=function(e){var t=this;this.visitMember(e,"expression",this.expression),this.visitMember(e,"variable",(function(e){var r=t.variableTerm(e);return t.coerce(r,(function(e){return o.isVariable(e)&&e}),{expected:"?variable",transformed:"variable Term"})}))},QueryVisitor.prototype.valuesPattern=function(e){this.visitMember(e,"values",this.valuesRows)},QueryVisitor.prototype.expression=function(e){return Array.isArray(e)?this.tuple(e):o.isTerm(e)?this.coerce(this.term(e),(function(e){return o.isExpression(e)&&e}),{expected:"Expression",transformed:"term-like Expression"}):"operation"===e.type?this.operation(e):"functionCall"===e.type?this.functionCall(e):"aggregate"===e.type?this.aggregate(e):o.isPattern(e)?this.walkPatternLikeExpression(e):void console.warn("Unknown expression '"+JSON.stringify(e)+"'")},QueryVisitor.prototype.walkPatternLikeExpression=function(e){var t=void 0;return"bgp"===e.type?t=this.bgp(e):"group"===e.type?t=this.block(e):console.warn("Unknown pattern-like Expression type '"+e.type+"'"),this.coerce(t,(function(e){return o.isExpression(e)&&e}),{expected:"Expression",transformed:"pattern-like Expression"})},QueryVisitor.prototype.operation=function(e){this.walkArray("args",e.args,this.expression)},QueryVisitor.prototype.functionCall=function(e){this.walkArray("args",e.args,this.expression)},QueryVisitor.prototype.aggregate=function(e){this.visitMember(e,"expression",this.expression)},QueryVisitor.prototype.variable=function(e){var t=this;if(o.isTerm(e)){var r=this.variableTerm(e);return this.coerce(r,(function(e){return o.isVariable(e)&&e}),{expected:"?variable",transformed:"variable Term"})}return this.visitMember(e,"expression",this.expression),void this.visitMember(e,"variable",(function(e){var r=t.variableTerm(e);return t.coerce(r,(function(e){return o.isVariable(e)&&e}),{expected:"?variable",transformed:"variable Term"})}))},QueryVisitor.prototype.tuple=function(e){this.walkArray(void 0,e,this.expression)},QueryVisitor.prototype.triple=function(e){var t=this;this.visitMember(e,"subject",(function(e){var r=t.term(e);return t.coerce(r,(function(e){return o.isTerm(e)&&e}),{expected:"Term",transformed:"subject Term"})})),this.visitMember(e,"predicate",(function(e){return o.isTerm(e)?t.term(e):t.propertyPath(e)})),this.visitMember(e,"object",(function(e){var r=t.term(e);return t.coerce(r,(function(e){return o.isTerm(e)&&e}),{expected:"Term",transformed:"object Term"})}))},QueryVisitor.prototype.term=function(e){if(void 0!==e)return o.isVariable(e)?this.variableTerm(e):o.isLiteral(e)?this.literal(e):o.isBlank(e)?this.blank(e):o.isIri(e)?this.iri(e):void 0},QueryVisitor.prototype.variableTerm=function(e){},QueryVisitor.prototype.literal=function(e){},QueryVisitor.prototype.blank=function(e){},QueryVisitor.prototype.iri=function(e){},QueryVisitor.prototype.propertyPath=function(e){var t=this;this.walkArray("items",e.items,(function(e){return o.isTerm(e)?t.term(e):t.propertyPath(e)}))},QueryVisitor.prototype.walkBaseQuery=function(e){e.where&&this.walkArray("where",e.where,this.pattern),e.values&&this.visitMember(e,"values",this.valuesRows)},QueryVisitor.prototype.walkProjectionVariables=function(e){o.isStarProjection(e)||this.walkArray("variables",e,this.variable)},QueryVisitor.prototype.walkArray=function(e,t,r){if(null!=t){this.nodeMember=e;for(var n=0;n<t.length;)t[n]?n=this.walkItem(t,n,r):n++}},QueryVisitor.prototype.walkItem=function(e,t,r){var n=r.call(this,e[t]);return void 0!==n&&(e[t]=n),t+1},QueryVisitor.prototype.coerce=function(e,t,r){if(void 0!==e){var n=t(e);if("boolean"!=typeof n)return n;this.throwUnexpected(e,r)}},QueryVisitor.prototype.throwUnexpected=function(e,t){throw new Error(t.expected+" is expected as result of "+t.transformed+" transformation but "+JSON.stringify(e)+" was given")},QueryVisitor}();t.QueryVisitor=a,t.cloneQuery=function cloneQuery(e){var t=i.cloneDeep(e);if(e.prefixes&&Object.getPrototypeOf(e.prefixes)!==Object.getPrototypeOf(t.prefixes))for(var r in t.prefixes=Object.create(Object.getPrototypeOf(e.prefixes)),e.prefixes)e.prefixes.hasOwnProperty(r)&&(t.prefixes[r]=e.prefixes[r]);return t},t.default=a},272:function(e,t){function purgeRemoteTemplateCache(){t.remoteTemplateCache.clear()}Object.defineProperty(t,"__esModule",{value:!0}),t.remoteTemplateCache=new Map,t.purgeRemoteTemplateCache=purgeRemoteTemplateCache,t.defaultContextCache=new Map,t.purgeTemplateCache=function purgeTemplateCache(){t.defaultContextCache.clear(),purgeRemoteTemplateCache()}},273:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(985);function hasComponent(e){return!!n(e)}t.loadComponent=function loadComponent(e){if(hasComponent(e))return n(e).then((function(e){return e.default?e.default:e}));console.warn("component not found for tag "+e)},t.hasComponent=hasComponent},29:function(e,t,r){var n,i=r(11),o=r(16),a=r(33),s=r(43),u=r(223);!function(e){var t=function(){function Node(e){this._value=e}return Object.defineProperty(Node.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Node.cata=function(e,t,r){return function(n){return n.isIri()?e(n):n.isLiteral()?t(n):r(n)}},Node.prototype.hashCode=function(){return hashString(this.value)},Node.prototype.equals=function(e){return!(!e||"object"!=typeof e)&&this.value===e.value},Node.prototype.cata=function(e,t,r){return Node.cata(e,t,r)(this)},Node.prototype.isIri=function(){return this instanceof r},Node.prototype.isLiteral=function(){return this instanceof p},Node.prototype.isBnode=function(){return this instanceof f},Node.prototype.toString=function(){throw Error("Node.toString() is not implemented")},Node}();e.Node=t;var r=function(t){function Iri(){return null!==t&&t.apply(this,arguments)||this}var r;return i.__extends(Iri,t),Object.defineProperty(Iri.prototype,"termType",{get:function(){return"NamedNode"},enumerable:!0,configurable:!0}),Iri.prototype.equals=function(r){return t.prototype.equals.call(this,r)&&r instanceof e.Iri},Iri.prototype.toString=function(){return"<"+this.value+">"},Iri.prototype.toJSON=function(){return{termType:"NamedNode",value:this.value}},Iri.fromJSON=function(e){return new Iri(e.value)},i.__decorate([u.serializer,i.__metadata("design:type",Function),i.__metadata("design:paramtypes",[]),i.__metadata("design:returntype",void 0)],Iri.prototype,"toJSON",null),i.__decorate([u.deserializer,i.__metadata("design:type",Function),i.__metadata("design:paramtypes",["function"==typeof(r="undefined"!=typeof Pick&&Pick)?r:Object]),i.__metadata("design:returntype",void 0)],Iri,"fromJSON",null),Iri}(t);function iri(e){return new r(e)}e.Iri=r,e.iri=iri,e.fullIri=function fullIri(e){if(o.startsWith(e,"<")&&o.endsWith(e,">"))return iri(e.slice(1,-1));throw new Error("Expected IRI to be enclosed in <>, for "+e)},e.BASE_IRI=iri("");var n=iri("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),l=iri("http://www.w3.org/2001/XMLSchema#string"),c=iri("http://www.w3.org/2001/XMLSchema#boolean"),p=function(e){function Literal(t,r){var i=e.call(this,t)||this;return"string"==typeof r?(i._datatype=n,i._lang=r):(i._datatype=r,i._lang=""),i}return i.__extends(Literal,e),Object.defineProperty(Literal.prototype,"termType",{get:function(){return"Literal"},enumerable:!0,configurable:!0}),Object.defineProperty(Literal.prototype,"datatype",{get:function(){return this._datatype},enumerable:!0,configurable:!0}),Object.defineProperty(Literal.prototype,"language",{get:function(){return this._lang},enumerable:!0,configurable:!0}),Literal.prototype.toString=function(){return this.language?'"'+this.value+'"@'+this.language:'"'+this.value+'"^^'+this.datatype.toString()},Literal.prototype.equals=function(e){return!(!e||"object"!=typeof e)&&(e instanceof Literal&&this.value===e.value&&this.datatype.equals(e.datatype)&&this.language===e.language)},Literal.prototype.toJSON=function(){return{termType:"Literal",value:this.value,datatype:this.datatype,language:this.language}},Literal.fromJSON=function(e){var t=e.datatype?r.fromJSON(e.datatype):e.dataType,n="string"==typeof e.language?e.language:e.lang;return new Literal(e.value,n||t)},i.__decorate([u.serializer,i.__metadata("design:type",Function),i.__metadata("design:paramtypes",[]),i.__metadata("design:returntype",void 0)],Literal.prototype,"toJSON",null),i.__decorate([u.deserializer,i.__metadata("design:type",Function),i.__metadata("design:paramtypes",[Object]),i.__metadata("design:returntype",Literal)],Literal,"fromJSON",null),Literal}(t);e.Literal=p,e.literal=function literal(e,t){return"boolean"==typeof e?new p(e.toString(),c):new p(e,void 0===t?l:t)},e.langLiteral=function langLiteral(e,t){return new p(e,t)};var f=function(e){function BNode(){return null!==e&&e.apply(this,arguments)||this}var t;return i.__extends(BNode,e),Object.defineProperty(BNode.prototype,"termType",{get:function(){return"BlankNode"},enumerable:!0,configurable:!0}),BNode.prototype.toString=function(){return""+this.value},BNode.prototype.toJSON=function(){return{termType:"BlankNode",value:this.value}},BNode.fromJSON=function(e){return new BNode(e.value)},i.__decorate([u.serializer,i.__metadata("design:type",Function),i.__metadata("design:paramtypes",[]),i.__metadata("design:returntype",void 0)],BNode.prototype,"toJSON",null),i.__decorate([u.deserializer,i.__metadata("design:type",Function),i.__metadata("design:paramtypes",["function"==typeof(t="undefined"!=typeof Pick&&Pick)?t:Object]),i.__metadata("design:returntype",BNode)],BNode,"fromJSON",null),BNode}(t);e.BNode=f,e.bnode=function bnode(e){return o.isUndefined(e)?new f("_:"+Math.random().toString(36).substring(7)):new f(e.startsWith("_:")?e:"_:"+e)};var d=function(){function Triple(t,r,n,i){void 0===i&&(i=e.DEFAULT_GRAPH),this._s=t,this._p=r,this._o=n,this._g=i}return Object.defineProperty(Triple.prototype,"s",{get:function(){return this._s},enumerable:!0,configurable:!0}),Object.defineProperty(Triple.prototype,"p",{get:function(){return this._p},enumerable:!0,configurable:!0}),Object.defineProperty(Triple.prototype,"o",{get:function(){return this._o},enumerable:!0,configurable:!0}),Object.defineProperty(Triple.prototype,"g",{get:function(){return this._g},enumerable:!0,configurable:!0}),Triple.prototype.hashCode=function(){var e=1;return e=31*(e=31*(e=31*(e=31*e+(null==this.s?0:this.s.hashCode()))+(null==this.p?0:this.p.hashCode()))+(null==this.o?0:this.o.hashCode()))+(o.isUndefined(this.g)?0:this.g.hashCode())},Triple}();e.Triple=d,e.triple=function triple(e,t,r,n){return new d(e,t,r,n)};var m=function(){function Graph(e){this._triples=e}return Object.defineProperty(Graph.prototype,"triples",{get:function(){return this._triples},enumerable:!0,configurable:!0}),Graph}();function graph(e){return new m(s.Set(e))}e.Graph=m,e.graph=graph,e.union=function union(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return graph(s.Set(e).map((function(e){return e.triples})).flatten())};var y=function(){function PointedGraph(e,t){this._pointer=e,this._graph=t}return Object.defineProperty(PointedGraph.prototype,"pointer",{get:function(){return this._pointer},enumerable:!0,configurable:!0}),Object.defineProperty(PointedGraph.prototype,"graph",{get:function(){return this._graph},enumerable:!0,configurable:!0}),PointedGraph}();function hashString(e){for(var t=0,r=0;r<e.length;r++)t=31*t+e.charCodeAt(r)|0;return smi(t)}function smi(e){return e>>>1&1073741824|3221225471&e}function getValuesFromPropertyPath(e,t){var r=o.reduce(e,(function(e,r){return o.flatMap(e,(function(e){return t.graph.triples.filter((function(t){return t.s.equals(e)&&t.p.equals(r)})).toArray()})).map((function(e){return e.o}))}),[t.pointer]);return o.uniqBy(r,(function(e){return e.value}))}e.PointedGraph=y,e.pg=function pg(e,t){return new y(e,t)},e.hashString=hashString,e.smi=smi,e.DEFAULT_GRAPH=new r("default"),e.EMPTY_GRAPH=graph([]),e.getValueFromPropertyPath=function getValueFromPropertyPath(e,t){if(getValuesFromPropertyPath(e,t).length>1)throw new Error("more than one value found in the graph for property path "+e);return a.fromNullable(getValuesFromPropertyPath(e,t)[0])},e.getValuesFromPropertyPath=getValuesFromPropertyPath,e.getLocalName=function getLocalName(e){var t=e.indexOf("#");if(t<0&&(t=e.lastIndexOf("/")),t<0&&(t=e.lastIndexOf(":")),!(t<0))return e.substring(t+1)}}(n||(n={})),e.exports=n},303:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(11),i=r(1),o=r(0),a=r(23);t.SemanticContextTypes={semanticContext:o.object};var s=function(e){function SemanticContextProvider(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(SemanticContextProvider,e),SemanticContextProvider.prototype.getChildContext=function(){var e=this.context&&this.context.semanticContext||{},t=function deserializeContext(e){var t={},r=!1;if(e.bindings)for(var n in e.bindings)if(e.bindings.hasOwnProperty(n)){var i=e.bindings[n];"string"==typeof i&&(i=a.turtle.deserialize.n3ValueToRdf(i)),t[n]=i,r=!0}return{repository:e.repository,defaultGraphs:e.defaultGraphs,namedGraphs:e.namedGraphs,bindings:r?t:void 0}}(this.props),r=t.repository,n=t.bindings;return{semanticContext:{repository:r,defaultGraphs:t.defaultGraphs,namedGraphs:t.namedGraphs,bindings:mergeIfDefined(e.bindings,n),isDefault:!1}}},SemanticContextProvider.prototype.render=function(){return i.Children.only(this.props.children)},SemanticContextProvider.childContextTypes=t.SemanticContextTypes,SemanticContextProvider.contextTypes=t.SemanticContextTypes,SemanticContextProvider}(i.Component);t.SemanticContextProvider=s;var u=function(e){function BaseSemanticContextProvider(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(BaseSemanticContextProvider,e),BaseSemanticContextProvider.prototype.getChildContext=function(){var t=e.prototype.getChildContext.call(this);return{semanticContext:n.__assign(n.__assign({},t.semanticContext),{isDefault:!0})}},BaseSemanticContextProvider}(s);function mergeIfDefined(e,t){return e&&t?n.__assign(n.__assign({},e),t):e||(t||void 0)}t.BaseSemanticContextProvider=u,t.component=s,t.factory=i.createFactory(t.component),t.default=t.component},304:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(16);t.QUERY_PARAM_PREFIX="urlqueryparam",t.extractParams=function extractParams(e,r){return void 0===r&&(r=t.QUERY_PARAM_PREFIX),n.transform(e,(function(e,t,i){n.startsWith(i,r)&&(e[n.camelCase(i.substr(r.length))]=t);return e}))}},305:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(11),i=r(590),o=r(1),a=r(16),s=r(19),u=r(142),l=r(33),c=r(23),p=r(61),f=r(221),d=r(141),m=r(117),y=r(1079),g=r(659),v=r(519);t.getCurrentResource=v.getCurrentResource,t.__unsafe__setCurrentResource=v.__unsafe__setCurrentResource;var h,S=new Map,C=i.createBrowserHistory();function listen(e){var t=a.uniqueId();return S.set(t,e),function(){S.delete(t)}}C.listen((function(e,t){return init(e).onValue((function(e){return e.map((function(e){return notifyAll({url:e,action:t})}))}))})),t.listen=listen,t.navigationConfirmation=function navigationConfirmation(e){return listen({eventType:"BEFORE_NAVIGATE",callback:function(t,r){!function showNavigationConfirmationDialog(e,t){var onHide=function(){return m.getOverlaySystem().hide("navigation-confirmation")};m.getOverlaySystem().show("navigation-confirmation",o.createElement(y.NavigationConfirmationDialog,{onHide,message:e,onConfirm:function(e){onHide(),t(e)}}))}(e,r)}})},t.getCurrentRepository=function getCurrentRepository(){return h.search(!0).repository||"default"},t.getCurrentUrl=function getCurrentUrl(){return h};var P,E=!1;function navigateToResource(e,t,r,n){return E&&P(e,t)?s.constant(null):constructUrlForResource(e,t,r,n).flatMap(navigateToUrl).toProperty()}t.setFrameNavigation=function setFrameNavigation(e,t){E=e,P=t},t.navigateToResource=navigateToResource,t.openResourceInNewWindow=function openResourceInNewWindow(e,t,r){window.open(construcUrlForResourceSync(e,t,r).toString(),"_blank")},t.openExternalLink=function openExternalLink(e,t){return void 0===t&&(t="_blank"),confirmAll(e).filter((function(e){return e})).map((function(){window.open(e.toString(),t)}))};var R=u("/");function navigateToUrl(e){return confirmAll(e).filter((function(e){return e})).map((function(){if(e.equals(R)){navigateToResource(p.SparqlUtil.resolveIris([d.ConfigHolder.getGlobalConfig().homePage.value])[0]).onValue((function(){}))}else{var t=e.toString();C.push(t),g.persistRecentPages(t)}}))}function constructUrlForResource(e,t,r,i){return void 0===t&&(t={}),void 0===r&&(r="default"),void 0===i&&(i=""),f.getPrefixedUri(e).map((function(o){var a="default"===r?{}:{repository:r},s=d.ConfigHolder.getEnvironmentConfig().resourceUrlMapping.value;if(o.isJust){var l=u(""+s+o.get());return l.setQuery(n.__assign(n.__assign({},a),t)),l.fragment(i),l}return construcUrlForResourceSync(e,t,r,i)}))}function construcUrlForResourceSync(e,t,r,i){void 0===t&&(t={}),void 0===r&&(r="default"),void 0===i&&(i="");var o="default"===r?{}:{repository:r},a=d.ConfigHolder.getEnvironmentConfig().resourceUrlMapping.value,s=u(""+a);return s.setQuery(n.__assign(n.__assign(n.__assign({},o),t),{uri:e.value})),s.fragment(i),s}function init(e){return void 0===e&&(e=C.location),resolveResourceIri(h=u({path:e.pathname,query:e.search,fragment:e.hash})).map((function(e){return e.map(v.__unsafe__setCurrentResource).map((function(e){return h}))}))}function notifyAll(e){S.forEach((function(t){(function isNavigationListener(e){return"NAVIGATED"===e.eventType})(t)&&t.callback(e)}))}function confirmAll(e){var t=[];return S.forEach((function(r){!function isBeforeNavigationListener(e){return"BEFORE_NAVIGATE"===e.eventType}(r)?t.push(s.constant(!0)):t.push(s.fromCallback((function(t){return r.callback({action:"BEFORE_NAVIGATE",url:e},t)})).toProperty())})),s.combine(t).map(a.every).toProperty()}function resolveResourceIri(e){if(e.hasSearch("uri")){var t=e.search(!0).uri;return s.constant(l.Just(c.Rdf.iri(t)))}var r=e.path().substring("/resource/".length);return f.getFullIri(r)}t.navigateToUrl=navigateToUrl,t.refresh=function refresh(){notifyAll({url:h,action:"REFRESH"})},t.constructUrlForResource=constructUrlForResource,t.construcUrlForResourceSync=construcUrlForResourceSync,t.init=init,t.notifyAll=notifyAll,t.resolveResourceIri=resolveResourceIri,g.init(init,notifyAll)},308:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(11),i=r(1),o=r(23),a=r(63),s=r(328),u=r(56),l=r(225),c=function(e){function ResourceLinkContainer(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClick=function(e){e.preventDefault(),e.stopPropagation();var r=o.Rdf.iri(t.props.uri),n=t.context.semanticContext?t.context.semanticContext.repository:void 0,i=a.NavigationUtils.extractParams(t.props);l.isSimpleClick(e)&&"_self"===t.props.target?a.navigateToResource(r,i,n).onValue((function(){})):a.openResourceInNewWindow(r,i,n)},t}return n.__extends(ResourceLinkContainer,e),ResourceLinkContainer.prototype.render=function(){var e={onClick:this.onClick};return!1===this.props.draggable?i.cloneElement(i.Children.only(this.props.children),e):i.createElement(s.Draggable,{iri:this.props.uri},i.cloneElement(i.Children.only(this.props.children),e))},ResourceLinkContainer.defaultProps={target:"_self"},ResourceLinkContainer}(u.Component);t.ResourceLinkContainer=c,t.default=c},329:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(524),o=r(23),a=r(141),s=i.BrowserPersistence.adapter();function getOrComputePreferences(){if(!n){var e=function readPreferredUserLanguage(){var e=s.get("preferredLanguage")||{};if("string"==typeof e.userLanguageTag)return e.userLanguageTag;var t=a.ConfigHolder.getUIConfig().preferredLanguages;if(t.length>0)return t[0];return"en"}(),t=function computeLanguageRanks(){for(var e=new Map,t=1,r=a.ConfigHolder.getUIConfig().preferredLanguages,n=0,i=r;n<i.length;n++){var o=i[n];e.has(o)||e.set(o,t++)}e.has("")||e.set("",t++);return e}();n={preferredLanguage:e,languageRanks:t}}return n}t.getPreferredUserLanguage=function getPreferredUserLanguage(){return getOrComputePreferences().preferredLanguage},t.setPreferredUserLanguage=function setPreferredUserLanguage(e){s.update("preferredLanguage",{userLanguageTag:e}),n=void 0},t.selectPreferredLabel=function selectPreferredLabel(e,t){if(0!==e.length){for(var r,n=getOrComputePreferences().languageRanks,i=Number.MAX_SAFE_INTEGER,o=0,a=e;o<a.length;o++){var s=a[o],u=s.language;if(u===t)return s;var l=n.get(u);void 0===l&&(l=Number.MAX_SAFE_INTEGER-1),l<i&&(i=l,r=s)}return r}},t.resolveLabelWithFallback=function resolveLabelWithFallback(e,t){return e?e.value:o.Rdf.getLocalName(t.value)||t.value}},331:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(36),i=r(16),o=r(34),a=r(329),s=r(272),u=Object.keys({appId:null,iri:null,revision:null});function cleanRevisionInfo(e){return i.pick(e,u)}!function(e){e.loadTemplateSource=function loadTemplateSource(e){var t=n.get("/rest/template/source").query({iri:e}).type("application/json").accept("application/json");return o.requestAsProperty(t).mapErrors((function(e){return e.status})).map((function(e){return JSON.parse(e.text)}))},e.loadPageTemplateHtml=function loadPageTemplateHtml(e){var t=n.get("/rest/template/pageHtml").query({iri:e.value,preferredLanguage:a.getPreferredUserLanguage()}).type("application/json").accept("application/json");return o.requestAsProperty(t).map((function(e){return JSON.parse(e.text)}))},e.loadRenderedTemplate=function loadRenderedTemplate(e,t,r){var i=n.get("/rest/template/html").query({iri:e.value,preferredLanguage:a.getPreferredUserLanguage()}).query(r).type("application/json").accept("application/json");return t&&i.query({context:t.value}),o.requestAsProperty(i).mapErrors((function(e){return e.rawResponse})).map((function(e){return JSON.parse(e.text)}))},e.save=function save(e){var t=e.iri,r=e.targetAppId,i=e.sourceAppId,a=e.sourceRevision,u=e.rawContent;s.purgeTemplateCache();var l=n.put("/rest/template/source").query({iri:t,targetAppId:r,sourceAppId:i,sourceRevision:a}).send(u).type("text/html").accept("application/json");return o.requestAsProperty(l).mapErrors((function(e){return e.rawResponse})).map((function(e){return 201===e.status}))},e.getAllTemplateInfos=function getAllTemplateInfos(){var e=n.get("/rest/template/getAllInfo").type("application/json").accept("application/json");return o.requestAsProperty(e).mapErrors((function(e){return e.response.statusText})).map((function(e){return JSON.parse(e.text)}))},e.deleteTemplateRevisions=function deleteTemplateRevisions(e){var t=n.del("/rest/template/deleteRevisions").type("application/json").send(e.map(cleanRevisionInfo));return o.requestAsProperty(t).map((function(e){return!0}))},e.exportTemplateRevisions=function exportTemplateRevisions(e){var t=n.post("/rest/template/exportRevisions").type("application/json").accept("application/zip").on("request",(function(e){e.xhr.responseType="arraybuffer"})).send(e.map(cleanRevisionInfo));return o.requestAsProperty(t).mapErrors((function(e){return e.response.statusText}))},e.getStorageStatus=function getStorageStatus(){var e=n.get("/rest/template/storageStatus").accept("application/json");return o.requestAsProperty(e).mapErrors((function(e){return e.response.statusText})).map((function(e){return JSON.parse(e.text)}))}}(t.PageService||(t.PageService={}))},338:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(43),o=r(29);!function(e){e._NAMESPACE="http://www.w3.org/2001/XMLSchema#",e._DATATYPES_NAMESPACE="http://www.w3.org/2001/XMLSchema-datatypes#",e.iri=function(t){return o.iri(e._NAMESPACE+t)},e._string=e.iri("string"),e.langString=e.iri("langString"),e.integer=e.iri("integer"),e.float=e.iri("float"),e.double=e.iri("double"),e.boolean=e.iri("boolean"),e.date=e.iri("date"),e.time=e.iri("time"),e.dateTime=e.iri("dateTime"),e.decimal=e.iri("decimal"),e.anyURI=e.iri("anyURI"),e.positiveInteger=e.iri("positiveInteger"),e.negativeInteger=e.iri("negativeInteger"),e.nonPositiveInteger=e.iri("nonPositiveInteger"),e.nonNegativeInteger=e.iri("nonNegativeInteger"),e.LIST_TYPES=[{value:e.anyURI.value,label:"xsd:anyURI"},{value:e.integer.value,label:"xsd:integer"},{value:e.date.value,label:"xsd:date"},{value:e.dateTime.value,label:"xsd:dateTime"},{value:e._string.value,label:"xsd:string"},{value:e.langString.value,label:"xsd:langString"},{value:e.boolean.value,label:"xsd:boolean"},{value:e.double.value,label:"xsd:double"},{value:e.decimal.value,label:"xsd:decimal"}],e.NUMERIC_TYPES=i.Set([e.integer,e.positiveInteger,e.negativeInteger,e.nonPositiveInteger,e.nonNegativeInteger,e.float,e.double,e.decimal])}(n||(n={})),t.default=n},339:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(11);n.__exportStar(r(524),t),n.__exportStar(r(658),t)},34:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(19),i=r(634);t.Cancellation=i.Cancellation;var o=r(971);t.WrappingError=o.WrappingError;var a=r(972);t.BatchedPool=a.BatchedPool,t.requestAsProperty=function requestAsProperty(e){return n.stream((function(t){return e.then((function(e){t.emit(e),t.end()}),(function(e){t.error(e),t.end()})),function(){return e.abort()}})).toProperty()}},36:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(224),i=r(224);t.SuperAgentRequest=i.SuperAgentRequest,t.Response=i.Response;var o=null;function getAbsoluteUrl(e){return o?o+e:e}function del(e){return n.delete(getAbsoluteUrl(e))}t.init=function init(e){o=e},t.getBaseUrl=function getBaseUrl(){return o},t.options=function options(e){return n.options(getAbsoluteUrl(e))},t.get=function get(e){return n.get(getAbsoluteUrl(e))},t.post=function post(e){return n.post(getAbsoluteUrl(e))},t.put=function put(e){return n.put(getAbsoluteUrl(e))},t.patch=function patch(e){return n.patch(getAbsoluteUrl(e))},t.head=function head(e){return n.head(getAbsoluteUrl(e))},t.del=del,t.delete=del},394:function(e,t,r){var n,i=r(139),o=r(19),a=r(16),s=r(142),u=r(222),l=r(271),c=r(520),p=r(263),f=r(29),d=r(36),m=r(34);!function(e){var t,r;!function(e){e[e.QUERY=0]="QUERY",e[e.UPDATE=1]="UPDATE"}(e.SparqlOperationType||(e.SparqlOperationType={})),function(e){e[e.SELECT=0]="SELECT",e[e.CONSTRUCT=1]="CONSTRUCT",e[e.ASK=2]="ASK",e[e.DESCRIBE=3]="DESCRIBE"}(r=e.SparqlQueryForm||(e.SparqlQueryForm={})),e.stringToSparqlQueryForm={SELECT:r.SELECT,CONSTRUCT:r.CONSTRUCT,ASK:r.ASK,DESCRIBE:r.DESCRIBE};var n={JSON:"application/sparql-results+json"},y={TURTLE:"text/turtle"},g=((t={})[r.CONSTRUCT]=y.TURTLE,t[r.SELECT]=n.JSON,t[r.ASK]=n.JSON,t[r.DESCRIBE]=y.TURTLE,t);function prepareParsedQuery(e){return function(t){var r=function serializeParameters(e){return a.map(e,(function(e){return a.reduce(e,(function(e,t,r){return e["?"+r]=p.serialize.nodeToN3(t),e}),{})}))}(e);if(!1===a.isEmpty(r)){var n=a.cloneDeep(t);return n.where=n.where?n.where:[],n.where.unshift({type:"values",values:r}),n}return t}}function setBindings(e,t){var r=l.cloneQuery(e);return new c.VariableBinder(t).sparqlQuery(r),r}function sparqlJsonToSelectResult(e){var t=a.map(e.results.bindings,(function(e){return a.mapValues(e,sparqlSelectBindingValueToRdf)}));return{head:e.head,results:{bindings:t,distinct:e.results.distinct,ordered:e.results.ordered}}}function graphQuery(e,t,n){return sparqlQuery(e,t?r.CONSTRUCT:r.DESCRIBE,n).flatMap(p.deserialize.turtleToTriples).toProperty()}function sparqlQuery(e,t,r){return sendSparqlQuery(e,g[t],r)}function sendSparqlQuery(e,t,r){return void 0===r&&(r={}),sparqlQueryRequest({query:e,endpoint:r.endpoint,headers:{Accept:t},context:r.context})}function sparqlQueryRequest(e){var t,r=e.query,n=e.endpoint,a=void 0===n?"/sparql":n,l=e.headers,c=e.context,p=void 0===c?{}:c,f=new s(a);p.repository&&f.addQuery({repository:p.repository}),p.defaultGraphs&&f.addQuery({"default-graph-uri":p.defaultGraphs}),p.namedGraphs&&f.addQuery({"named-graph-uri":p.namedGraphs});try{t="string"==typeof r?u.parseQuerySync(r):r}catch(e){return o.constantError(e)}var y=p.bindings?setBindings(t,p.bindings):t,g=u.serializeQuery(y),v=i({"Content-Type":"application/sparql-query; charset=utf-8"},l),h=d.post(f.toString()).send(g).set(v);return m.requestAsProperty(h).map((function(e){return e.text}))}function sparqlSelectBindingValueToRdf(e){return"uri"===e.type?f.iri(e.value):"literal"===e.type?function sparqlSelectBindingLiteralToRdf(e){return a.isUndefined(e["xml:lang"])?a.isUndefined(e.datatype)?f.literal(e.value):f.literal(e.value,f.iri(e.datatype)):f.langLiteral(e.value,e["xml:lang"])}(e):f.bnode(e.value)}e.prepareQuery=function prepareQuery(e,t){return o.constant(u.parseQuerySync(e)).map(prepareParsedQuery(t))},e.prepareParsedQuery=prepareParsedQuery,e.setBindings=setBindings,e.setTextBindings=function setTextBindings(e,t){var r=l.cloneQuery(e);return new c.TextBinder(t).sparqlQuery(r),r},e.construct=function construct(e,t){return graphQuery(e,!0,t)},e.describe=function describe(e,t){return graphQuery(e,!1,t)},e.select=function select(e,t){return sparqlQuery(e,r.SELECT,t).map((function(e){return sparqlJsonToSelectResult(JSON.parse(e))}))},e.sparqlJsonToSelectResult=sparqlJsonToSelectResult,e.ask=function ask(e,t){return sparqlQuery(e,r.SELECT,t).map((function(e){return JSON.parse(e).boolean}))},e.sparqlQuery=sparqlQuery,e.sendSparqlQuery=sendSparqlQuery,e.sparqlQueryRequest=sparqlQueryRequest,e.executeSparqlUpdate=function executeSparqlUpdate(e,t){void 0===t&&(t={});var r=t.endpoint,n=void 0===r?"/sparql":r,i=t.context,o=void 0===i?{}:i,a=n;o.repository&&(a+="?"+s.buildQuery({repository:o.repository}));var l="string"==typeof e?u.parseQuerySync(e):e,c=o.bindings?setBindings(l,o.bindings):l,p=u.serializeQuery(c),f=d.post(a).send(p).set("Content-Type","application/sparql-query; charset=utf-8").set("Accept","text/boolean");return m.requestAsProperty(f).map((function(e){return e.body}))}}(n||(n={})),e.exports=n},395:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(43),i=r(181);t.registerSerializersAndDeserializers=function registerSerializersAndDeserializers(){i.serializerFor({name:"Immutable.Set",predicate:function(e){return e instanceof n.Set},serializer:function(e){return e.toArray()}}),i.deserializerFor({name:"Immutable.Set",deserializer:function(e){return n.Set(n.Seq.Indexed(e))}}),i.serializerFor({name:"Immutable.OrderedSet",predicate:function(e){return e instanceof n.OrderedSet},serializer:function(e){return e.toArray()}}),i.deserializerFor({name:"Immutable.OrderedSet",deserializer:function(e){return n.OrderedSet(n.Seq.Indexed(e))}}),i.serializerFor({name:"Immutable.List",predicate:function(e){return e instanceof n.List},serializer:function(e){return e.toArray()}}),i.deserializerFor({name:"Immutable.List",deserializer:function(e){return n.List(n.Seq.Indexed(e))}}),i.serializerFor({name:"Immutable.OrderedMap",predicate:function(e){return e instanceof n.OrderedMap},serializer:function(e){return e.toObject()}}),i.deserializerFor({name:"Immutable.OrderedMap",deserializer:function(e){return n.OrderedMap(n.Seq.Keyed(e))}}),i.serializerFor({name:"Immutable.Map",predicate:function(e){return e instanceof n.Map},serializer:function(e){return e.toObject()}}),i.deserializerFor({name:"Immutable.Map",deserializer:function(e){return n.Map(n.Seq.Keyed(e))}})},t.recordSerializer=function recordSerializer(e,t){i.serializerFor({name:e,predicate:function(e){return e instanceof t},serializer:function(e){return e.toObject()}}),i.deserializerFor({name:e,deserializer:function(e){return new t(e)}})}},511:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(29);!function(e){e._NAMESPACE="http://www.w3.org/1999/02/22-rdf-syntax-ns#",e.iri=function(t){return i.iri(e._NAMESPACE+t)},e.type=e.iri("type"),e.langString=e.iri("langString"),e.first=e.iri("first"),e.rest=e.iri("rest"),e.nil=e.iri("nil"),e.value=e.iri("value")}(n||(n={})),t.default=n},519:function(e,t){var r;Object.defineProperty(t,"__esModule",{value:!0}),t.getCurrentResource=function getCurrentResource(){return r},t.__unsafe__setCurrentResource=function __unsafe__setCurrentResource(e){r=e}},520:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(11),i=r(263),o=r(271),a=r(182),s=function(e){function VariableBinder(t){var r=e.call(this)||this;return r.replacements=t,r}return n.__extends(VariableBinder,e),VariableBinder.prototype.tryReplace=function(e){var t=this.replacements[e];return void 0!==t?i.serialize.nodeToN3(t):void 0},VariableBinder.prototype.variableTerm=function(e){var t=e.substring(1);return this.tryReplace(t)},VariableBinder}(o.QueryVisitor);t.VariableBinder=s;var u=function(e){function PropertyPathBinder(t){var r=e.call(this)||this;return r.replacements=t,r}return n.__extends(PropertyPathBinder,e),PropertyPathBinder.prototype.variableTerm=function(e){if("predicate"===this.currentMember){var t=this.replacements[e.substring(1)];return PropertyPathBinder.normalize(t)}},PropertyPathBinder.normalize=function(e){if(void 0!==e){var t=e.pathType;if(1===e.items.length&&("|"===t||"/"===t)){var r=e.items[0];return a.isTerm(r)?r:PropertyPathBinder.normalize(r)}return e}},PropertyPathBinder}(o.QueryVisitor);t.PropertyPathBinder=u;var l=function(e){function TextBinder(t){var r=e.call(this)||this;return r.replacements=t,r}return n.__extends(TextBinder,e),TextBinder.prototype.literal=function(e){for(var t=0,r=this.replacements;t<r.length;t++){var n=r[t],i=n.test,o=n.replace;if(i.test(e))return e.replace(i,o)}},TextBinder}(o.QueryVisitor);t.TextBinder=l;var c=function(e){function PatternBinder(t,r){var n=e.call(this)||this;return n.placeholderFound=!1,n.placeholder="?"+t,n.patterns=r,n}return n.__extends(PatternBinder,e),PatternBinder.prototype.filter=function(t){return a.isTerm(t.expression)&&t.expression===this.placeholder?void(this.placeholderFound=!0):e.prototype.filter.call(this,t)},PatternBinder.prototype.walkItem=function(t,r,i){var o=e.prototype.walkItem.call(this,t,r,i);return this.placeholderFound?(this.placeholderFound=!1,t.splice.apply(t,n.__spreadArrays([r,1],this.patterns)),r+this.patterns.length):o},PatternBinder}(o.QueryVisitor);t.PatternBinder=c;var p=function(e){function VariableRenameBinder(t,r){var n=e.call(this)||this;return n.fromVariable=t,n.toVariable=r,n}return n.__extends(VariableRenameBinder,e),VariableRenameBinder.prototype.variableTerm=function(e){if(e.substring(1)===this.fromVariable)return"?"+this.toVariable},VariableRenameBinder}(o.QueryVisitor);t.VariableRenameBinder=p},522:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(11),i=r(654),o=r(16),a=r(34),s=r(23),u=r(61),l=r(523),c=r(272),p=r(331);t.fetchRemoteTemplate=function fetchRemoteTemplate(e){if(c.remoteTemplateCache.has(e.value))return c.remoteTemplateCache.get(e.value);var t=p.PageService.loadPageTemplateHtml(e).toPromise().then((function(e){return l.escapeRemoteTemplateHtml(e.templateHtml)})).then(parseTemplate).catch((function(t){return Promise.reject(new a.WrappingError("Failed to load the source of template "+e,t))}));return c.remoteTemplateCache.set(e.value,t),t};var f=function(e){function IRIResolvingCompiler(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(IRIResolvingCompiler,e),IRIResolvingCompiler.prototype.nameLookup=function(t,r,n){if("partial"===n&&"string"==typeof r&&isRemoteReference(r)){var i=function resolveTemplateIri(e){return e.startsWith("http:/")?s.Rdf.iri(e):u.SparqlUtil.resolveIris([e])[0]}(r);return e.prototype.nameLookup.call(this,t,i.value,n)}return e.prototype.nameLookup.call(this,t,r,n)},IRIResolvingCompiler}(i.JavaScriptCompiler);function isRemoteReference(e){return e.includes(":")}f.prototype.compiler=f,t.isRemoteReference=isRemoteReference;var d=function(e){function RemoteTemplateScanner(){var t=null!==e&&e.apply(this,arguments)||this;return t.localReferences=new Set,t.remoteReferences=[],t}return n.__extends(RemoteTemplateScanner,e),RemoteTemplateScanner.prototype.PartialStatement=function(e){this.addReference(e)},RemoteTemplateScanner.prototype.PartialBlockStatement=function(e){this.addReference(e)},RemoteTemplateScanner.prototype.addReference=function(e){var t=this.getPartialName(e.name);t&&0!==t.indexOf("@")&&(isRemoteReference(t)?this.remoteReferences.push(t):this.localReferences.add(t))},RemoteTemplateScanner.prototype.getPartialName=function(e){if("PathExpression"===e.type){var t=e;if(1===t.parts.length)return t.original}else if("StringLiteral"===e.type)return e.value},RemoteTemplateScanner}(i.Visitor);function parseTemplate(e){var t="string"==typeof e?i.parse(e):e,r=new d;r.accept(t);var n=r.localReferences,a=o.partition(r.remoteReferences,(function(e){return e.startsWith("http")})),s=a[0],l=a[1];return s.forEach((function(e){return n.add(e)})),u.SparqlUtil.resolveIris(l).map((function(e){return e.value})).forEach((function(e){return n.add(e)})),{source:e,ast:t,references:Array.from(n.values())}}t.createHandlebarsWithIRILookup=function createHandlebarsWithIRILookup(){var e=i.create();return e.JavaScriptCompiler=f,e},t.parseTemplate=parseTemplate},523:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(11),i=r(373),o=r(370);function isTemplate(e){return"tag"===e.type&&"template"===e.name}function escapeTemplateBody(e){var t=void 0;for(var r in e.attribs)if(Object.prototype.hasOwnProperty.call(e.attribs,r)){var i=e.attribs[r],o=escapePartialReferences(i);o!==i&&(t||(t={}),t[r]=o)}var a={attribs:n.__assign(n.__assign({},e.attribs),t),children:e.children?e.children.map(escapeChild):e.children};return n.__assign(n.__assign({},e),a)}function escapeChild(e){if(isTemplate(e)){if(!e.children||e.children.every(isEmptyTextNode))return e;var t={start:"{{{{capture}}}}",end:"{{{{/capture}}}}"},r=t.start,i=t.end,o=n.__spreadArrays([{type:"text",data:r,parent:e}],e.children,[{type:"text",data:i,parent:e}]);return n.__assign(n.__assign({},e),{children:o})}return escapeTemplateBody(e)}function isEmptyTextNode(e){return"text"===e.type&&!e.data}function escapePartialReferences(e){if(e.indexOf("{{#>")>=0)throw new Error("Partial blocks ({{#>) are disallowed in the inline templates");var t={start:"{{{{capture}}}}",end:"{{{{/capture}}}}"},r=t.start,n=t.end;return e.replace(/({{>[^}"']+}})/g,r+"$1"+n)}t.isTemplate=isTemplate,t.extractTemplates=function extractTemplates(e){var t=!1,r=e.children.filter((function(e){return"template"===e.name})).filter((function(e){var r=void 0!==e.attribs.id;return r||(t=!0),r}));if(t)throw new Error("Missing an ID attribute for a mini-template in <"+e.name+">");return r.map((function(e){return{id:e.attribs.id,source:function extractTemplate(e){return function getInnerHtml(e){return e.children?e.children.map(o).join(""):""}(escapeTemplateBody(e))}(e)}}))},t.escapeRemoteTemplateHtml=function escapeRemoteTemplateHtml(e){var t=new i.Parser(null),renderTemplate=function(e){return o(escapeChild(e))};return t.parseWithInstructions("<div>"+e+"</div>",(function(e){return!0}),[{shouldProcessNode:function(e){return!0},processNode:function(e){return e}}]).then((function(e){return e.children.map(renderTemplate).join("\n")}))}},524:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(11),i=r(973),o=r(43),a=r(223),s=function(){function BrowserPersistenceClass(){this.storage=new i({storages:["local","memory"]}),this.storage.check("local")||console.warn("Local storage is not available. Data will be persisted to memory."),this.anyAdapter=this.createAdapter()}return BrowserPersistenceClass.prototype.createAdapter=function(){var e=this,get=function(t){var r=e.getRawItem(t);return"object"==typeof r&&null!==r?r:{}},set=function(t,r){e.setItem(t,r)};return{get,set,update:function(e,t){set(e,n.__assign(n.__assign({},get(e)),t))},remove:function(t){e.removeItem(t)}}},BrowserPersistenceClass.prototype.getItem=function(e,t){return o.fromJS(this.getRawItem(e,t))},BrowserPersistenceClass.prototype.getRawItem=function(e,t){var r=this.storage.get(e,{namespace:t});return a.deserialize(JSON.parse(r))},BrowserPersistenceClass.prototype.setItem=function(e,t,r){this.storage.set(e,JSON.stringify(a.serialize(t)),{namespace:r})},BrowserPersistenceClass.prototype.removeItem=function(e,t){this.storage.remove(e,{namespace:t})},BrowserPersistenceClass.prototype.adapter=function(){return this.anyAdapter},BrowserPersistenceClass}();t.BrowserPersistence=new s},525:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(11),i=r(526),o=r(974),a=r(976),s=r(977),u=r(978),l=r(979);t.DefaultHelpers=n.__assign(n.__assign(n.__assign(n.__assign(n.__assign(n.__assign({},i.DataContextFunctions),o.GenericFunctions),a.DateTimeFunctions),s.RdfFunctions),u.UriComponentFunctions),l.NumbersFunctions);var c=r(526);t.ContextCapturer=c.ContextCapturer,t.CapturedContext=c.CapturedContext},526:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(11),i=function(){function ContextCapturer(e){this.contexts=e}return ContextCapturer.generateUniqueContextKey=function(){return ContextCapturer.lastContextKey++,ContextCapturer.lastContextKey},ContextCapturer.prototype.captureContext=function(e){var t=e.context,r=e.data,n=ContextCapturer.generateUniqueContextKey();return this.contexts||(this.contexts=new Map),this.contexts.set(n,{context:t,data:cloneContextData(r)}),n},ContextCapturer.prototype.getResult=function(){return new o(this.contexts)},ContextCapturer.DATA_KEY="$contextCapturer",ContextCapturer.lastContextKey=0,ContextCapturer}();t.ContextCapturer=i;var o=function(){function CapturedContext(e){this.contexts=e}return CapturedContext.prototype.getContext=function(e){if(this.contexts){var t=this.contexts.get(e);return t||console.warn("Missing context for context key "+e),t}},CapturedContext.inheritAndCapture=function(e){var t=e&&e.contexts?new Map(e.contexts):void 0;return new i(t)},CapturedContext.DATA_KEY="$capturedContext",CapturedContext}();t.CapturedContext=o;var a=["root","index","key","first","last"];function cloneContextData(e){if(!e)return e;for(var t={},r=0,n=a;r<n.length;r++){var i=n[r];i in e&&(t[i]=e[i])}return"_parent"in e&&(t._parent=cloneContextData(e._parent)),t}function mergeDataContext(e,t){return isPlainObjectOrNothing(t)?isPlainObjectOrNothing(e)?n.__assign(n.__assign({},e),t):function hasAnyOwnKey(e){for(var t in e)if(e.hasOwnProperty(t))return!0;return!1}(t)?t:e:t}function isPlainObjectOrNothing(e){if(null==e)return!0;if("object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return!t||t===Object.getPrototypeOf({})}function overrideContextData(e,t){var r=n.__assign(n.__assign({},e),t);return e._parent&&t._parent&&(r._parent=overrideContextData(e._parent,t._parent)),r}t.DataContextFunctions={capture:function(e){var t=(e?e.data:{})[i.DATA_KEY];return t instanceof i?"{{#expose "+t.captureContext({context:this,data:e.data})+"}}"+e.fn(this)+"{{/expose}}":e.fn(this)},expose:function(e,t){if("number"!=typeof e)throw new Error("{{#expose}} context key is missing or not a number");var r=t?t.data:{},n=r[o.DATA_KEY],i=n instanceof o?n.getContext(e):void 0;return i?t.fn(mergeDataContext(i.context,this),{data:overrideContextData(r,i.data)}):t.fn(this)},bind:function(e){var t=mergeDataContext(this,e.hash);return e.fn(t)}}},528:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),i=r(16),o=r(116),a="__unsafeError",s=["componentWillMount","componentDidMount","componentWillReceiveProps","componentWillUpdate","componentDidUpdate","componentWillUnmount"];function wrap(e){return function(t){if(!(i.isUndefined(e.prototype)||!(e.prototype.hasOwnProperty(t)&&e.prototype[t]))){var r=e.prototype[t],safe=function(){var e;try{r.apply(this,arguments)}catch(t){console.error(t),this.setState(((e={})[a]=t,e))}};safe.__wrappedByErrorCatcher=!0,e.prototype[t]=safe}}}function wrapComponent(e){return function(t){if(i.isUndefined(t.prototype)||t instanceof o.ErrorNotification||t.__wrappedByErrorCatcher)return e.apply(this,arguments);t.__wrappedByErrorCatcher=!0,t.prototype.componentDidCatch||(t.prototype.componentDidCatch=defaultComponentDidCatch);var r=t.prototype.render;if(t.prototype.unstable_handleError||(t.prototype.unstable_handleError=function(e){var t;this.setState(((t={})[a]=e,t))}),t.prototype.render=function(){var e=getError(this);if(void 0!==e)return n.createElement(o.ErrorNotification,{errorMessage:e});try{return r.apply(this)}catch(e){return console.error(e),n.createElement(o.ErrorNotification,{errorMessage:e})}},i.forEach(s,wrap(t)),t.prototype.getChildContext){var u=t.prototype.getChildContext;t.prototype.getChildContext=function(){var e;if(void 0===getError(this))try{return u.apply(this)}catch(t){return console.error(t),void this.setState((e={},e[a]=t,e))}}}return e.apply(this,arguments)}}function defaultComponentDidCatch(e,t){var r;console.error(e),console.error(t.componentStack),this.setState(((r={})[a]=e,r))}function getError(e){return e.state?e.state[a]:void 0}t.safeReactCreateElement=wrapComponent(n.createElement),t.safeReactCreateFactory=wrapComponent(n.createFactory),t.initReactErrorCatcher=function initReactErrorCatcher(){}},56:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(11),i=r(1065);t.Component=i.PlatformComponent,t.ComponentProps=i.ComponentProps,t.ComponentContext=i.ComponentContext,t.ContextTypes=i.ContextTypes,t.ComponentChildContext=i.ComponentChildContext,n.__exportStar(r(303),t);var o=r(586);t.TemplateContext=o.TemplateContext,t.TemplateContextTypes=o.TemplateContextTypes},586:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(0);t.TemplateContextTypes={templateScope:n.object,templateDataContext:n.object}},587:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.EventMaker=function(e){return e}},593:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(19),i=r(36),o=r(43),a=r(34),s=function(){function BaseResourceService(e){this.pools=new Map,this.serviceUrl=e}return BaseResourceService.prototype.getPool=function(e){var t=this,r=getRepositoryFromContext(e);return this.pools.has(r)||this.pools.set(r,new a.BatchedPool({fetch:function(e){return t.fetchResources(e.toArray(),r)}})),this.pools.get(r)},BaseResourceService.prototype.getResource=function(e,t){return this.getPool(t).query(e.value)},BaseResourceService.prototype.getResources=function(e,t){var r=this;if(0===e.length)return n.constant(o.Map());var i=this.getPool(t);if(e.length>=i.batchSize){var a=getRepositoryFromContext(t);return this.fetchResources(e.map((function(e){return e.value})),a).map((function(t){return o.Map().withMutations((function(r){for(var n=0,i=e;n<i.length;n++){var o=i[n];r.set(o,t.get(o.value))}}))}))}return n.combine(e.map((function(e){return r.getResource(e,t).map((function(t){return[e,t]}))}))).map(o.Map).toProperty()},BaseResourceService.prototype.createRequest=function(e,t){return i.post(this.serviceUrl).send(e).query({repository:t}).type("application/json").accept("application/json")},BaseResourceService.prototype.fetchResources=function(e,t){var r=this.createRequest(e,t);return a.requestAsProperty(r).map((function(e){var t=e.body;return o.Map(t)}))},BaseResourceService}();function getRepositoryFromContext(e){return e&&e.repository?e.repository:"default"}t.BaseResourceService=s},594:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(11),i=r(1),o=r(35),a=r(7),s=r(142),u=r(16),l=r(305),c=r(304),p=function(e){function LinkComponent(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClick=function(e){e.preventDefault(),e.stopPropagation(),l.navigateToUrl(t.constructUrl(t.props)).onValue((function(){}))},t}return n.__extends(LinkComponent,e),LinkComponent.prototype.render=function(){var e,t=this.props,r=t.title,n=t.className,i=t.activeClassName,s={title:r,className:a(n,(e={},e[i]=this.isLinkActive(this.props),e)),onClick:this.onClick};return o.a(s,this.props.children)},LinkComponent.prototype.constructUrl=function(e){var t=e.url,r=c.extractParams(e);return s(t).setSearch(r)},LinkComponent.prototype.isLinkActive=function(e){var t=this.constructUrl(e);return l.getCurrentUrl().equals(t)&&(!!u.isUndefined(this.props.active)||this.props.active)},LinkComponent}(i.Component);t.LinkComponent=p,t.default=p},61:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(11),i=r(394);t.SparqlClient=i;var o=r(182);t.SparqlTypeGuards=o;var a=r(222);t.SparqlUtil=a,n.__exportStar(r(271),t);var s=r(394);t.QueryContext=s.QueryContext,n.__exportStar(r(520),t)},63:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(11),i=r(304);t.NavigationUtils=i,n.__exportStar(r(305),t)},633:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(11);n.__exportStar(r(594),t),n.__exportStar(r(220),t),n.__exportStar(r(308),t),n.__exportStar(r(225),t)},634:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(19),i=function(){function Cancellation(){this.isCancelled=!1,this.cancelHandlers=[]}return Object.defineProperty(Cancellation.prototype,"aborted",{get:function(){return this.isCancelled},enumerable:!0,configurable:!0}),Cancellation.prototype.map=function(e){if(this.isCancelled)return n.never().toProperty();var t=function subscribe(e){if(!e)throw new Error("source observable must be present");var t,r=!1,dispose=function(){r||(r=!0,t&&t.unsubscribe())};return{observable:n.stream((function(n){return r?n.end():t=e.observe({value:function(e){return n.emit(e)},error:function(e){return n.error(e)},end:function(){return n.end()}}),dispose})),dispose}}(e),r=t.observable,i=t.dispose;return this.onCancel(i),r.toProperty()},Cancellation.prototype.derive=function(){var e=new Cancellation;return this.isCancelled||this.onCancel((function(){return e.cancelAll()})),e},Cancellation.prototype.deriveAndCancel=function(e){return e.cancelAll(),this.derive()},Cancellation.prototype.onCancel=function(e){this.isCancelled?e():this.cancelHandlers.push(e)},Cancellation.prototype.offCancel=function(e){if(!this.isCancelled&&this.cancelHandlers){var t=this.cancelHandlers.findIndex(e);t>=0&&this.cancelHandlers.splice(t,1)}},Cancellation.prototype.cancelAll=function(){if(!this.isCancelled){this.isCancelled=!0;for(var e=0,t=this.cancelHandlers;e<t.length;e++){(0,t[e])()}this.cancelHandlers=void 0}},Cancellation.cancelled=new Cancellation,Cancellation}();t.Cancellation=i,i.cancelled.cancelAll()},637:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(162).EventMaker;!function(e){e.SetAdded=n("Components.SetManagement.SetAdded"),e.SetRenamed=n("Components.SetManagement.SetRenamed"),e.SetRemoved=n("Components.SetManagement.SetRemoved"),e.ItemAdded=n("Components.SetManagement.ItemAdded"),e.ItemRemoved=n("Components.SetManagement.ItemRemoved"),e.ItemSelected=n("Components.SetManagement.ItemSelected"),e.ItemsReordered=n("Components.SetManagement.ItemsReordered"),e.ItemsFiltered=n("Components.SetManagement.ItemsFiltered"),e.ItemsFetched=n("Components.SetManagement.ItemsFetched")}(t.SetManagementEvents||(t.SetManagementEvents={}))},640:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(36),i=r(34);t.getConfigsInGroup=function getConfigsInGroup(e){var t=n.get("/rest/config/"+e).type("application/json").accept("application/json");return i.requestAsProperty(t).map((function(e){return e.body}))},t.setConfig=function setConfig(e,t,r,o){var a=n.put("/rest/config/"+e+"/"+t).type("application/json").query({targetAppId:o}).send(r);return i.requestAsProperty(a).map((function(e){return e.ok}))},t.deleteConfig=function deleteConfig(e,t,r){var o=n.delete("/rest/config/"+e+"/"+t).query({targetAppId:r});return i.requestAsProperty(o).map((function(e){return e.ok}))},t.getStorageStatus=function getStorageStatus(){var e=n.get("/rest/config/storageStatus").type("application/json").accept("application/json");return i.requestAsProperty(e).map((function(e){return e.body}))},t.configValueToArray=function configValueToArray(e){return Array.isArray(e)?e:null==e?[]:[e.toString()]}},658:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(11),i=r(1),o=r(33),a=r(223),s=r(23),u=r(216),l=r(144);function isCustomElementTag(e){return e.indexOf("-")>=0}t.componentToGraph=function componentToGraph(e){var t=e.component,r=e.componentRoot,o=e.parentTemplateScope,c=e.semanticContext,p="string"==typeof t.type?t.type:"function"==typeof t.type?t.type.__htmlTag:void 0;if(!p)throw new Error("Cannot serialize component with unknown HTML tag");var f=s.Rdf.iri(u.persist.COMPONENT_TYPE_PREFIX+p),d=t.props,m=d.markupTemplateScope,y=d.children,g=n.__rest(d,["markupTemplateScope","children"]),v=m||o||l.TemplateScope.default,h=s.ObjectGraph.serialize(g,f),S=h.graph.triples.toArray();if(S.push(s.Rdf.triple(r,u.rdf.type,u.persist.PersistedComponent),s.Rdf.triple(r,u.persist.componentType,f),s.Rdf.triple(r,u.persist.componentProps,h.pointer)),y&&i.Children.count(y)>0){var C=i.Children.toArray(y).map((function(e,t){return componentToGraph({component:e,componentRoot:s.Rdf.bnode(),parentTemplateScope:v})})),P=s.ObjectGraph.serializeArray(C,(function(e){return e}));S.push.apply(S,P.graph.triples.toArray()),S.push(s.Rdf.triple(r,u.persist.componentChildren,P.pointer))}if(isCustomElementTag(p)){var E={templateProps:v.exportProps(),semanticContext:c},R=s.ObjectGraph.serialize(a.serialize(E),u.persist.componentContext);S.push.apply(S,R.graph.triples.toArray()),S.push(s.Rdf.triple(r,u.persist.componentContext,R.pointer))}return s.Rdf.pg(r,s.Rdf.graph(S))},t.graphToComponent=function graphToComponent(e,t){var r=t.triples.filter((function(t){return t.s.equals(e)&&t.p.equals(u.persist.componentType)})).first();if(!r)throw new Error("Missing componentType for "+e);var i=r.o.value,c=t.triples.filter((function(t){return t.s.equals(e)&&t.p.equals(u.persist.componentProps)})).first();if(!c)throw new Error("Missing componentProps for "+e);var p=c.o,f=o.fromNullable(t.triples.filter((function(t){return t.s.equals(e)&&t.p.equals(u.persist.componentChildren)})).first()).map((function(e){return e.o})),d=o.fromNullable(t.triples.filter((function(t){return t.s.equals(e)&&t.p.equals(u.persist.componentContext)})).first()).map((function(e){return e.o}));if(!i.startsWith(u.persist.COMPONENT_TYPE_PREFIX))throw new Error("Invalid componentType <"+i+"> for "+e);var m=i.substr(u.persist.COMPONENT_TYPE_PREFIX.length),y=s.ObjectGraph.deserialize(p,t),g=[],v={semanticContext:{}};if(f.isJust&&(g=s.ObjectGraph.deserializeArray(f.get(),t,(function(e){return graphToComponent(e,t).component}))),isCustomElementTag(m)&&d.isJust){var h=a.deserialize(s.ObjectGraph.deserialize(d.get(),t)),S=h.semanticContext,C=h.templateProps;v={semanticContext:S},y=n.__assign(n.__assign({},y),{markupTemplateScope:l.TemplateScope.create(C)})}return{component:{type:m,props:y,children:g},context:v}}},659:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(590),i=r(339),o=i.BrowserPersistence.getItem("recentPages");o=o&&0!==o.toArray().length?o.toArray():[],t.MemoryHistory=n.createMemoryHistory({initialEntries:o,initialIndex:0}),t.init=function init(e,r){t.MemoryHistory.listen((function(t,n){return e(t).onValue((function(e){return e.map((function(e){return r({url:e,action:n})}))}))}))},t.clearPersistedRecentPages=function clearPersistedRecentPages(){i.BrowserPersistence.setItem("recentPages",[])},t.persistRecentPages=function persistRecentPages(e){void 0===t.MemoryHistory.entries.map((function(e){return e.pathname+e.search})).find((function(t){return t===e}))?t.MemoryHistory.push(e):t.MemoryHistory.entries.push(t.MemoryHistory.entries.splice(t.MemoryHistory.entries.findIndex((function(t){return t.pathname+t.search===e})),1)[0]);var r=t.MemoryHistory.entries.map((function(e){return e.pathname+e.search}));r.length>12&&r.pop(),i.BrowserPersistence.setItem("recentPages",r)},t.resetMemoryHistory=function resetMemoryHistory(){t.MemoryHistory.entries=[]}},857:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(11),i=r(1),o=r(35),a=r(139),s=r(16),u=r(43),l=r(1),c=r(370),p=r(864),f=r(373),d=r(19),m=r(141),y=r(121),g=r(144),v=r(34),h=r(981),S=r(273),C=r(528),P=new f.ProcessNodeDefinitions(l),E=u.Set().asMutable(),R=customElements.define;function renderWebComponent(e,t,r,i){return i=i||g.TemplateScope.create({scopeTrace:{componentTag:e,componentId:t.id}}),function isComponentPermited(e){if(m.ConfigHolder.getUIConfig().enableUiComponentBasedSecurity){var t="ui:component:view:"+e.replace(/-/g,":");return y.Util.isPermitted(t)}return _}(e).toPromise().then((function(o){return o?S.loadComponent(e).then((function(e){return function createElementWithTemplateScope(e,t,r,i){var o=t;if(e.propTypes){if(e.propTypes.markupTemplateScope){var a={markupTemplateScope:i};o=n.__assign(n.__assign({},o),a)}}return C.safeReactCreateElement.apply(null,[e,o].concat(r))}(e,t,r,i)})):null}))}function processDefaultNode(e,t){return Promise.resolve(P.processDefaultNode(e,t))}function isCode(e){return"code"===e.name}function isCodeExample(e){return"mp-code-example"===e.name}function isCodeBlock(e){return"mp-code-block"===e.name}function isCodeChild(e){return e.parent&&("code"===e.parent.name||"mp-code-example"===e.parent.name||"mp-code-block"===e.parent.name)}function isStyle(e){return"style"===e.name}function isStyleChild(e){return e.parent&&"style"===e.parent.name}function isReactComponent(e){return S.hasComponent(e.name)}function isNativeComponent(e){return!S.hasComponent(e.name)&&"tag"===e.type&&-1!==e.name.indexOf("-")}function isValidNode(e){return"text"!==e.type||""!==s.trim(e.data)}function processNativeComponent(e,t){return Promise.resolve(o.div({dangerouslySetInnerHTML:{__html:c(e)}}))}function processCode(e){return function(t,r){var n=s.trim(p.decode(c(t.children))),o=htmlAttributesToReactProps(t.attribs),u=n.replace("\x3c!--[CDATA[","").replace("]]--\x3e","");return S.loadComponent(e).then((function(e){return i.createElement(e,a({codeText:u},o))}))}}function skipNode(e,t){return null}function processStyle(e,t){var r=e.children[0]?o.style({dangerouslySetInnerHTML:{__html:e.children[0].data}},null):o.style();return Promise.resolve(r)}function processReactComponent(e,t){var r;try{r=htmlAttributesToReactProps(e.attribs)}catch(t){var n='Error while processing attributes for component "'+e.name+"\":\n      ' + "+t.message;throw new Error(n)}var i=r.key&&!r.fixedKey?r.key:r.fixedKey?r.fixedKey:Math.random().toString(36).slice(2),o=a({key:i},r);if(s.startsWith(e.name,"semantic")&&!s.isUndefined(o.config)){var u=s.transform(o.config,(function(e,t,r){return e[attributeName(r)]=t,e}),{});o=a(o,u)}var c=void 0;try{c=extractTemplateScope(e)}catch(t){throw new v.WrappingError("Invalid template markup at <"+e.name+">",t)}return r.fixedKey&&r.reparentable?(delete o.key,renderWebComponent(e.name,o,t,c).then((function(e){return l.createElement(h.Reparentable,{uid:r.fixedKey},e)}))):renderWebComponent(e.name,o,t,c)}function extractTemplateScope(e){var t=g.TemplateParser.extractTemplates(e);if(0!==t.length)return t.reduce((function(e,t){var r=t.id,n=t.source;try{e.registerPartial(r,n)}catch(e){throw new v.WrappingError("Failed to register <template id='"+r+"'>",e)}return e}),g.TemplateScope.builder()).build()}customElements.define=function(e,t,r){return E.add(e),R.bind(customElements)(e,t,r)},t.init=function init(){},t.RAW_STYLE_ATTRIBUTE="__style",t.parseHtmlToReact=function parseHtmlToReact(e){var t=[{shouldProcessNode:isCodeExample,processNode:processCode("mp-code-example")},{shouldProcessNode:isCode,processNode:processCode("mp-code-highlight")},{shouldProcessNode:isCodeBlock,processNode:processCode("mp-code-block")},{shouldProcessNode:isCodeChild,processNode:skipNode},{shouldProcessNode:isStyle,processNode:processStyle},{shouldProcessNode:isStyleChild,processNode:skipNode},{shouldProcessNode:isReactComponent,processNode:processReactComponent},{shouldProcessNode:isNativeComponent,processNode:processNativeComponent},{shouldProcessNode:function(e){return!g.TemplateParser.isTemplate(e)},processNode:processDefaultNode}];return new f.Parser(l,{recognizeCDATA:!0}).parseWithInstructions('<div key="root">'+e+"</div>",isValidNode,t).then((function(e){return e.props.children}))},t.isWebComponent=function isWebComponent(e){return S.hasComponent(e)},t.renderWebComponent=renderWebComponent,t.extractTemplateScope=extractTemplateScope;var _=d.constant(!0);function htmlAttributesToReactProps(e){return s.transform(e,(function(e,r,n){return e[attributeName(n)]="style"===n?parseReactStyleFromCss(attributeValue(n,r)):attributeValue(n,r),"style"===n&&(e[t.RAW_STYLE_ATTRIBUTE]=attributeValue(n,r)),e}),{})}function attributeName(e){return"class"===e?"className":"data-flex-layout"===e||"data-flex-self"===e?e:function attributeNameToPropertyName(e){return e.replace(/^(x|data)[-_:]/i,"").replace(/[-_:](.)/g,(function(e,t){return t.toUpperCase()}))}(e)}function attributeValue(e,t){var r=p.decode(t);return"true"===r||"false"===r?JSON.parse(r):isNaN(+r)?function parseAttributeValue(e,t){if(!t)return null;var r=t.replace(/(\r\n|\n|\r|\t)/gm,""),n=r.match(/^{{1}.*}{1}$/)||r.match(/(^\[.*\]$)/),i=r.startsWith("{{")&&r.endsWith("}}");if(n&&!i)try{t=JSON.parse(n[0])}catch(t){var o='Failed to parse value for attribute "'+e+'" as JSON.\n                      Details: '+t.message;throw new Error(o)}return t}(e,r):+r}function parseReactStyleFromCss(e){if(!e)return{};for(var t={},r=0,n=e.split(";");r<n.length;r++){var i=n[r],o=i.indexOf(":");if(!(o<=0||o===i.length-1)){var a=s.camelCase(i.substring(0,o)),u=i.substring(o+1);t[a]=u}}return t}t.parseReactStyleFromCss=parseReactStyleFromCss},938:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(181),i=r(33);t.registerSerializersAndDeserializers=function registerSerializersAndDeserializers(){n.serializerFor({name:"Data.Maybe",predicate:function(e){return e instanceof i},serializer:function(e){return e.isNothing?{}:{value:e.get()}}}),n.deserializerFor({name:"Data.Maybe",deserializer:function(e){return e.value?i.Just(e.value):i.Nothing()}})}},939:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(10),i=r(181);t.registerSerializersAndDeserializers=function registerSerializersAndDeserializers(){i.serializerFor({name:"Moment",predicate:function(e){return n.isMoment(e)},serializer:function(e){return e.toISOString()}}),i.deserializerFor({name:"Moment",deserializer:function(e){return n(e,n.ISO_8601)}})}},941:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(29);!function(e){e._NAMESPACE="http://www.w3.org/2000/01/rdf-schema#",e.iri=function(t){return i.iri(e._NAMESPACE+t)},e.label=e.iri("label"),e.domain=e.iri("domain"),e.range=e.iri("range"),e.comment=e.iri("comment"),e.subClassOf=e.iri("subClassOf"),e.Resource=e.iri("Resource")}(n||(n={})),t.default=n},942:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(29);!function(e){e._NAMESPACE="http://purl.org/dc/elements/1.1/",e.contributor=i.iri(e._NAMESPACE+"contributor"),e.coverage=i.iri(e._NAMESPACE+"coverage"),e.creator=i.iri(e._NAMESPACE+"creator"),e.date=i.iri(e._NAMESPACE+"date"),e.description=i.iri(e._NAMESPACE+"description"),e.format=i.iri(e._NAMESPACE+"format"),e.identifier=i.iri(e._NAMESPACE+"identifier"),e.language=i.iri(e._NAMESPACE+"language"),e.publisher=i.iri(e._NAMESPACE+"publisher"),e.relation=i.iri(e._NAMESPACE+"relation"),e.rights=i.iri(e._NAMESPACE+"rights"),e.source=i.iri(e._NAMESPACE+"source"),e.subject=i.iri(e._NAMESPACE+"subject"),e.title=i.iri(e._NAMESPACE+"title"),e.type=i.iri(e._NAMESPACE+"type")}(n||(n={})),t.default=n},943:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(29);!function(e){e.NAMESPACE="http://purl.org/dc/terms/",e.iri=function(t){return i.iri(e.NAMESPACE+t)},e.subject=e.iri("subject")}(n||(n={})),t.default=n},944:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(29);!function(e){e._NAMESPACE="http://spinrdf.org/sp#",e.Query=i.iri(e._NAMESPACE+"Query"),e.Ask=i.iri(e._NAMESPACE+"Ask"),e.Select=i.iri(e._NAMESPACE+"Select"),e.Describe=i.iri(e._NAMESPACE+"Describe"),e.Construct=i.iri(e._NAMESPACE+"Construct"),e.Update=i.iri(e._NAMESPACE+"Update"),e.text=i.iri(e._NAMESPACE+"text")}(n||(n={})),t.default=n},945:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(29);!function(e){e._NAMESPACE="http://spinrdf.org/spl#",e.optionalProp=i.iri(e._NAMESPACE+"optional"),e.predicateProp=i.iri(e._NAMESPACE+"predicate"),e.valueTypeProp=i.iri(e._NAMESPACE+"valueType"),e.defaultValue=i.iri(e._NAMESPACE+"defaultValue"),e.Argument=i.iri(e._NAMESPACE+"Argument")}(n||(n={})),t.default=n},946:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(29);!function(e){e._NAMESPACE="http://spinrdf.org/spin#",e.Template=i.iri(e._NAMESPACE+"Template"),e.SelectTemplate=i.iri(e._NAMESPACE+"SelectTemplate"),e.ConstructTemplate=i.iri(e._NAMESPACE+"ConstructTemplate"),e.AskTemplate=i.iri(e._NAMESPACE+"AskTemplate"),e.UpdateTemplate=i.iri(e._NAMESPACE+"UpdateTemplate"),e.constraintProp=i.iri(e._NAMESPACE+"constraint"),e.bodyProp=i.iri(e._NAMESPACE+"body"),e.text=i.iri(e._NAMESPACE+"text")}(n||(n={})),t.default=n},947:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(29);!function(e){e._NAMESPACE="http://www.w3.org/ns/ldp#",e.iri=function(t){return i.iri(e._NAMESPACE+t)},e.Ascending=e.iri("Ascending"),e.BasicContainer=e.iri("BasicContainer"),e.constrainedBy=e.iri("constrainedBy"),e.Container=e.iri("Container"),e.contains=e.iri("contains"),e.Descending=e.iri("Descending"),e.DirectContainer=e.iri("DirectContainer"),e.hasMemberRelation=e.iri("hasMemberRelation"),e.IndirectContainer=e.iri("IndirectContainer"),e.insertedContentRelation=e.iri("insertedContentRelation"),e.isMemberOfRelation=e.iri("isMemberOfRelation"),e.member=e.iri("member"),e.membershipResource=e.iri("membershipResource"),e.MemberSubject=e.iri("MemberSubject"),e.NonRDFSource=e.iri("NonRDFSource"),e.Page=e.iri("Page"),e.pageSequence=e.iri("pageSequence"),e.pageSortCollation=e.iri("pageSortCollation"),e.pageSortCriteria=e.iri("pageSortCriteria"),e.PageSortCriterion=e.iri("PageSortCriterion"),e.pageSortOrder=e.iri("pageSortOrder"),e.pageSortPredicate=e.iri("pageSortPredicate"),e.PreferContainment=e.iri("PreferContainment"),e.PreferEmptyContainer=e.iri("PreferEmptyContainer"),e.PreferMembership=e.iri("PreferMembership"),e.PreferMinimalContainer=e.iri("PreferMinimalContainer"),e.RDFSource=e.iri("RDFSource"),e.Resource=e.iri("Resource")}(n||(n={})),t.default=n},948:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(29);!function(e){e._NAMESPACE="http://www.w3.org/ns/oa#",e.Annotation=i.iri(e._NAMESPACE+"Annotation"),e.SpecificResource=i.iri(e._NAMESPACE+"SpecificResource"),e.TextualBody=i.iri(e._NAMESPACE+"TextualBody"),e.RangeSelector=i.iri(e._NAMESPACE+"RangeSelector"),e.XPathSelector=i.iri(e._NAMESPACE+"XPathSelector"),e.TextPositionSelector=i.iri(e._NAMESPACE+"TextPositionSelector"),e.end=i.iri(e._NAMESPACE+"end"),e.hasBody=i.iri(e._NAMESPACE+"hasBody"),e.hasEndSelector=i.iri(e._NAMESPACE+"hasEndSelector"),e.hasRole=i.iri(e._NAMESPACE+"hasRole"),e.hasSelector=i.iri(e._NAMESPACE+"hasSelector"),e.hasSource=i.iri(e._NAMESPACE+"hasSource"),e.hasStartSelector=i.iri(e._NAMESPACE+"hasStartSelector"),e.hasTarget=i.iri(e._NAMESPACE+"hasTarget"),e.refinedBy=i.iri(e._NAMESPACE+"refinedBy"),e.start=i.iri(e._NAMESPACE+"start"),e.text=i.iri(e._NAMESPACE+"text")}(n||(n={})),t.default=n},949:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(29);!function(e){var iri=function(e){return i.iri("http://www.researchspace.org/resource/system/fields/"+e)};e.Field=iri("Field"),e.insert_pattern=iri("insertPattern"),e.select_pattern=iri("selectPattern"),e.delete_pattern=iri("deletePattern"),e.ask_pattern=iri("askPattern"),e.category=iri("category"),e.domain=iri("domain"),e.xsd_datatype=iri("xsdDatatype"),e.range=iri("range"),e.min_occurs=iri("minOccurs"),e.max_occurs=iri("maxOccurs"),e.order=iri("order"),e.default_value=iri("defaultValue"),e.valueset_pattern=iri("valueSetPattern"),e.autosuggestion_pattern=iri("autosuggestionPattern"),e.tree_patterns=iri("treePatterns"),e.testsubject=iri("testSubject")}(n||(n={})),t.default=n},950:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(29);!function(e){e._NAMESPACE="http://www.w3.org/ns/prov#",e.iri=function(t){return i.iri(e._NAMESPACE+t)},e.actedOnBehalfOf=e.iri("actedOnBehalfOf"),e.Activity=e.iri("Activity"),e.activity=e.iri("activity"),e.ActivityInfluence=e.iri("ActivityInfluence"),e.agent=e.iri("agent"),e.Agent=e.iri("Agent"),e.AgentInfluence=e.iri("AgentInfluence"),e.alternateOf=e.iri("alternateOf"),e.aq=e.iri("aq"),e.Association=e.iri("Association"),e.atLocation=e.iri("atLocation"),e.atTime=e.iri("atTime"),e.Attribution=e.iri("Attribution"),e.Bundle=e.iri("Bundle"),e.category=e.iri("category"),e.Collection=e.iri("Collection"),e.Communication=e.iri("Communication"),e.component=e.iri("component"),e.constraints=e.iri("constraints"),e.definition=e.iri("definition"),e.Delegation=e.iri("Delegation"),e.Derivation=e.iri("Derivation"),e.dm=e.iri("dm"),e.editorialNote=e.iri("editorialNote"),e.editorsDefinition=e.iri("editorsDefinition"),e.EmptyCollection=e.iri("EmptyCollection"),e.End=e.iri("End"),e.endedAtTime=e.iri("endedAtTime"),e.Entity=e.iri("Entity"),e.entity=e.iri("entity"),e.EntityInfluence=e.iri("EntityInfluence"),e.generated=e.iri("generated"),e.generatedAtTime=e.iri("generatedAtTime"),e.Generation=e.iri("Generation"),e.hadActivity=e.iri("hadActivity"),e.hadGeneration=e.iri("hadGeneration"),e.hadMember=e.iri("hadMember"),e.hadPlan=e.iri("hadPlan"),e.hadPrimarySource=e.iri("hadPrimarySource"),e.hadRole=e.iri("hadRole"),e.hadUsage=e.iri("hadUsage"),e.Influence=e.iri("Influence"),e.influenced=e.iri("influenced"),e.influencer=e.iri("influencer"),e.InstantaneousEvent=e.iri("InstantaneousEvent"),e.invalidated=e.iri("invalidated"),e.invalidatedAtTime=e.iri("invalidatedAtTime"),e.Invalidation=e.iri("Invalidation"),e.inverse=e.iri("inverse"),e.Location=e.iri("Location"),e.n=e.iri("n"),e.order=e.iri("order"),e.Organization=e.iri("Organization"),e.Person=e.iri("Person"),e.Plan=e.iri("Plan"),e.PrimarySource=e.iri("PrimarySource"),e.qualifiedAssociation=e.iri("qualifiedAssociation"),e.qualifiedAttribution=e.iri("qualifiedAttribution"),e.qualifiedCommunication=e.iri("qualifiedCommunication"),e.qualifiedDelegation=e.iri("qualifiedDelegation"),e.qualifiedDerivation=e.iri("qualifiedDerivation"),e.qualifiedEnd=e.iri("qualifiedEnd"),e.qualifiedForm=e.iri("qualifiedForm"),e.qualifiedGeneration=e.iri("qualifiedGeneration"),e.qualifiedInfluence=e.iri("qualifiedInfluence"),e.qualifiedInvalidation=e.iri("qualifiedInvalidation"),e.qualifiedPrimarySource=e.iri("qualifiedPrimarySource"),e.qualifiedQuotation=e.iri("qualifiedQuotation"),e.qualifiedRevision=e.iri("qualifiedRevision"),e.qualifiedStart=e.iri("qualifiedStart"),e.qualifiedUsage=e.iri("qualifiedUsage"),e.Quotation=e.iri("Quotation"),e.Revision=e.iri("Revision"),e.Role=e.iri("Role"),e.sharesDefinitionWith=e.iri("sharesDefinitionWith"),e.SoftwareAgent=e.iri("SoftwareAgent"),e.specializationOf=e.iri("specializationOf"),e.Start=e.iri("Start"),e.startedAtTime=e.iri("startedAtTime"),e.todo=e.iri("todo"),e.unqualifiedForm=e.iri("unqualifiedForm"),e.Usage=e.iri("Usage"),e.used=e.iri("used"),e.value=e.iri("value"),e.wasAssociatedWith=e.iri("wasAssociatedWith"),e.wasAttributedTo=e.iri("wasAttributedTo"),e.wasDerivedFrom=e.iri("wasDerivedFrom"),e.wasEndedBy=e.iri("wasEndedBy"),e.wasGeneratedBy=e.iri("wasGeneratedBy"),e.wasInfluencedBy=e.iri("wasInfluencedBy"),e.wasInformedBy=e.iri("wasInformedBy"),e.wasInvalidatedBy=e.iri("wasInvalidatedBy"),e.wasQuotedFrom=e.iri("wasQuotedFrom"),e.wasRevisionOf=e.iri("wasRevisionOf"),e.wasStartedBy=e.iri("wasStartedBy")}(n||(n={})),t.default=n},951:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(29);!function(e){e.NAMESPACE="http://www.researchspace.org/ontologies/persist/",e.COMPONENT_TYPE_PREFIX=e.NAMESPACE+"components/",e.PersistedComponent=i.iri(e.NAMESPACE+"PersistedComponent"),e.componentType=i.iri(e.NAMESPACE+"componentType"),e.componentProps=i.iri(e.NAMESPACE+"componentProps"),e.componentChildren=i.iri(e.NAMESPACE+"componentChildren"),e.componentContext=i.iri(e.NAMESPACE+"componentContext"),e.JsonNull=i.iri(e.NAMESPACE+"json/null"),e.JsonUndefined=i.iri(e.NAMESPACE+"json/undefined")}(n||(n={})),t.default=n},952:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(29);!function(e){e._NAMESPACE="http://www.researchspace.org/resource/system/",e.SyntheticJsonDatatype=i.iri(e._NAMESPACE+"syntheticJson"),e.UserSetContainer=i.iri(e._NAMESPACE+"userSetContainer"),e.SetContainer=i.iri(e._NAMESPACE+"setContainer"),e.VisibilityContainer=i.iri(e._NAMESPACE+"visibilityContainer"),e.FieldDefinitionContainer=i.iri(e._NAMESPACE+"fieldDefinitionContainer"),e.FormContainer=i.iri(e._NAMESPACE+"formContainer"),e.OntodiaDiagramContainer=i.iri(e._NAMESPACE+"ontodiaDiagramContainer"),e.QueryContainer=i.iri(e._NAMESPACE+"queryContainer"),e.QueryTemplateContainer=i.iri(e._NAMESPACE+"queryTemplateContainer"),e.PersistedComponentContainer=i.iri(e._NAMESPACE+"persistedComponentContainer"),e.WorkflowContainer=i.iri(e._NAMESPACE+"workflowContainer"),e.WorkflowDefinitionContainer=i.iri(e._NAMESPACE+"workflowDefinitionContainer"),e.Set=i.iri(e._NAMESPACE+"Set"),e.SetItem=i.iri(e._NAMESPACE+"SetItem"),e.containerType=i.iri(e._NAMESPACE+"containerType"),e.setItem=i.iri(e._NAMESPACE+"setItem"),e.setItemIndex=i.iri(e._NAMESPACE+"setItemIndex"),e.clipboardItem=i.iri(e._NAMESPACE+"clipboardItem"),e.visibilityItem=i.iri(e._NAMESPACE+"visibilityItem"),e.visibility=i.iri(e._NAMESPACE+"visibility"),e.publicVisibility=i.iri(e._NAMESPACE+"visibilityPublic"),e.privateVisibility=i.iri(e._NAMESPACE+"visibilityPrivate"),e.sharedVisibility=i.iri(e._NAMESPACE+"visibilityShared"),e.groupVisibility=i.iri(e._NAMESPACE+"visibilityGroup"),e.visibleToGroups=i.iri(e._NAMESPACE+"visibleToGroups"),e.searchState=i.iri(e._NAMESPACE+"searchState"),e.searchResultCategory=i.iri(e._NAMESPACE+"searchResultCategory"),e.File=i.iri(e._NAMESPACE+"File"),e.fileName=i.iri(e._NAMESPACE+"fileName"),e.mediaType=i.iri(e._NAMESPACE+"mediaType"),e.fileContext=i.iri(e._NAMESPACE+"fileContext")}(n||(n={})),t.default=n},953:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(29);!function(e){var iri=function(e){return i.iri("http://www.researchspace.org/resource/system/workflow#"+e)};e.WorkflowInstantiation=iri("WorkflowInstantiation"),e.WorkflowDefinition=iri("WorkflowDefinition"),e.WorkflowState=iri("WorkflowState"),e.hasState=iri("hasState"),e.currentState=iri("currentState"),e.step=iri("step"),e.assignee=iri("assignee"),e.startTime=iri("startTime"),e.endTime=iri("endTime"),e.advancedBy=iri("advancedBy"),e.metadata=iri("metadata"),e.hasStep=iri("hasStep"),e.nextStep=iri("nextStep"),e.assigneeQuery=iri("assigneeQuery"),e.subject=iri("subject")}(n||(n={})),t.default=n},966:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(16),i=r(29),o=r(216),a=o.persist.JsonUndefined,s=o.persist.JsonNull;function propertyKeyToIriDefault(e,t){var r="number"==typeof e?"_item/"+e:encodeURIComponent(e);return i.iri(t.value+"/"+r)}function iriToPropertyKeyDefault(e){var t=e.value.substr(e.value.lastIndexOf("/")+1);return decodeURIComponent(t)}function serializeArray(e,t){if(0===e.length)return i.pg(o.rdf.nil,i.EMPTY_GRAPH);for(var r=o.rdf.nil,n=[],a=e.length-1;a>=0;a--){var s=i.bnode(),u=t(e[a],a),l=u.pointer,c=u.graph;n.push(i.triple(s,o.rdf.first,l)),n.push(i.triple(s,o.rdf.rest,r)),c.triples.forEach((function(e){return n.push(e)})),r=s}return i.pg(r,i.graph(n))}function deserializeObjectHelper(e,t,r){if(t.triples.some((function(t){return t.s.equals(e)&&t.p.equals(o.rdf.first)})))return deserializeArray(e,t,(function(e){return deserialize(e,t,r)}));var n={};return t.triples.filter((function(t){return t.s.equals(e)})).forEach((function(e){var i=r(e.p);i&&(n[i]=deserialize(e.o,t,r))})),n}function deserialize(e,t,r){return void 0===r&&(r=iriToPropertyKeyDefault),e.cata((function(e){return e.equals(o.rdf.nil)?[]:e.equals(a)?void 0:e.equals(s)?null:deserializeObjectHelper(e,t,r)}),(function(e){return e.datatype.equals(o.xsd._string)?e.value:e.datatype.equals(o.xsd.boolean)?"true"===e.value:e.datatype.equals(o.xsd.double)?parseFloat(e.value):e.datatype.equals(o.xsd.integer)?parseInt(e.value):void 0}),(function(e){return deserializeObjectHelper(e,t,r)}))}function deserializeArray(e,t,r){if(e.equals(o.rdf.nil))return[];for(var n=t.triples,i=[],a=e;!a.equals(o.rdf.nil);){var s=n.filter((function(e){return e.s.equals(a)&&e.p.equals(o.rdf.first)})).first(),u=n.filter((function(e){return e.s.equals(a)&&e.p.equals(o.rdf.rest)})).first();if(!s)throw new Error("Missing rdf:first triple for array "+e+" at node "+a);var l=r(s.o);i.push(l),a=u?u.o:o.rdf.nil}return i}t.propertyKeyToIriDefault=propertyKeyToIriDefault,t.iriToPropertyKeyDefault=iriToPropertyKeyDefault,t.serialize=function serialize(e,t,r){if(void 0===r&&(r=propertyKeyToIriDefault),void 0===typeof e)return i.pg(a,i.EMPTY_GRAPH);if(null===e)return i.pg(s,i.EMPTY_GRAPH);if("string"==typeof e)return i.pg(i.literal(e,o.xsd._string),i.EMPTY_GRAPH);if("boolean"==typeof e)return i.pg(i.literal(e,o.xsd.boolean),i.EMPTY_GRAPH);if("number"==typeof e)return Math.round(e)===e?i.pg(i.literal(e.toString(),o.xsd.integer),i.EMPTY_GRAPH):i.pg(i.literal(e.toString(),o.xsd.double),i.EMPTY_GRAPH);if(Array.isArray(e))return serializeArray(e,(function(e,n){return serialize(e,r(n,t))}));if(n.isPlainObject(e)){var u=i.bnode(),l=[];for(var c in e)if(e.hasOwnProperty(c)){var p=r(c,t),f=serialize(e[c],p,r),d=f.graph,m=f.pointer;m.equals(a)||(l.push.apply(l,d.triples.toArray()),l.push(i.triple(u,p,m)))}return i.pg(u,i.graph(l))}return i.pg(a,i.EMPTY_GRAPH)},t.serializeArray=serializeArray,t.deserialize=deserialize,t.deserializeArray=deserializeArray},967:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(29),o=r(511),a=r(338),s=new RegExp("^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$"),u=new RegExp("^[^\t\n\r]*$"),l=new RegExp("^([^\t\n\r ](?!.*  )([^\t\n\r]*[^\t\n\r ])?)?$"),c="-?([1-9][0-9]*)?[0-9]{4}",p="[0-9]{2}",f="[0-9]{2}:[0-9]{2}:[0-9]{2}(\\.[0-9]*)?",d="(Z|[-+][0-9][0-9]:[0-5][0-9])?",m=new RegExp("^"+c+"-"+p+"-[0-9]{2}"+d+"$"),y=new RegExp("^"+c+"-"+p+"-[0-9]{2}T"+f+d+"$"),g=new RegExp("^-?P(?!$)([0-9]+Y)?([0-9]+M)?([0-9]+D)?(T(?!$)([0-9]+H)?([0-9]+M)?([0-9]+(\\.[0-9]+)?S)?)?$"),v=new RegExp("^---[0-9]{2}"+d+"$"),h=new RegExp("^--"+p+d+"$"),S=new RegExp("^--"+p+"-[0-9]{2}"+d+"$"),C=new RegExp("^"+c+d+"$"),P=new RegExp("^"+c+"-"+p+d+"$"),E=new RegExp("^"+f+d+"$"),R=new RegExp("^[-+]?[0-9]+$"),_="[-+]?(?!$)[0-9]*(\\.[0-9]*)?",b=new RegExp("^"+_+"$"),A="[A-Za-z0-9+/]",T="("+A+" ?)",x=new RegExp("^(("+T+"{4})*(("+T+"{3}"+A+")|("+T+"{2}([AEIMQUYcgkosw048] ?)=)|("+T+"([AQgw] ?)= ?=)))?$"),w=new RegExp("(^true$)|(^false$)|(^0$)|(^1$)","i"),N=new RegExp("(^-?INF$)|(^NaN$)|(^"+_+"([Ee][-+]?[0-9]+)?$)"),I=new RegExp("^[0-9a-fA-F]*$");function failure(e,t,r){return{success:!1,message:e,child:t,errorPart:r}}function parseXsdDatatype(e){var t,r=(t="string"==typeof e?i.iri(e.replace(/^xsd:(.*)$/,a.default._NAMESPACE+"$1").replace(/^rdf:(.*)$/,o.default._NAMESPACE+"$1")):e).value.split("#");if(2===r.length){var n=r[0]+"#";if(n===a.default._NAMESPACE||n===a.default._DATATYPES_NAMESPACE)return{iri:t,prefix:"xsd",localName:r[1]};if(n===o.default._NAMESPACE)return{iri:t,prefix:"rdf",localName:r[1]}}}function datatypeToString(e){var t=parseXsdDatatype(e);return t?t.prefix+":"+t.localName:e.value}function datatypeEqual(e,t,r){if("boolean"===e.localName){var i=whitespace(r,n.COLLAPSE),o=whitespace(t,n.COLLAPSE);return i.toLowerCase()===o.toLowerCase()?{success:!0}:failure("Invalid value, expected is ["+o+"]",e,r)}if("float"===e.localName||"double"===e.localName||"decimal"===e.localName)return(i=parseFloat(r))===(o=parseFloat(t))?{success:!0}:failure("Invalid value, expected is ["+o+"]",e,r);if("integer"===e.localName||"long"===e.localName||"int"===e.localName||"short"===e.localName||"byte"===e.localName||"negativeInteger"===e.localName||"nonPositiveInteger"===e.localName||"nonNegativeInteger"===e.localName||"positiveInteger"===e.localName||"unsignedLong"===e.localName||"unsignedInt"===e.localName||"unsignedShort"===e.localName||"unsignedByte"===e.localName)return(i=parseInt(r))===(o=parseInt(t))?{success:!0}:failure("Invalid value, expected is ["+o+"]",e,r);if("anyURI"===e.localName)return(i=whitespace(r,n.COLLAPSE))===(o=whitespace(t,n.COLLAPSE))?{success:!0}:failure("Invalid value, expected is ["+o+"]",e,r);if("string"===e.localName||"normalizedString"===e.localName||"token"===e.localName||"language"===e.localName)return(i=whitespace(r,n.PRESERVE))===(o=whitespace(t,n.PRESERVE))?{success:!0}:failure("Invalid value, expected is ["+o+"]",e,r);if("base64Binary"===e.localName)return(i=r.replace(/ /g,""))===(o=t.replace(/ /g,""))?{success:!0}:failure("Invalid value, expected is ["+o+"]",e,r);if("hexBinary"===e.localName){i=whitespace(r,n.COLLAPSE),o=whitespace(t,n.COLLAPSE);return i.toUpperCase()===o.toUpperCase()?{success:!0}:failure("Invalid value, expected is ["+o+"]",e,r)}return console.warn("Unknown XSD datatype "+datatypeToString(e.iri)),{success:!0}}function whitespace(e,t,r){var i=t;return r&&r.forEach((function(e){"whitespace"in e&&(i=e.whitespace)})),i===n.REPLACE?e.replace(/[\t\n\r]/g," "):i===n.COLLAPSE?e.replace(/[\t\n\r ]+/g," ").replace(/^ /,"").replace(/ $/,""):e}function checkIntegerRange(e,t,r,n,i){var o=checkRegExp(R,r,n);if(!o.success)return o;var a=parseInt(r);return void 0!==e&&a<e?failure("Integer value is too small, minimum is "+e+" for datatype "+datatypeToString(n.iri),n,r):void 0!==t&&a>t?failure("Integer value is too big, maximum is "+t+" for datatype "+datatypeToString(n.iri),n,r):checkParams(r,n,i)}function checkRegExpAndParams(e,t,r,n){var i=checkRegExp(e,t,r);return i.success?checkParams(t,r,n):i}function checkRegExp(e,t,r){return e.test(t)?{success:!0}:failure("Invalid "+datatypeToString(r.iri),r,t)}function checkParams(e,t,r){for(var n=[],i=0,o=r;i<o.length;i++){var a=o[i];for(var s in a)if(a.hasOwnProperty(s)){var u=a[s];if("enumeration"===s)n.push(u);else if("whitespace"!==s){var l;if(!(l=checkParam(e,s,u,t)).success)return l}}}if(n.length>0&&!(l=function checkEnumeration(e,t,r){for(var n=0,i=t;n<i.length;n++){var o=escapeRegExp(l=i[n]),a=checkRegExp(new RegExp("^"+o+"$"),e,r);if(a.success)return a}for(var s="Invalid value "+e+", must be one of ["+t[0],u=1;u<t.length;u++){var l=t[u];s+=","+l}return failure(s+="]",r,e)}(e,n,t)).success)return l;return{success:!0}}function checkParam(e,t,r,n){if("length"===t){var i=parseInt(r,10);if(e.length!==i)return failure("Invalid number of characters, expected "+i+", found: "+e.length,n,e)}else if("minLength"===t){i=parseInt(r,10);if(e.length<i)return failure("String too small, "+t+" is "+i+", found: "+e.length,n,e)}else if("maxLength"===t){i=parseInt(r,10);if(e.length>i)return failure("String too long, "+t+" is "+i+", found: "+e.length,n,e)}else if("minInclusive"===t){i=parseFloat(r);if((o=parseFloat(e))<i)return failure("Value too small, "+t+" is "+i+", found: "+o,n,e)}else if("minExclusive"===t){i=parseFloat(r);if((o=parseFloat(e))<=i)return failure("Value too small, "+t+" is "+i+", found: "+o,n,e)}else if("maxInclusive"===t){i=parseFloat(r);if((o=parseFloat(e))>i)return failure("Value too big, "+t+" is "+i+", found: "+o,n,e)}else if("maxExclusive"===t){var o;i=parseFloat(r);if((o=parseFloat(e))>=i)return failure("Value too big, "+t+" is "+i+", found: "+o,n,e)}else if("totalDigits"===t){i=parseInt(r,10);var a=e.replace(/\./,"").length;if(a!==i)return failure("Invalid number of digits, "+t+" is "+i+", found: "+a,n,e)}else if("fractionDigits"===t){i=parseInt(r,10);if(!(s=checkRegExp(new RegExp("\\.[0-9]{"+i+"}$"),e,n)).success)return failure("Invalid number of fraction digits, expected: "+i,s,e)}else if("pattern"===t){var s,u=r.replace(/\\/gm,"\\\\");if(!(s=checkRegExp(new RegExp("^"+u+"$"),e,n)).success)return failure("Value "+e+" does not respect pattern: "+r,s,e)}return{success:!0}}function escapeRegExp(e){return e.replace(/\\/gm,"\\\\").replace(/([\f\b\n\t\r\[\^$|?*+(){}])/gm,"\\$1")}!function(e){e[e.PRESERVE=0]="PRESERVE",e[e.REPLACE=1]="REPLACE",e[e.COLLAPSE=2]="COLLAPSE"}(n||(n={})),t.parseXsdDatatype=parseXsdDatatype,t.replaceDatatypeAliases=function replaceDatatypeAliases(e){var t=parseXsdDatatype(e);return t?i.iri(a.default._NAMESPACE+t.localName):e},t.sameXsdDatatype=function sameXsdDatatype(e,t){var r=parseXsdDatatype(e),n=parseXsdDatatype(t);return r&&n?r.localName===n.localName:e.equals(t)},t.datatypeToString=datatypeToString,t.validate=function validate(e,t){var r=parseXsdDatatype(e.datatype);return r?(t||(t=[]),function datatypeAllows(e,t,r){if("date"===e.localName){var i=whitespace(t,n.COLLAPSE,r);return checkRegExpAndParams(m,i,e,r)}if("dateTime"===e.localName){i=whitespace(t,n.COLLAPSE,r);return checkRegExpAndParams(y,i,e,r)}if("gDay"===e.localName){i=whitespace(t,n.COLLAPSE,r);return checkRegExpAndParams(v,i,e,r)}if("gMonth"===e.localName){i=whitespace(t,n.COLLAPSE,r);return checkRegExpAndParams(h,i,e,r)}if("gMonthDay"===e.localName){i=whitespace(t,n.COLLAPSE,r);return checkRegExpAndParams(S,i,e,r)}if("gYear"===e.localName){i=whitespace(t,n.COLLAPSE,r);return checkRegExpAndParams(C,i,e,r)}if("gYearMonth"===e.localName){i=whitespace(t,n.COLLAPSE,r);return checkRegExpAndParams(P,i,e,r)}if("time"===e.localName){i=whitespace(t,n.COLLAPSE,r);return checkRegExpAndParams(E,i,e,r)}if("duration"===e.localName){i=whitespace(t,n.COLLAPSE,r);return checkRegExpAndParams(g,i,e,r)}if("boolean"===e.localName){i=whitespace(t,n.COLLAPSE,r);return checkRegExpAndParams(w,i,e,r)}if("base64Binary"===e.localName){i=whitespace(t,n.COLLAPSE,r);return checkRegExpAndParams(x,i,e,r)}if("hexBinary"===e.localName){i=whitespace(t,n.COLLAPSE,r);return checkRegExpAndParams(I,i,e,r)}if("float"===e.localName){i=whitespace(t,n.COLLAPSE,r);return checkRegExpAndParams(N,i,e,r)}if("double"===e.localName){i=whitespace(t,n.COLLAPSE,r);return checkRegExpAndParams(N,i,e,r)}if("anyURI"===e.localName){i=whitespace(t,n.COLLAPSE,r);return checkRegExpAndParams(new RegExp("^(([a-zA-Z][0-9a-zA-Z+\\-.]*:)?/{0,2}[0-9a-zA-Z;/?:@&=+$.\\-_!~*'()%]+)?(#[0-9a-zA-Z;/?:@&=+$.\\-_!~*'()%]+)?$"),i,e,r)}if("string"===e.localName||"langString"===e.localName)return checkParams(i=whitespace(t,n.PRESERVE,r),e,r);if("normalizedString"===e.localName){var i=whitespace(t,n.PRESERVE,r);return checkRegExpAndParams(u,i,e,r)}if("token"===e.localName){var i=whitespace(t,n.PRESERVE,r);return checkRegExpAndParams(l,i,e,r)}if("language"===e.localName){var i=whitespace(t,n.PRESERVE,r);return checkRegExpAndParams(s,i,e,r)}if("decimal"===e.localName){var i=whitespace(t,n.COLLAPSE,r);return checkRegExpAndParams(b,i,e,r)}if("integer"===e.localName){var i=whitespace(t,n.COLLAPSE,r);return checkRegExpAndParams(R,i,e,r)}return"long"===e.localName?checkIntegerRange(-0x8000000000000000,0x8000000000000000,i=whitespace(t,n.COLLAPSE,r),e,r):"int"===e.localName?checkIntegerRange(-2147483648,2147483647,i=whitespace(t,n.COLLAPSE,r),e,r):"short"===e.localName?checkIntegerRange(-32768,32767,i=whitespace(t,n.COLLAPSE,r),e,r):"byte"===e.localName?checkIntegerRange(-128,127,i=whitespace(t,n.COLLAPSE,r),e,r):"negativeInteger"===e.localName?checkIntegerRange(void 0,-1,i=whitespace(t,n.COLLAPSE,r),e,r):"nonPositiveInteger"===e.localName?checkIntegerRange(void 0,0,i=whitespace(t,n.COLLAPSE,r),e,r):"nonNegativeInteger"===e.localName?checkIntegerRange(0,void 0,i=whitespace(t,n.COLLAPSE,r),e,r):"positiveInteger"===e.localName?checkIntegerRange(1,void 0,i=whitespace(t,n.COLLAPSE,r),e,r):"unsignedLong"===e.localName?checkIntegerRange(0,0x10000000000000000,i=whitespace(t,n.COLLAPSE,r),e,r):"unsignedInt"===e.localName?checkIntegerRange(0,4294967295,i=whitespace(t,n.COLLAPSE,r),e,r):"unsignedShort"===e.localName?checkIntegerRange(0,65535,i=whitespace(t,n.COLLAPSE,r),e,r):"unsignedByte"===e.localName?checkIntegerRange(0,255,i=whitespace(t,n.COLLAPSE,r),e,r):(console.warn("Unknown XSD datatype "+datatypeToString(e.iri)),checkParams(i=whitespace(t,n.COLLAPSE,r),e,r))}(r,e.value,t)):failure("Unknown XSD datatype "+datatypeToString(e.datatype),{iri:e.datatype,localName:"",prefix:""},"")},t.equal=function equal(e,t){var r=parseXsdDatatype(e.datatype),n=parseXsdDatatype(t.datatype);return r?n?r.localName!==n.localName||r.prefix!==n.prefix?failure("Datatypes are not equal: "+datatypeToString(e.datatype)+" != "+datatypeToString(t.datatype),r,""):datatypeEqual(r,e.value,t.value):failure("Unknown XSD datatype "+datatypeToString(t.datatype),{iri:e.datatype,localName:"",prefix:""},""):failure("Unknown XSD datatype "+datatypeToString(e.datatype),{iri:e.datatype,localName:"",prefix:""},"")},t.datatypeEqual=datatypeEqual},971:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(11),i=function(e){function WrappingError(t,r){var n=e.call(this,WrappingError.formatMessage(t,r))||this;return n.innerError=r,Object.setPrototypeOf(n,WrappingError.prototype),Error.captureStackTrace?Error.captureStackTrace(n,WrappingError):n.stack=(new Error).stack,n}return n.__extends(WrappingError,e),WrappingError.formatMessage=function(e,t){var r=t?t.message:void 0;return e+(r?": \n"+r:"")},WrappingError}(Error);t.WrappingError=i},972:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(19),i=r(43),o=function(){function BatchedPool(e){var t=this,r=e.batchSize,o=void 0===r?100:r,a=e.delayIntervalMs,s=void 0===a?20:a;this.batchSize=o;var u=n.stream((function(e){t.emitter=e}));this.bufferedStream=u.bufferWithTimeOrCount(s,o).filter((function(e){return e.length>0})).flatMap((function(t){var r=i.Set(t);return e.fetch(r).map((function(e){return{inputs:r,batch:e}})).flatMapErrors((function(e){return n.constant({inputs:r,error:e})}))})).onEnd((function(){}))}return BatchedPool.prototype.query=function(e){return this.emitter.emit(e),this.bufferedStream.filter((function(t){return t.inputs.has(e)})).flatMap((function(t){return t.batch?n.constant(t.batch.get(e)):n.constantError(t.error)})).take(1).takeErrors(1).toProperty()},BatchedPool}();t.BatchedPool=o},974:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(16),i=r(217);t.GenericFunctions={ifCond:function(e,t,r,n){return function checkCondition(e,t,r){switch(t){case"==":return e==r;case"===":return e===r;case"!==":return e!==r;case"<":return e<r;case"<=":return e<=r;case">":return e>r;case">=":return e>=r;case"&&":return e&&r;case"||":return e||r;default:return!1}}(e,t,r)?n.fn(this):n.inverse(this)},switch:function(e,t){this.switchValue=e,this.switchBreak=!1;var r=t.fn(this);return delete this.switchBreak,delete this.switchValue,r},case:function(e){var t=Array.prototype.slice.call(arguments),r=t.pop();return this.switchBreak||-1===t.indexOf(this.switchValue)?"":(!0===r.hash.break&&(this.switchBreak=!0),r.fn(this))},default:function(e){if(!this.switchBreak)return e.fn(this)},objectLength:function(e){return Object.keys(e).length},raw:function(e){return e.fn(this)},getValueByKey:function(e,t,r){for(var _loop_1=function(r){var i=n.find(e,(function(e){return e.key===t[r]}));if(i)return{value:i.value}},i=0;i<t.length;i++){var o=_loop_1(i);if("object"==typeof o)return o.value}return r},hasKey:function(e,t){return!!n.some(e,(function(e){return e===t}))||void 0},stringify:function(e){return JSON.stringify(e)},uuid:function(){return i.v4()}}},976:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(10);t.DateTimeFunctions={dateTimeFormat:function(e,t,r){return null==e?"":("string"!=typeof t&&(t="LL"),"string"!=typeof r&&(r=void 0),n(e,r).format(t))},currentDateTime:function(e){return"string"!=typeof e&&(e="DD.MM.YYYY HH:mm:ss.SSS"),n().format(e)}}},977:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.RdfFunctions={isIri:function(e){return e.isIri()},isBnode:function(e){return e.isBnode()},isLiteral:function(e){return e.isLiteral()}}},978:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.UriComponentFunctions={encodeUriComponent:function(e){return encodeURIComponent(e)},decodeUriComponent:function(e){return decodeURIComponent(e)}}},979:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.NumbersFunctions={ceil:function(e){return Math.ceil(e)},floor:function(e){return Math.floor(e)},round:function(e){return Math.round(e)},toFixed:function(e,t){return Number(e).toFixed(t)}}},980:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(11),i=r(34),o=r(23),a=r(525),s=r(272),u=r(522),EMPTY_TEMPLATE=function(){return""},l=function(){function TemplateScope(e,t,r,n){var i=this;for(var a in this.helpers=e,this.scopeTrace=t,this.handlebars=u.createHandlebarsWithIRILookup(),this.loadByReference=function(e){return i.partials.has(e)?Promise.resolve(i.partials.get(e)):u.isRemoteReference(e)?TemplateScope._fetchRemoteTemplate(o.Rdf.iri(e)):Promise.resolve(null)},this.compiledCache=n||new Map,e)e.hasOwnProperty(a)&&this.handlebars.registerHelper(a,e[a]);this.partials=r||new Map,this.partials.forEach((function(e,t){i.handlebars.registerPartial(t,e.ast)}))}return TemplateScope.prototype.clearCache=function(){this.compiledCache.clear()},TemplateScope.prototype.getPartial=function(e){return this.partials.get(e)},TemplateScope.builder=function(e){void 0===e&&(e={});var t=n.__assign(n.__assign({},a.DefaultHelpers),e.helpers);return new c(e,(function(r){return new TemplateScope(t,e.scopeTrace,r)}))},TemplateScope.create=function(e){return void 0===e&&(e={}),TemplateScope.builder(e).build()},TemplateScope.prototype.exportProps=function(){var e={};return this.partials.forEach((function(t,r){return e[r]=t.source})),{partials:e}},TemplateScope.prototype.compile=function(e){var t=this;if(null==e)return Promise.resolve(EMPTY_TEMPLATE);var r=this.compiledCache.get(e);return r?Promise.resolve(r):this.resolve(e).then((function(r){var withParentContext=function(e,t){var n,i=void 0===t?{}:t,o=i.capturer,s=i.parentContext;return r(e,{data:(n={},n[a.ContextCapturer.DATA_KEY]=o,n[a.CapturedContext.DATA_KEY]=s,n)})};return t.compiledCache.set(e,withParentContext),withParentContext}))},TemplateScope.prototype.compileWithoutRemote=function(e){if(null==e)return EMPTY_TEMPLATE;var t=this.compiledCache.get(e);if(t)return t;var r=this.handlebars.compile(e),withParentContext=function(e,t){var n,i=void 0===t?{}:t,o=i.capturer,s=i.parentContext;return r(e,{data:(n={},n[a.ContextCapturer.DATA_KEY]=o,n[a.CapturedContext.DATA_KEY]=s,n)})};return this.compiledCache.set(e,withParentContext),withParentContext},TemplateScope.prototype.resolve=function(e){var t=this;return Promise.resolve(e).then(u.parseTemplate).then((function(e){var r=new Map;return function recursiveResolve(e,t,r){return n.__awaiter(this,void 0,Promise,(function(){var o,a,s,u,l,c,p,f,d,m,y,g,v;return n.__generator(this,(function(n){switch(n.label){case 0:return[4,Promise.resolve(e)];case 1:for(n.sent(),o=e.references.filter((function(e){return!t.has(e)})),a=0,s=o;a<s.length;a++)g=s[a],t.set(g,null);u=[],l=0,c=o,n.label=2;case 2:return l<c.length?(g=c[l],[4,r(g)]):[3,5];case 3:null!=(p=n.sent())?u.push({reference:g,template:p}):t.delete(g),n.label=4;case 4:return l++,[3,2];case 5:return[4,Promise.all(u)];case 6:for(f=n.sent(),d=0,m=f;d<m.length;d++)y=m[d],g=y.reference,v=y.template,t.set(g,v);return[2,Promise.all(f.map((function(e){var n=e.reference,o=e.template;return recursiveResolve(o,t,r).catch((function(e){throw new i.WrappingError("Error while resolving dependencies of template '"+n+"'",e)}))})))]}}))}))}(e,r,t.loadByReference).then((function(){r.forEach((function(e,r){t.partials.has(r)||t.handlebars.registerPartial(r,e.ast)}))})).then((function(){return t.handlebars.compile(e.ast)}))}))},TemplateScope.default=new TemplateScope(a.DefaultHelpers,null,null,s.defaultContextCache),TemplateScope._fetchRemoteTemplate=u.fetchRemoteTemplate,TemplateScope}();t.TemplateScope=l;var c=function(){function TemplateScopeBuilder(e,t){this.createScope=t,this.partials=new Map;var r=e.partials,n=void 0===r?{}:r;for(var i in n)if(n.hasOwnProperty(i)){var o=n[i];"string"==typeof o&&this.registerPartial(i,o)}}return TemplateScopeBuilder.prototype.registerPartial=function(e,t){if(this.partials.has(e))throw new Error("Template partial '"+e+"' already registered");var r="string"==typeof t?u.parseTemplate(t):t;return this.partials.set(e,r),this},TemplateScopeBuilder.prototype.build=function(){return this.createScope(this.partials)},TemplateScopeBuilder}();t.TemplateScopeBuilder=c}}]);
//# sourceMappingURL=api-b74e49d933e85f64c059.js.map