<!-- To enable source icons, simply add showSourceIcon="true" -->
{{#if noData}}
<div id="rsbv" class="table-responsive rs-table">
  <table class="table table-hover">
    <tbody>
      <tr>
        <td>No data available</td>
        <td></td>
      </tr>
    </tbody>
  </table>
</div>
{{else}}
<div id="rsbv" class="table-responsive rs-table">
  <table class="table table-hover">
    [[#if showSourceIcon]]
    <thead role="header">
      <td class="rs-page-resource__field-label-holder">
        <span class="rs-page-resource__field-label">
          {{field.label.0.value}}
        </span>
      </td>
      <table class="table table-hover">
        <tbody>
          <tr>
            <td>
              <span class="rs-page-resource__field-value">
                <div class="visualizationValue"></div>
              </span>
            </td>
            <td class="multiValueTd">
              <b style="margin-right: 5px">Information Source</b>
            </td>
          </tr>
        </tbody>
      </table>
    </thead>
    [[/if]]
    <tbody>
      {{#each fields as |field|}} 
      {{#if field.values}}
      {{#ifCond (objectLength field.values) '===' 1}}
      [[#if showSourceIcon]]
      {{#if ../selectedTab}}
          {{#ifCond ../selectedTab "!==" "All" }}
            {{#ifCond ../selectedTab "!==" field.values.0.binding.providerLabel.value }}
              <div class="hide-next-row">hiding next row</div>
            {{/ifCond}}
          {{/ifCond}}
      {{/if}}
      [[/if]]
        <tr class="rs-page-resource__field">
          <td class="rs-page-resource__field-label-holder headLine">
            <span class="rs-page-resource__field-label">
              {{field.label.0.value}}
            </span>
          </td>

          <table class="table table-hover">
            <tbody>
              [[#if showSourceIcon]]
                <tr>
                  <td>
                    {{#each field.values as |value|}}
                      <span class="rs-page-resource__field-value"
                        >{{> :ResourceFieldValueVisualization field=field
                        value=value }}
                      </span>
                    {{/each}}
                  </td>
                  <td class="center createAssertion">
                    <div
                      title="Create an annotation or assertion"
                      class="rs-page__count--field-annotation"
                    >
                      <semantic-link
                        iri="http://www.researchspace.org/resource/Field"
                        urlqueryparam-tab="assertions"
                        urlqueryparam-field="{{field.iri}}"
                        urlqueryparam-subject="[[this]]"
                      >
                        <i
                          class="fa fa-plus"
                          title="Create an annotation or assertion"
                          ></i
                        >
                      </semantic-link>
                    </div>
                  </td>
                  <td class="sourceIcon-badge">
                    <div class="sourceIcons">
                      {{#each field.values as |value|}} [[> :SourceIcon ]]
                      {{/each}}
                    </div>
                  </td>

                </tr>
              [[else]]
              <tr>
                <td>
                  {{#each field.values as |value|}}
                    <span class="rs-page-resource__field-value"
                      >{{> :ResourceFieldValueVisualization field=field
                      value=value }}
                    </span>
                  {{/each}}
                </td>
              </tr>
              [[/if]]
            </tbody>
          </table>
          </tr>
       {{/ifCond}}

       {{#ifCond (objectLength field.values) '>' 1}}
       [[#if showSourceIcon]]
       {{#each field.values as |value|}}
        {{#if ../../selectedTab}}
          {{#ifCond ../../selectedTab "!==" "All" }}
            {{#ifCond ../../selectedTab "!==" value.binding.providerLabel.value }}
              <div class="hide-next-row">hiding next row</div>
            {{/ifCond}}
          {{/ifCond}}
        {{/if}}
       {{/each}}
       {{#each field.values as |value|}}
        {{#if ../../selectedTab}}
          {{#ifCond ../../selectedTab "!==" "All" }}
            {{#ifCond ../../selectedTab "===" value.binding.providerLabel.value }}
              <div class="no-hide-next-row">no hiding next row</div>
            {{/ifCond}}
          {{/ifCond}}
        {{/if}}
       {{/each}}
       [[/if]]
       <tr class="rs-page-resource__field">
        <td class="rs-page-resource__field-label-holder headLine">
          <span class="rs-page-resource__field-label">
            {{field.label.0.value}}
          </span>
        </td>
        <table class="table table-hover">
          <tbody>
            {{#each field.values as |value|}}
            [[#if showSourceIcon]]
            {{#if ../../selectedTab}}
              {{#ifCond ../../selectedTab "!==" "All" }}
                {{#ifCond ../../selectedTab "!==" value.binding.providerLabel.value }}
                  <div class="hide-next-row">hiding next row</div>
                {{/ifCond}}
              {{/ifCond}}
            {{/if}} 
            <tr class="rs-page-resource__field">
              <td class="multivalueTd rs-page-resource__field">
                <div style="display: flex; flex-direction: column">
                  <td>
                    <span class="rs-page-resource__field-value"
                      >{{> :ResourceFieldValueVisualization field=field
                      value=value }}
                    </span>
                  </td>
                </div>
              </td>
              <td class="center createAssertion">
                <div
                  title="Create an annotation or assertion"
                  class="rs-page__count--field-annotation"
                >
                  <semantic-link
                    iri="http://www.researchspace.org/resource/Field"
                    urlqueryparam-tab="assertions"
                    urlqueryparam-field="{{field.iri}}"
                    urlqueryparam-subject="[[this]]"
                  >
                    <i
                      class="fa fa-plus"
                      title="Create an annotation or assertion"
                      ></i
                    >
                  </semantic-link>
                </div>
              </td>
              <td>
                <div class="sourceIcons">[[> :SourceIcon ]]</div>
              </td>
            </tr>
            [[else]]
            <tr class="rs-page-resource__field">
              <td class="multivalueTd rs-page-resource__field">
                <div style="display: flex; flex-direction: column">
                  <td>
                    <span class="rs-page-resource__field-value"
                      >{{> :ResourceFieldValueVisualization field=field
                      value=value }}
                    </span>
                  </td>
                </div>
              </td>
            </tr>
            [[/if]]


            {{/each}}
          </tbody>
        </table>
        {{/ifCond}}
      </tr>
      {{/if}} 
      
      {{/each}}
    </tbody>
  </table>
</div>
{{/if}}
